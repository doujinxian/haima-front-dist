"use strict";var haimaApp=angular.module("haimaApp",["ngTouch","ngCookies","ngResource","ngSanitize","angular-md5","angular-confirm","pascalprecht.translate","ngFileUpload","cgBusy","angularPromiseButtons","LocalStorageModule","ui.router","ui.bootstrap","ui.select","ui.grid","ui.grid.resizeColumns","ui.grid.exporter","ui.grid.selection","ui.grid.autoResize","ui.grid.pagination","ui.grid.edit","ui.grid.pinning","crmApp"]),crmApp=angular.module("crmApp",["ngTouch","ngCookies","ngResource","ngSanitize","angular-confirm","pascalprecht.translate","ngFileUpload","angularPromiseButtons","cgBusy","ui.router","ui.bootstrap","ui.select","ui.grid","ui.grid.resizeColumns","ui.grid.exporter","ui.grid.selection","ui.grid.autoResize","ui.grid.pagination"]);haimaApp.run(["$rootScope","$state","$stateParams","$location","$window","userService","localStorageService","i18nService","HAIMA_END_POINT",function(a,b,c,d,e,f,g,h,i){a.$state=b,a.$stateParams=c,a.systemAlert=[],a.mainAlert=[],a.selectMenu={},a.menuPromise={},a.tempParam={},h.setCurrentLang("zh-cn"),a.$on("$stateChangeStart",function(a,b){}),a.$on("$stateNotFound",function(a,b){})}]),angular.module("haimaApp").config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("login"),a.state("login",{url:"/login",templateUrl:"views/index/login.html",controller:"LoginCtrl"}).state("main",{url:"/",templateUrl:"views/main.html",controller:"MainCtrl",data:{requiresAuth:!0}}).state("main.welcome",{url:"welcome",templateUrl:"views/welcome.html",controller:"WelcomeCtrl"}).state("main.query",{url:"index/query?p",templateUrl:"views/index/query.html"}).state("main.search",{url:"search","abstract":!0}).state("main.search.customerCar",{url:"/customer-car",views:{"@main":{templateUrl:"views/crm/search/customer-car.html",controller:"customerCarCtrl"}}}).state("main.search.customerInfo",{url:"/customer-info/:customerCarId",views:{"@main":{templateUrl:"views/crm/search/customer-info.html",controller:"customerInfoCtrl"}}}).state("main.search.repairMaint",{url:"/repair-maint",views:{"@main":{templateUrl:"views/crm/search/repair-maint.html",controller:"repairMaintCtrl"}}}).state("main.complaint",{url:"complaint","abstract":!0}).state("main.maintenance",{url:"maintenance","abstract":!0}).state("main.basicinfor",{url:"basicinfor","abstract":!0}).state("main.complaint.reply4sDelayApply",{url:"/reply-4s-delay-apply",views:{"@main":{templateUrl:"views/crm/complaint/reply-4s-delay-apply.html",controller:"reply4sDelayApplyCtrl"}}}).state("main.complaint.complaintQuery",{url:"/complaint-query",views:{"@main":{templateUrl:"views/crm/complaint/complaint-query.html",controller:"complaintQueryCtrl"}}}).state("main.complaint.applyDelayCondition",{url:"/apply-delay-condition",views:{"@main":{templateUrl:"views/crm/complaint/apply-delay-condition.html",controller:"applyDelayConditionCtrl"}}}).state("main.complaint.complaintCount",{url:"/complaint-count",views:{"@main":{templateUrl:"views/crm/complaint/complaint-count.html",controller:"complaintCountCtrl"}}}).state("main.complaint.complaintRespond",{url:"/complaint-respond",views:{"@main":{templateUrl:"views/crm/complaint/complaint-respond.html",controller:"complaintRespondCtrl"}}}).state("main.complaint.complaintform",{url:"/complaint-form",views:{"@main":{templateUrl:"views/crm/complaint/complaint-form.html",controller:"ComplaintFormCtrl"}}}).state("main.complaint.newComplaint",{url:"/complaint/:id?:operate",views:{"@main":{templateUrl:"views/crm/complaint/complaint-new.html",controller:"newComplaintCtrl"}}}).state("main.complaint.print",{url:"/complaint/print/:id",views:{"@main":{templateUrl:"views/crm/complaint/complaint-print.html",controller:"complaintPrintCtrl"}}}).state("main.complaint.history",{url:"/complaint-history/:complaintId/:vin",views:{"@main":{templateUrl:"views/crm/complaint/complaint-history.html",controller:"ComplaintHistoryCtrl"}}}).state("main.complaint.complaintdelayedapplication",{url:"/complaint-delayed-application",views:{"@main":{templateUrl:"views/crm/complaint/complaint-delayed-application.html",controller:"ComplaintDelayedApplicationCtrl"}}}).state("main.complaint.management",{url:"/management?:vin",views:{"@main":{templateUrl:"views/crm/complaint/management.html",controller:"ManagementCtrl"}}}).state("main.complaint.complaintsatisfaction",{url:"/complaint-satisfaction",views:{"@main":{templateUrl:"views/crm/complaint/complaint-satisfaction.html",controller:"ComplaintSatisfactionCtrl"}}})}]),String.prototype.equals=function(a){var b=!1;return(this===a||this+""==a+"")&&(b=!0),b},String.prototype.notEquals=function(a){var b=!1;return this+""!=a+""&&(b=!0),b},!function(a){a.expr[":"].icontains=function(b,c,d){return a(b).text().toUpperCase().indexOf(d[3].toUpperCase())>=0};var b=function(c,d,e){e&&(e.stopPropagation(),e.preventDefault()),this.$element=a(c),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=a.extend({},a.fn.selectpicker.defaults,this.$element.data(),"object"==typeof d&&d),null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=b.prototype.val,this.render=b.prototype.render,this.refresh=b.prototype.refresh,this.setStyle=b.prototype.setStyle,this.selectAll=b.prototype.selectAll,this.deselectAll=b.prototype.deselectAll,this.init()};b.prototype={constructor:b,init:function(){var b=this,c=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),void 0!==c&&(this.$button.attr("data-id",c),a('label[for="'+c+'"]').click(function(a){a.preventDefault(),b.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this)},createDropdown:function(){var b=this.multiple?" show-tick":"",c=this.autofocus?" autofocus":"",d=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",e=this.options.liveSearch?'<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" /></div>':"",f='<div class="btn-group bootstrap-select'+b+'"><button type="button" class="btn dropdown-toggle selectpicker" data-toggle="dropdown"'+c+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+d+e+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>';return a(f)},createView:function(){var a=this.createDropdown(),b=this.createLi();return a.find("ul").append(b),a},reloadLi:function(){this.destroyLi();var a=this.createLi();this.$menu.find("ul").append(a)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var b=this,c=[],d="";return this.$element.find("option").each(function(){var d=a(this),e=d.attr("class")||"",f=d.attr("style")||"",g=d.data("content")?d.data("content"):d.html(),h=void 0!==d.data("subtext")?'<small class="muted text-muted">'+d.data("subtext")+"</small>":"",i=void 0!==d.data("icon")?'<i class="'+b.options.iconBase+" "+d.data("icon")+'"></i> ':"";if(""!==i&&(d.is(":disabled")||d.parent().is(":disabled"))&&(i="<span>"+i+"</span>"),d.data("content")||(g=i+'<span class="text">'+g+h+"</span>"),b.options.hideDisabled&&(d.is(":disabled")||d.parent().is(":disabled")))c.push('<a style="min-height: 0; padding: 0"></a>');else if(d.parent().is("optgroup")&&d.data("divider")!==!0)if(0===d.index()){var j=d.parent().attr("label"),k=void 0!==d.parent().data("subtext")?'<small class="muted text-muted">'+d.parent().data("subtext")+"</small>":"",l=d.parent().data("icon")?'<i class="'+d.parent().data("icon")+'"></i> ':"";j=l+'<span class="text">'+j+k+"</span>",0!==d[0].index?c.push('<div class="div-contain"><div class="divider"></div></div><dt>'+j+"</dt>"+b.createA(g,"opt "+e,f)):c.push("<dt>"+j+"</dt>"+b.createA(g,"opt "+e,f))}else c.push(b.createA(g,"opt "+e,f));else d.data("divider")===!0?c.push('<div class="div-contain"><div class="divider"></div></div>'):a(this).data("hidden")===!0?c.push(""):c.push(b.createA(g,e,f))}),a.each(c,function(a,b){d+="<li rel="+a+">"+b+"</li>"}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),a(d)},createA:function(a,b,c){return'<a tabindex="0" class="'+b+'" style="'+c+'">'+a+'<i class="'+this.options.iconBase+" "+this.options.tickIcon+' icon-ok check-mark"></i></a>'},render:function(b){var c=this;b!==!1&&this.$element.find("option").each(function(b){c.setDisabled(b,a(this).is(":disabled")||a(this).parent().is(":disabled")),c.setSelected(b,a(this).is(":selected"))}),this.tabIndex();var d=this.$element.find("option:selected").map(function(){var b,d=a(this),e=d.data("icon")&&c.options.showIcon?'<i class="'+c.options.iconBase+" "+d.data("icon")+'"></i> ':"";return b=c.options.showSubtext&&d.attr("data-subtext")&&!c.multiple?' <small class="muted text-muted">'+d.data("subtext")+"</small>":"",d.data("content")&&c.options.showContent?d.data("content"):void 0!==d.attr("title")?d.attr("title"):e+d.html()+b}).toArray(),e=this.multiple?d.join(this.options.multipleSeparator):d[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var f=this.options.selectedTextFormat.split(">"),g=this.options.hideDisabled?":not([disabled])":"";(f.length>1&&d.length>f[1]||1==f.length&&d.length>=2)&&(e=this.options.countSelectedText.replace("{0}",d.length).replace("{1}",this.$element.find('option:not([data-divider="true"]):not([data-hidden="true"])'+g).length))}e||(e=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",a.trim(e)),this.$newElement.find(".filter-option").html(e)},setStyle:function(a,b){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device/gi,""));var c=a?a:this.options.style;"add"==b?this.$button.addClass(c):"remove"==b?this.$button.removeClass(c):(this.$button.removeClass(this.options.style),this.$button.addClass(c))},liHeight:function(){var a=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),b=a.addClass("open").find("> .dropdown-menu"),c=b.find("li > a").outerHeight(),d=this.options.header?b.find(".popover-title").outerHeight():0,e=this.options.liveSearch?b.find(".bootstrap-select-searchbox").outerHeight():0;a.remove(),this.$newElement.data("liHeight",c).data("headerHeight",d).data("searchHeight",e)},setSize:function(){var b,c,d,e=this,f=this.$menu,g=f.find(".inner"),h=this.$newElement.outerHeight(),i=this.$newElement.data("liHeight"),j=this.$newElement.data("headerHeight"),k=this.$newElement.data("searchHeight"),l=f.find("li .divider").outerHeight(!0),m=parseInt(f.css("padding-top"))+parseInt(f.css("padding-bottom"))+parseInt(f.css("border-top-width"))+parseInt(f.css("border-bottom-width")),n=this.options.hideDisabled?":not(.disabled)":"",o=a(window),p=m+parseInt(f.css("margin-top"))+parseInt(f.css("margin-bottom"))+2,q=function(){c=e.$newElement.offset().top-o.scrollTop(),d=o.height()-c-h};if(q(),this.options.header&&f.css("padding-top",0),"auto"==this.options.size){var r=function(){var a;q(),b=d-p,e.options.dropupAuto&&e.$newElement.toggleClass("dropup",c>d&&b-p<f.height()),e.$newElement.hasClass("dropup")&&(b=c-p),a=f.find("li").length+f.find("dt").length>3?3*i+p-2:0,f.css({"max-height":b+"px",overflow:"hidden","min-height":a+"px"}),g.css({"max-height":b-j-k-m+"px","overflow-y":"auto","min-height":a-m+"px"})};r(),a(window).resize(r),a(window).scroll(r)}else if(this.options.size&&"auto"!=this.options.size&&f.find("li"+n).length>this.options.size){var s=f.find("li"+n+" > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index(),t=f.find("li").slice(0,s+1).find(".div-contain").length;b=i*this.options.size+t*l+m,e.options.dropupAuto&&this.$newElement.toggleClass("dropup",c>d&&b<f.height()),f.css({"max-height":b+j+k+"px",overflow:"hidden"}),g.css({"max-height":b-m+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var a=this.$newElement.clone().appendTo("body"),b=a.find("> .dropdown-menu").css("width");a.remove(),this.$newElement.css("width",b)}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var b,c,d=this,e="<div />",f=a(e),g=function(a){f.addClass(a.attr("class")).toggleClass("dropup",a.hasClass("dropup")),b=a.offset(),c=a.hasClass("dropup")?0:a[0].offsetHeight,f.css({top:b.top+c,left:b.left,width:a[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){g(a(this)),f.appendTo(d.options.container),f.toggleClass("open",!a(this).hasClass("open")),f.append(d.$menu)}),a(window).resize(function(){g(d.$newElement)}),a(window).on("scroll",function(){g(d.$newElement)}),a("html").on("click",function(b){a(b.target).closest(d.$newElement).length<1&&f.removeClass("open")})},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},setSelected:function(b,c){null==this.$lis&&(this.$lis=this.$menu.find("li")),a(this.$lis[b]).toggleClass("selected",c)},setDisabled:function(b,c){null==this.$lis&&(this.$lis=this.$menu.find("li")),c?a(this.$lis[b]).addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):a(this.$lis[b]).removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var a=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!a.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var b=this;a("body").on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()}),this.$newElement.on("click",function(){b.setSize(),b.options.liveSearch||b.multiple||setTimeout(function(){b.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(c){var d=a(this).parent().index(),e=b.$element.val(),f=b.$element.prop("selectedIndex");if(b.multiple&&c.stopPropagation(),c.preventDefault(),!b.isDisabled()&&!a(this).parent().hasClass("disabled")){var g=b.$element.find("option"),h=g.eq(d),i=h.prop("selected");b.multiple?(h.prop("selected",!i),b.setSelected(d,!i)):(g.prop("selected",!1),h.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(d,!0)),b.multiple?b.options.liveSearch&&b.$searchbox.focus():b.$button.focus(),(e!=b.$element.val()&&b.multiple||f!=b.$element.prop("selectedIndex")&&!b.multiple)&&b.$element.change()}}),this.$menu.on("click","li.disabled a, li dt, li .div-contain, .popover-title, .popover-title :not(.close)",function(a){a.target==this&&(a.preventDefault(),a.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus())}),this.$menu.on("click",".popover-title .close",function(){b.$button.focus()}),this.$searchbox.on("click",function(a){a.stopPropagation()}),this.$element.change(function(){b.render(!1)})},liveSearchListener:function(){var b=this,c=a('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api",function(){b.$menu.find(".active").removeClass("active"),b.$searchbox.val()&&(b.$searchbox.val(""),b.$menu.find("li").show(),c.parent().length&&c.remove()),b.multiple||b.$menu.find(".selected").addClass("active"),setTimeout(function(){b.$searchbox.focus()},10)}),this.$searchbox.on("input propertychange",function(){b.$searchbox.val()?(b.$menu.find("li").show().not(":icontains("+b.$searchbox.val()+")").hide(),b.$menu.find("li").filter(":visible:not(.no-results)").length?c.parent().length&&c.remove():(c.parent().length&&c.remove(),c.html(b.options.noneResultsText+' "'+b.$searchbox.val()+'"').show(),b.$menu.find("li").last().after(c))):(b.$menu.find("li").show(),c.parent().length&&c.remove()),b.$menu.find("li.active").removeClass("active"),b.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),a(this).focus()}),this.$menu.on("mouseenter","a",function(c){b.$menu.find(".active").removeClass("active"),a(c.currentTarget).parent().not(".disabled").addClass("active")}),this.$menu.on("mouseleave","a",function(){b.$menu.find(".active").removeClass("active")})},val:function(a){return void 0!==a?(this.$element.val(a),this.$element.change(),this.$element):this.$element.val()},selectAll:function(){this.$element.find("option").prop("selected",!0).attr("selected","selected"),this.render()},deselectAll:function(){this.$element.find("option").prop("selected",!1).removeAttr("selected"),this.render()},keydown:function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(c=a(this),e=c.parent(),c.is("input")&&(e=c.parent().parent()),l=e.data("this"),l.options.liveSearch&&(e=c.parent().parent()),l.options.container&&(e=l.$menu),d=a("[role=menu] li:not(.divider) a",e),n=l.$menu.parent().hasClass("open"),l.options.liveSearch&&(/(^9$|27)/.test(b.keyCode)&&n&&0===l.$menu.find(".active").length&&(b.preventDefault(),l.$menu.parent().removeClass("open"),l.$button.focus()),d=a("[role=menu] li:not(.divider):visible",e),c.val()||/(38|40)/.test(b.keyCode)||0===d.filter(".active").length&&(d=l.$newElement.find("li").filter(":icontains("+o[b.keyCode]+")"))),d.length){if(/(38|40)/.test(b.keyCode))n||l.$menu.parent().addClass("open"),f=d.index(d.filter(":focus")),h=d.parent(":not(.disabled):visible").first().index(),i=d.parent(":not(.disabled):visible").last().index(),g=d.eq(f).parent().nextAll(":not(.disabled):visible").eq(0).index(),j=d.eq(f).parent().prevAll(":not(.disabled):visible").eq(0).index(),k=d.eq(g).parent().prevAll(":not(.disabled):visible").eq(0).index(),l.options.liveSearch&&(d.each(function(b){a(this).is(":not(.disabled)")&&a(this).data("index",b)}),f=d.index(d.filter(".active")),h=d.filter(":not(.disabled):visible").first().data("index"),i=d.filter(":not(.disabled):visible").last().data("index"),g=d.eq(f).nextAll(":not(.disabled):visible").eq(0).data("index"),j=d.eq(f).prevAll(":not(.disabled):visible").eq(0).data("index"),k=d.eq(g).prevAll(":not(.disabled):visible").eq(0).data("index")),m=c.data("prevIndex"),38==b.keyCode&&(l.options.liveSearch&&(f-=1),f!=k&&f>j&&(f=j),h>f&&(f=h),f==m&&(f=i)),40==b.keyCode&&(l.options.liveSearch&&(f+=1),-1==f&&(f=0),f!=k&&g>f&&(f=g),f>i&&(f=i),f==m&&(f=h)),c.data("prevIndex",f),l.options.liveSearch?(b.preventDefault(),c.is(".dropdown-toggle")||(d.removeClass("active"),d.eq(f).addClass("active").find("a").focus(),c.focus())):d.eq(f).focus();else if(!c.is("input")){var p,q,r=[];d.each(function(){a(this).parent().is(":not(.disabled)")&&a.trim(a(this).text().toLowerCase()).substring(0,1)==o[b.keyCode]&&r.push(a(this).parent().index())}),p=a(document).data("keycount"),p++,a(document).data("keycount",p),q=a.trim(a(":focus").text().toLowerCase()).substring(0,1),q!=o[b.keyCode]?(p=1,a(document).data("keycount",p)):p>=r.length&&(a(document).data("keycount",0),p>r.length&&(p=1)),d.eq(r[p-1]).focus()}/(13|32|^9$)/.test(b.keyCode)&&n&&(/(32)/.test(b.keyCode)||b.preventDefault(),l.options.liveSearch?/(32)/.test(b.keyCode)||(l.$menu.find(".active a").click(),c.focus()):a(":focus").click(),a(document).data("keycount",0)),(/(^9$|27)/.test(b.keyCode)&&n&&(l.multiple||l.options.liveSearch)||/(27)/.test(b.keyCode)&&!n)&&(l.$menu.parent().removeClass("open"),l.$button.focus())}},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},destroy:function(){this.$newElement.remove(),this.$element.remove()}},a.fn.selectpicker=function(c,d){var e,f=arguments,g=this.each(function(){if(a(this).is("select")){var g=a(this),h=g.data("selectpicker"),i="object"==typeof c&&c;if(h){if(i)for(var j in i)h.options[j]=i[j]}else g.data("selectpicker",h=new b(this,i,d));if("string"==typeof c){var k=c;h[k]instanceof Function?([].shift.apply(f),e=h[k].apply(h,f)):e=h.options[k]}}});return void 0!==e?e:g},a.fn.selectpicker.defaults={style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:"{0} of {1} selected",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,multipleSeparator:", ",iconBase:"glyphicon",tickIcon:"glyphicon-ok"},a(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",b.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",function(a){a.stopPropagation()})}(window.jQuery),function(){angular.module("haimaApp").directive("bsSwitch",["$parse","$timeout",function(a,b){return{restrict:"A",require:"ngModel",link:function(c,d,e,f){var g=!1,h=function(){if("radio"===e.type)return e.value||a(e.ngValue)(c)||!0;var b=a(e.ngTrueValue)(c);return angular.isUndefined(b)&&(b=!0),b},i=function(a){return c.$eval(a)===!0},j=function(a){return a===!0||"true"===a||!a},k=function(a){return a?a:void 0},l=function(a){return angular.isUndefined(a)?angular.noop:function(){c.$evalAsync(a)}},m=function(a){var b={switchRadioOff:j,switchActive:function(a){return!j(a)},switchAnimate:j,switchLabel:function(a){return a?a:"&nbsp;"},switchIcon:function(a){return a?"<span class='"+a+"'></span>":void 0},switchWrapper:function(a){return a||"wrapper"},switchInverse:i,switchReadonly:i,switchChange:l},c=b[a]||k;return c(e[a])},n=function(a,b,c){if(g){var d=m(c);a.bootstrapSwitch(b,d)}},o=function(){n(d,"disabled","switchActive")},p=function(){if(!g){var a=f.$modelValue===h();g=!g,d.bootstrapSwitch({radioAllOff:m("switchRadioOff"),disabled:m("switchActive"),state:a,onText:m("switchOnText"),offText:m("switchOffText"),onColor:m("switchOnColor"),offColor:m("switchOffColor"),animate:m("switchAnimate"),size:m("switchSize"),labelText:m(e.switchLabel?"switchLabel":"switchIcon"),wrapperClass:m("switchWrapper"),handleWidth:m("switchHandleWidth"),labelWidth:m("switchLabelWidth"),inverse:m("switchInverse"),readonly:m("switchReadonly")}),"radio"===e.type?f.$setViewValue(f.$modelValue):f.$setViewValue(a)}},q=m("switchChange"),r=function(){e.$observe("switchActive",function(a){var c=j(a);c?o():b(o)}),f.$render=function(){p();var a=m("switchActive");a&&d.bootstrapSwitch("disabled",!1);var b=f.$modelValue;void 0!==b&&null!==b?d.bootstrapSwitch("state",b===h(),!0):(d.bootstrapSwitch("indeterminate",!0,!0),f.$setViewValue(void 0)),b?d.bootstrapSwitch("state",!0,!0):d.bootstrapSwitch("state",!1,!0),a&&o(),q()};var a={switchRadioOff:"radioAllOff",switchOnText:"onText",switchOffText:"offText",switchOnColor:"onColor",switchOffColor:"offColor",switchAnimate:"animate",switchSize:"size",switchLabel:"labelText",switchIcon:"labelText",switchWrapper:"wrapperClass",switchHandleWidth:"handleWidth",switchLabelWidth:"labelWidth",switchInverse:"inverse",switchReadonly:"readonly"},c=function(a,b){return function(){e.$observe(a,function(){n(d,b[a],a)})}};for(var g in a)e.$observe(g,c(g,a))},s=function(){"radio"===e.type?d.on("change.bootstrapSwitch",function(a){f.$modelValue===f.$viewValue&&a.target.checked!==$(a.target).bootstrapSwitch("state")&&(a.target.checked?f.$setViewValue(h()):h()===f.$viewValue&&f.$setViewValue(void 0),q())}):d.on("switchChange.bootstrapSwitch",function(a){f.$setViewValue(a.target.checked),q()})};s(),r(),c.$on("$destroy",function(){d.bootstrapSwitch("destroy")})}}}]).directive("bsSwitch",function(){return{restrict:"E",require:"ngModel",template:"<input bs-switch>",replace:!0}})}(),angular.module("haimaApp").factory("CommonGridOperate",["$confirm","Util",function(a,b){return function(){var c={};return c.clearMainform=function(){for(var a in this.main)this.main[a]=""},c.clearGridData=function(){for(var a in this.data)this.data[a]=[]},c.selectGridData=function(a,b){for(var c=0;c<b.length;c++)c===a?b[c].isSelect=!b[c].isSelect:b[c].isSelect=!1},c.getSelectIndex=function(a){for(var b=-1,c=0;c<a.length;c++)a[c].isSelect&&(b=c);return b},c.deleteGridData=function(c){var d=this.getSelectIndex(c);if(d>=0){var e={};e.text="确认删除吗？",e.title="删除",a(e,{size:"sm"}).then(function(){c.splice(d,1)})}else b.putSysMsg("warning","2002")},c}}]),angular.module("haimaApp").factory("CommonModalSearch",["PAGE_CONST","Util",function(a,b){return function(c){var d={};return d.alerts=[],d.filter={},d.filterRules=[],d.grid={},d.grid.data=[],d.grid.rows=[],d.backendPage=1,d.currentPage=1,d.totalItems=0,d.numPerPage=a.pageList[1],d.numPerGet=c.numPerGet||a.numPerGet,d.pageList=a.pageList,d.formatData=function(a,b,c){if(this.grid.data=[],a){for(var d=0;d<a.length;d++)a[d].no=d+1+(b-1)*c;this.grid.data=a}},d.execFilter=function(a,b,c){c?13===c.keyCode&&(this.filterWatch[a]=b):this.filterWatch[a]=b},d.load=function(){for(var a in this.filter)this.execFilter(a,this.filter[a])},d.query=function(a){var d=1+(this.backendPage-1)*this.numPerGet/this.numPerPage,e=this.backendPage*this.numPerGet/this.numPerPage;!a&&this.grid.data.length>0&&this.currentPage>=d&&this.currentPage<=e?this.grid.rows=b.getCurrentPageData(this.grid.data,this.currentPage,this.backendPage,this.numPerPage,this.numPerGet):(a&&(this.currentPage=1),this.backendPage=Math.ceil(this.currentPage*this.numPerPage/this.numPerGet),c.getData())},d.clearFilter=function(a){this.filter[a]&&(this.filter[a]="",this.execFilter(a,this.filter[a]))},d.ok=function(){this.alerts=[];for(var a=0;a<this.grid.rows.length;a++)if(this.grid.rows[a].selected===!0)return this.$close(this.grid.rows[a]);b.putMsg(this.alerts,"warning","2002")},d.cancel=function(){this.$dismiss("cancel")},d.selectRow=function(a){b.selectOneRow(this.grid.rows,a)},d}}]),angular.module("haimaApp").constant("API_END_POINT",{url:"/pcms"}).constant("COMPLAINT_API_END_POINT",{url:"/ccms"}).constant("UMS_API_END_POINT",{url:"/ums2",ticket:"41b99d404b74f5f8bcaa224fa4e40135"}).constant("HAIMA_END_POINT",{url:"/"}).constant("TOKEN_NAME","moofunuser").constant("REGEX",{idCard:"^(\\d{15}|\\d{17}[\\d|X])$",number:"^\\d+$",nnInt:"^\\d+$",pInt:"^\\+?[1-9][0-9]*$",decimal1:"^\\d+(\\.\\d{1})?$",decimal2:"^\\d+(\\.\\d{1,2})?$",phone:"(^[0-9]{3,4}-[0-9]{7,8}$)|(^[0-9]{7,8}$)|(^([0-9]{3,4})[0-9]{3,8}$)|(^1[3|4|5|6|7|8|9]\\d{9}$)",mobile1:"^(\\+?\\d{2，4})?1[34578]\\d{9}$",mobile2:"^1[3|4|5|6|7|8|9]\\d{9}$",birthday:"^[12][0-9]{3}[01][0-9][0123][0-9]$",birthday2:"^\\d{8}$",tel:"^(\\+?\\d{2,4})?((\\d{3,4}\\-?)?\\d{7,8}|1[34578]\\d{9})$",vin:"^[A-Z0-9]{17}$",zipcode:"^\\d{6}$",email:"^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$"}).constant("PAGE_CONST",{numPerGet:150,max:9999,pageList:[5,10,15,25,50]}),angular.module("haimaApp").value("cgBusyDefaults",{message:"正在处理，请稍候...",backdrop:!1,templateUrl:"views/template/loading.html",delay:0,minDuration:0}).config(["angularPromiseButtonsProvider",function(a){a.extendConfig({spinnerTpl:'<span class="btn-spinner"><i class="fa fa-spin fa-spinner"></i></span>',disableBtn:!0,btnLoadingClass:"is-loading",addClassToCurrentBtnOnly:!1,disableCurrentBtnOnly:!1,minDuration:!1,CLICK_EVENT:"click",CLICK_ATTR:"ngClick",SUBMIT_EVENT:"submit",SUBMIT_ATTR:"ngSubmit"})}]).config(["$resourceProvider",function(a){a.defaults.actions={create:{method:"POST"},get:{method:"GET"},getAll:{method:"GET",isArray:!1},update:{method:"PUT"},"delete":{method:"DELETE"}}}]).config(["localStorageServiceProvider",function(a){a.setPrefix("haimaApp")}]),angular.module("angular-confirm",["ui.bootstrap.modal"]).controller("ConfirmModalController",["$scope","$uibModalInstance","data",function(a,b,c){a.data=angular.copy(c),a.ok=function(a){b.close(a)},a.cancel=function(a){angular.isUndefined(a)&&(a="cancel"),b.dismiss(a)}}]).value("$confirmModalDefaults",{template:'<div class="modal-header"><h4 class="modal-title">{{data.title}}</h4></div><div class="modal-body body-sm">{{data.text}}</div><div class="modal-footer"><button class="btn btn-sm btn-primary" ng-click="ok()">{{data.ok}}</button><button class="btn btn-sm btn-default" ng-click="cancel()">{{data.cancel}}</button></div>',controller:"ConfirmModalController",animation:!1,defaultLabels:{title:"确认框",ok:"确定",cancel:"取消"}}).factory("$confirm",["$uibModal","$confirmModalDefaults",function(a,b){return function(c,d){var e=angular.copy(b);return d=angular.extend(e,d||{}),c=angular.extend({},d.defaultLabels,c||{}),"templateUrl"in d&&"template"in d&&delete d.template,d.resolve={data:function(){return c}},a.open(d).result}}]).directive("confirm",["$confirm","$timeout",function(a,b){return{priority:1,restrict:"A",scope:{confirmIf:"=",ngClick:"&",confirm:"@",confirmSettings:"=",confirmTitle:"@",confirmOk:"@",confirmCancel:"@"},link:function(c,d){function e(){var a=d[0];if(-1!==["checkbox","radio"].indexOf(a.type)){var b=d.data("$ngModelController");b?(b.$setViewValue(!a.checked),b.$render()):a.checked=!a.checked}c.ngClick()}d.unbind("click").bind("click",function(d){d.preventDefault(),b(function(){if(angular.isUndefined(c.confirmIf)||c.confirmIf){var b={text:c.confirm};c.confirmTitle&&(b.title=c.confirmTitle),c.confirmOk&&(b.ok=c.confirmOk),c.confirmCancel&&(b.cancel=c.confirmCancel),a(b,c.confirmSettings||{}).then(e)}else c.$apply(e)})})}}}]),angular.module("haimaApp").directive("expander",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^?accordion",scope:{title:"=expanderTitle"},template:'<div><div class="title" ng-click="toggle()">{{title}}</div><div class="body" ng-show="showMe" ng-transclude></div></div>',link:function(a,b,c,d){a.showMe=!1,d.addExpander(a),a.toggle=function(){a.showMe=!a.showMe,d.gotOpened(a)}}}}).directive("accordion",function(){return{restrict:"EA",replace:!0,transclude:!0,template:"<div ng-transclude></div>",controller:function(){var a=[];this.gotOpened=function(b){angular.forEach(a,function(a){b!==a&&(a.showMe=!1)})},this.addExpander=function(b){a.push(b)}}}}).directive("inputCombo",function(){var a=function(a){var b="";switch(a){case"date":b="views/template/input-date.html";break;case"text":case"number":case"password":case"url":case"tel":case"email":b="views/template/input-text.html";break;case"textarea":b="views/template/input-textarea.html";break;case"select":b="views/template/select.html";break;case"dialog":b="views/template/input-dialog.html";break;case"dropdown":b="views/template/dropdown.html";break;case"switch":b="views/template/switch.html"}return b};return{restrict:"E",require:"^form",
scope:{type:"@",title:"@",idname:"@",errMsg:"@",placeholder:"@",labelClass:"@",inputClass:"@",selectIdx:"@",options:"@",maxlength:"@",rows:"@",ngModel:"=",isShowDropdown:"=",noLabel:"=?",sourceData:"=?",outputFormat:"=?",ngDisabled:"=?",ngPattern:"=?",ngRequired:"=?",ngReadonly:"=?",ngChange:"&",ngBlur:"&",ngFocus:"&",mbClick:"&"},templateUrl:function(b,c){return a(c.type)},controller:["$scope",function(a){"select"===a.type&&(a.options=a.options||"obj.code as obj.value for obj in sourceData",a.selectIdx&&(a.ngModel=a.sourceData[a.selectIdx].code)),a.dropdownSelect=function(b){a.ngModel=b,a.isShowDropdown=!1},a.toggleDropDown=function(){a.isShowDropdown=!a.isShowDropdown}}],link:function(a,b,c,d){a.form=d[c.idname],(angular.isUndefined(a.ngDisabled)||null===a.ngDisabled)&&(a.ngDisabled=!1)}}}).directive("inputComboR",["$timeout","$confirm",function(a,b){return{template:'<ng-include src="getTemplateUrl()"/>',restrict:"E",require:"^form",scope:{type:"@",title:"@",idname:"@",errMsg:"@",placeholder:"@",labelClass:"@",inputClass:"@",ngModel:"=",sourceData:"=?",selectIdx:"@",ngDisabled:"=?",ngRequired:"=?"},controller:["$scope",function(a){a.getTemplateUrl=function(){var b="";switch(a.type){case"date":b="views/template/input-date-r.html";break;case"text":case"number":case"url":b="views/template/input-text-r.html";break;case"select":b="views/template/select-r.html";break;case"dialog":b="views/template/input-dialog-r.html"}return b},a.openModal=function(){var a={};a.p="stat_order",b(a,{templateUrl:"views/index/query.html",size:"lg"}).then(function(){})}}],link:function(b,c,d,e){a(function(){b.form=e[d.idname]},100)}}}]).directive("mbModalHeader",function(){return{restrict:"E",replace:!0,scope:{title:"@",alerts:"=?",cancelClick:"&"},templateUrl:"views/template/mb-modal-header.html"}}).directive("mbPager",["$timeout",function(){return{restrict:"E",replace:!0,templateUrl:"views/template/mb-pager.html",controller:["$scope",function(a){a.gotoPage=function(b,c){13===b.keyCode&&(c||(c=1),c>a.numPages?c=a.numPages:1>c&&(c=1),a.toPage=c,a.currentPage=c,a.query())},a.changePage=function(b){b||(a.toPage=1)},a.$watch("numPerPage",function(b,c){b!==c&&a.query()})}]}}]).directive("gridFilterInput",["$rootScope",function(a){return{template:'<input type="text" class="ui-grid-filter-input" ng-model="theFilter" ng-keydown="execFilter($event)" ng-blur="execFilter()"/>',controller:["$scope",function(b){b.execFilter=function(c){c?13===c.keyCode&&(a.tempParam[b.col.field]=b.theFilter):a.tempParam[b.col.field]=b.theFilter}}]}}]).directive("autoFillSync",["$timeout",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){var f=c.val();a(function(){var a=c.val();e.$pristine&&f!==a&&e.$setViewValue(a)},500)}}}]).directive("autofillFix",["$timeout",function(a){return{link:function(b,c,d){c.prop("method","POST"),d.ngSubmit&&a(function(){c.unbind("submit").bind("submit",function(a){a.preventDefault();var e=c.find("input");e.length>0&&(e.triggerHandler("input").triggerHandler("change").triggerHandler("keydown"),b.$apply(d.ngSubmit))})},0)}}}]).directive("watchAutofill",["$timeout",function(a){var b=500;return{require:"ngModel",link:function(c,d,e,f){function g(){h=a(function(){var a=d.val();a&&f.$viewValue!==a&&f.$setViewValue(a),g()},b)}var h;c.$on("$destroy",function(){a.cancel(h)}),g()}}}]).directive("autofill",function(){return{require:"ngModel",link:function(a,b,c,d){a.$watch(function(){return b.val()},function(a,b){a!==b&&d.$setViewValue(a)})}}}).directive("btnPermission",["$rootScope",function(a){return{restrict:"A",link:function(b,c,d){a.menuPromise.then(function(b){if(a.selectMenu&&a.selectMenu.tMenu&&a.selectMenu.tMenu.components){var e=a.selectMenu.tMenu.components,f=d.btnPermission||_.trim(c[0].innerText);e[f]||c.remove()}})}}}]).directive("yjEchart",[function(){return{restrict:"AE",scope:{options:"=yjEchart"},link:function(a,b){a.options.data&&echarts.registerMap("china",a.options.data);var c=echarts.init(b[0]);c.showLoading(),a.options.chart=c,a.$on("chart-container-resized",function(){c.resize()}),a.$on("chart-container-initialized",function(){c.resize(),a.options.option&&(c.clear(),c.setOption(a.options.option))});var d=!1;a.$watch("options.option",function(a){a&&(d=!0,window.onresize=c.resize,c.clear(),c.hideLoading(),c.setOption(a))})}}}]).directive("highlight",function(){return{link:function(a,b){b.click(function(){b.addClass("highlight"),b.siblings().removeClass("highlight"),b.parent("tr").siblings("tr").find("td").removeClass("highlight")})}}}).directive("fileModel",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e=a(d.fileModel);c.bind("change",function(){b.$apply(function(){e.assign(b,c[0].files[0])})})}}}]),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.echarts=b():a.echarts=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(1),c(100),c(134),c(141),c(150),c(154),c(164),c(185),c(197),c(218),c(222),c(226),c(241),c(247),c(254),c(260),c(264),c(273),c(277),c(280),c(292),c(113),c(293),c(299),c(303),c(314),c(227),c(281),c(317),c(328),c(329),c(343),c(358),c(364),c(367),c(370),c(379),c(391)},function(a,b,c){function d(a){return function(b,c,d){b=b&&b.toLowerCase(),L.prototype[a].call(this,b,c,d)}}function e(){L.call(this)}function f(a,b,c){function d(a,b){return a.prio-b.prio}c=c||{},"string"==typeof b&&(b=ga[b]),this.id,this.group,this._dom=a;var f=this._zr=I.init(a,{renderer:c.renderer||"canvas",devicePixelRatio:c.devicePixelRatio,width:c.width,height:c.height});this._throttledZrFlush=H.throttle(J.bind(f.flush,f),17),this._theme=J.clone(b),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new y(this),this._coordSysMgr=new z,L.call(this),this._messageCenter=new e,this._initEvents(),this.resize=J.bind(this.resize,this),this._pendingActions=[],M(fa,d),M(da,d),f.animation.on("frame",this._onframe,this)}function g(a,b,c){var d,e=this._model,f=this._coordSysMgr.getCoordinateSystems();b=G.parseFinder(e,b);for(var g=0;g<f.length;g++){var h=f[g];if(h[a]&&null!=(d=h[a](e,b,c)))return d}}function h(a,b,c,d,e){var f=a._model,g={};g[d+"Id"]=c[d+"Id"],g[d+"Index"]=c[d+"Index"],g[d+"Name"]=c[d+"Name"];var h={mainType:d,query:g};e&&(h.subType=e),f&&f.eachComponent(h,function(e,g){var h=a["series"===d?"_chartsMap":"_componentsMap"][e.__viewId];h&&h.__alive&&h[b](e,f,a._api,c)},a)}function i(a,b){var c=a.type,d=ba[c],e=d.actionInfo,f=(e.update||"update").split(":"),g=f.pop();f=f[0]&&O(f[0]),this[W]=!0;var i=[a],j=!1;a.batch&&(j=!0,i=J.map(a.batch,function(b){return b=J.defaults(J.extend({},b),a),b.batch=null,b}));for(var k,l=[],m="highlight"===c||"downplay"===c,n=0;n<i.length;n++){var o=i[n];k=d.action(o,this._model),k=k||J.extend({},o),k.type=e.event||k.type,l.push(k),m?h(this,g,o,"series"):f&&h(this,g,o,f.main,f.sub)}"none"===g||m||f||(this[Y]?(_.prepareAndUpdate.call(this,a),this[Y]=!1):_[g].call(this,a)),k=j?{type:e.event||c,batch:l}:l[0],this[W]=!1,!b&&this._messageCenter.trigger(k.type,k)}function j(a){for(var b=this._pendingActions;b.length;){var c=b.shift();i.call(this,c,a)}}function k(a){!a&&this.trigger("updated")}function l(a,b,c){var d=this._api;N(this._componentsViews,function(e){var f=e.__model;e[a](f,b,d,c),u(f,e)},this),b.eachSeries(function(e,f){var g=this._chartsMap[e.__viewId];g[a](e,b,d,c),u(e,g),t(e,g)},this),s(this._zr,b)}function m(a,b){for(var c="component"===a,d=c?this._componentsViews:this._chartsViews,e=c?this._componentsMap:this._chartsMap,f=this._zr,g=0;g<d.length;g++)d[g].__alive=!1;b[c?"eachComponent":"eachSeries"](function(a,g){if(c){if("series"===a)return}else g=a;var h=g.id+"_"+g.type,i=e[h];if(!i){var j=O(g.type),k=c?D.getClass(j.main,j.sub):E.getClass(j.sub);if(!k)return;i=new k,i.init(b,this._api),e[h]=i,d.push(i),f.add(i.group)}g.__viewId=h,i.__alive=!0,i.__id=h,i.__model=g},this);for(var g=0;g<d.length;){var h=d[g];h.__alive?g++:(f.remove(h.group),h.dispose(b,this._api),d.splice(g,1),delete e[h.__id])}}function n(a,b){N(da,function(c){c.func(a,b)})}function o(a){var b={};a.eachSeries(function(a){var c=a.get("stack"),d=a.getData();if(c&&"list"===d.type){var e=b[c];e&&(d.stackedOn=e),b[c]=d}})}function p(a,b){var c=this._api;N(fa,function(d){d.isLayout&&d.func(a,c,b)})}function q(a,b,c){var d=this._api;a.clearColorPalette(),a.eachSeries(function(a){a.clearColorPalette()}),N(fa,function(e){(!c||!e.isLayout)&&e.func(a,d,b)})}function r(a,b){var c=this._api;N(this._componentsViews,function(d){var e=d.__model;d.render(e,a,c,b),u(e,d)},this),N(this._chartsViews,function(a){a.__alive=!1},this),a.eachSeries(function(d,e){var f=this._chartsMap[d.__viewId];f.__alive=!0,f.render(d,a,c,b),f.group.silent=!!d.get("silent"),u(d,f),t(d,f)},this),s(this._zr,a),N(this._chartsViews,function(b){b.__alive||b.remove(a,c)},this)}function s(a,b){var c=a.storage,d=0;c.traverse(function(a){a.isGroup||d++}),d>b.get("hoverLayerThreshold")&&!w.node&&c.traverse(function(a){a.isGroup||(a.useHoverLayer=!0)})}function t(a,b){var c=0;b.group.traverse(function(a){"group"===a.type||a.ignore||c++});var d=+a.get("progressive"),e=c>a.get("progressiveThreshold")&&d&&!w.node;e&&b.group.traverse(function(a){a.isGroup||(a.progressive=e?Math.floor(c++/d):-1,e&&a.stopAnimation(!0))});var f=a.get("blendMode")||null;!w.canvasSupported&&f&&"source-over"!==f,b.group.traverse(function(a){a.isGroup||a.setStyle("blend",f)})}function u(a,b){var c=a.get("z"),d=a.get("zlevel");b.group.traverse(function(a){"group"!==a.type&&(null!=c&&(a.z=c),null!=d&&(a.zlevel=d))})}function v(a){function b(a,b){for(var c=0;c<a.length;c++){var d=a[c];d[f]=b}}var c=0,d=1,e=2,f="__connectUpdateStatus";J.each(ca,function(g,h){a._messageCenter.on(h,function(g){if(ja[a.group]&&a[f]!==c){var h=a.makeActionFromEvent(g),i=[];J.each(ia,function(b){b!==a&&b.group===a.group&&i.push(b)}),b(i,c),N(i,function(a){a[f]!==d&&a.dispatchAction(h)}),b(i,e)}})})}var w=c(2),x=c(3),y=c(25),z=c(26),A=c(27),B=c(19),C=c(28),D=c(29),E=c(42),F=c(43),G=c(5),H=c(81),I=c(82),J=c(4),K=c(39),L=c(33),M=c(86),N=J.each,O=B.parseClassType,P=1e3,Q=5e3,R=1e3,S=2e3,T=3e3,U=4e3,V=5e3,W="__flagInMainProcess",X="__hasGradientOrPatternBg",Y="__optionUpdated",Z=/^[a-zA-Z0-9_]+$/;e.prototype.on=d("on"),e.prototype.off=d("off"),e.prototype.one=d("one"),J.mixin(e,L);var $=f.prototype;$._onframe=function(){if(this[Y]){var a=this[Y].silent;this[W]=!0,_.prepareAndUpdate.call(this),this[W]=!1,this[Y]=!1,j.call(this,a),k.call(this,a)}},$.getDom=function(){return this._dom},$.getZr=function(){return this._zr},$.setOption=function(a,b,c){J.assert(!this[W],"`setOption` should not be called during main process.");var d;if(J.isObject(b)&&(c=b.lazyUpdate,d=b.silent,b=b.notMerge),this[W]=!0,!this._model||b){var e=new A(this._api),f=this._theme,g=this._model=new x(null,null,f,e);g.init(null,null,f,e)}this.__lastOnlyGraphic=!(!a||!a.graphic),J.each(a,function(a,b){"graphic"!==b&&(this.__lastOnlyGraphic=!1)},this),this._model.setOption(a,ea),c?(this[Y]={silent:d},this[W]=!1):(_.prepareAndUpdate.call(this),this._zr.flush(),this[Y]=!1,this[W]=!1,j.call(this,d),k.call(this,d))},$.setTheme=function(){},$.getModel=function(){return this._model},$.getOption=function(){return this._model&&this._model.getOption()},$.getWidth=function(){return this._zr.getWidth()},$.getHeight=function(){return this._zr.getHeight()},$.getRenderedCanvas=function(a){if(w.canvasSupported){a=a||{},a.pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor");var b=this._zr,c=b.storage.getDisplayList();return J.each(c,function(a){a.stopAnimation(!0)}),b.painter.getRenderedCanvas(a)}},$.getDataURL=function(a){a=a||{};var b=a.excludeComponents,c=this._model,d=[],e=this;N(b,function(a){c.eachComponent({mainType:a},function(a){var b=e._componentsMap[a.__viewId];b.group.ignore||(d.push(b),b.group.ignore=!0)})});var f=this.getRenderedCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return N(d,function(a){a.group.ignore=!1}),f},$.getConnectedDataURL=function(a){if(w.canvasSupported){var b=this.group,c=Math.min,d=Math.max,e=1/0;if(ja[b]){var f=e,g=e,h=-e,i=-e,j=[],k=a&&a.pixelRatio||1;J.each(ia,function(e,k){if(e.group===b){var l=e.getRenderedCanvas(J.clone(a)),m=e.getDom().getBoundingClientRect();f=c(m.left,f),g=c(m.top,g),h=d(m.right,h),i=d(m.bottom,i),j.push({dom:l,left:m.left,top:m.top})}}),f*=k,g*=k,h*=k,i*=k;var l=h-f,m=i-g,n=J.createCanvas();n.width=l,n.height=m;var o=I.init(n);return N(j,function(a){var b=new F.Image({style:{x:a.left*k-f,y:a.top*k-g,image:a.dom}});o.add(b)}),o.refreshImmediately(),n.toDataURL("image/"+(a&&a.type||"png"))}return this.getDataURL(a)}},$.convertToPixel=J.curry(g,"convertToPixel"),$.convertFromPixel=J.curry(g,"convertFromPixel"),$.containPixel=function(a,b){var c,d=this._model;return a=G.parseFinder(d,a),J.each(a,function(a,d){d.indexOf("Models")>=0&&J.each(a,function(a){var e=a.coordinateSystem;if(e&&e.containPoint)c|=!!e.containPoint(b);else if("seriesModels"===d){var f=this._chartsMap[a.__viewId];f&&f.containPoint&&(c|=f.containPoint(b,a))}},this)},this),!!c},$.getVisual=function(a,b){var c=this._model;a=G.parseFinder(c,a,{defaultMainType:"series"});var d=a.seriesModel,e=d.getData(),f=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?e.indexOfRawIndex(a.dataIndex):null;return null!=f?e.getItemVisual(f,b):e.getVisual(b)};var _={update:function(a){var b=this._model,c=this._api,d=this._coordSysMgr,e=this._zr;if(b){b.restoreData(),d.create(this._model,this._api),n.call(this,b,c),o.call(this,b),d.update(b,c),q.call(this,b,a),r.call(this,b,a);var f=b.get("backgroundColor")||"transparent",g=e.painter;if(g.isSingleCanvas&&g.isSingleCanvas())e.configLayer(0,{clearColor:f});else{if(!w.canvasSupported){var h=K.parse(f);f=K.stringify(h,"rgb"),0===h[3]&&(f="transparent")}f.colorStops||f.image?(e.configLayer(0,{clearColor:f}),this[X]=!0,this._dom.style.background="transparent"):(this[X]&&e.configLayer(0,{clearColor:null}),this[X]=!1,this._dom.style.background=f)}}},updateView:function(a){var b=this._model;b&&(b.eachSeries(function(a){a.getData().clearAllVisual()}),q.call(this,b,a),l.call(this,"updateView",b,a))},updateVisual:function(a){var b=this._model;b&&(b.eachSeries(function(a){a.getData().clearAllVisual()}),q.call(this,b,a,!0),l.call(this,"updateVisual",b,a))},updateLayout:function(a){var b=this._model;b&&(p.call(this,b,a),l.call(this,"updateLayout",b,a))},prepareAndUpdate:function(a){var b=this._model;m.call(this,"component",b),m.call(this,"chart",b),this.__lastOnlyGraphic?(N(this._componentsViews,function(c){var d=c.__model;d&&"graphic"===d.mainType&&(c.render(d,b,this._api,a),u(d,c))},this),this.__lastOnlyGraphic=!1):_.update.call(this,a)}};$.resize=function(a){J.assert(!this[W],"`resize` should not be called during main process."),this[W]=!0,this._zr.resize(a);var b=this._model&&this._model.resetOption("media"),c=b?"prepareAndUpdate":"update";_[c].call(this),this._loadingFX&&this._loadingFX.resize(),this[W]=!1;var d=a&&a.silent;j.call(this,d),k.call(this,d)},$.showLoading=function(a,b){if(J.isObject(a)&&(b=a,a=""),a=a||"default",this.hideLoading(),ha[a]){var c=ha[a](this._api,b),d=this._zr;this._loadingFX=c,d.add(c)}},$.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},$.makeActionFromEvent=function(a){var b=J.extend({},a);return b.type=ca[a.type],b},$.dispatchAction=function(a,b){if(J.isObject(b)||(b={silent:!!b}),ba[a.type]){if(this[W])return void this._pendingActions.push(a);i.call(this,a,b.silent),b.flush?this._zr.flush(!0):b.flush!==!1&&w.browser.weChat&&this._throttledZrFlush(),j.call(this,b.silent),k.call(this,b.silent)}},$.on=d("on"),$.off=d("off"),$.one=d("one");var aa=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];$._initEvents=function(){N(aa,function(a){this._zr.on(a,function(b){var c,d=this.getModel(),e=b.target;if("globalout"===a)c={};else if(e&&null!=e.dataIndex){var f=e.dataModel||d.getSeriesByIndex(e.seriesIndex);c=f&&f.getDataParams(e.dataIndex,e.dataType)||{}}else e&&e.eventData&&(c=J.extend({},e.eventData));c&&(c.event=b,c.type=a,this.trigger(a,c))},this)},this),N(ca,function(a,b){this._messageCenter.on(b,function(a){this.trigger(b,a)},this)},this)},$.isDisposed=function(){return this._disposed},$.clear=function(){this.setOption({series:[]},!0)},$.dispose=function(){if(!this._disposed){this._disposed=!0;var a=this._api,b=this._model;N(this._componentsViews,function(c){c.dispose(b,a)}),N(this._chartsViews,function(c){c.dispose(b,a)}),this._zr.dispose(),delete ia[this.id]}},J.mixin(f,L);var ba=[],ca={},da=[],ea=[],fa=[],ga={},ha={},ia={},ja={},ka=new Date-0,la=new Date-0,ma="_echarts_instance_",na={version:"3.4.0",dependencies:{zrender:"3.3.0"}};na.init=function(a,b,c){if(I.version.replace(".","")-0<na.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+I.version+" is too old for ECharts "+na.version+". Current version need ZRender "+na.dependencies.zrender+"+");if(!a)throw new Error("Initialize failed: invalid dom.");J.isDom(a)&&"CANVAS"!==a.nodeName.toUpperCase()&&(!a.clientWidth||!a.clientHeight);var d=new f(a,b,c);return d.id="ec_"+ka++,ia[d.id]=d,a.setAttribute&&a.setAttribute(ma,d.id),v(d),d},na.connect=function(a){if(J.isArray(a)){var b=a;a=null,J.each(b,function(b){null!=b.group&&(a=b.group)}),a=a||"g_"+la++,J.each(b,function(b){b.group=a})}return ja[a]=!0,a},na.disConnect=function(a){ja[a]=!1},na.dispose=function(a){J.isDom(a)?a=na.getInstanceByDom(a):"string"==typeof a&&(a=ia[a]),a instanceof f&&!a.isDisposed()&&a.dispose()},na.getInstanceByDom=function(a){var b=a.getAttribute(ma);return ia[b]},na.getInstanceById=function(a){return ia[a]},na.registerTheme=function(a,b){ga[a]=b},na.registerPreprocessor=function(a){ea.push(a)},na.registerProcessor=function(a,b){if("function"==typeof a&&(b=a,a=P),isNaN(a))throw new Error("Unkown processor priority");da.push({prio:a,func:b})},na.registerAction=function(a,b,c){"function"==typeof b&&(c=b,b="");var d=J.isObject(a)?a.type:[a,a={event:b}][0];a.event=(a.event||d).toLowerCase(),b=a.event,J.assert(Z.test(d)&&Z.test(b)),ba[d]||(ba[d]={action:c,actionInfo:a}),ca[b]=d},na.registerCoordinateSystem=function(a,b){z.register(a,b)},na.registerLayout=function(a,b){if("function"==typeof a&&(b=a,a=R),isNaN(a))throw new Error("Unkown layout priority");fa.push({prio:a,func:b,isLayout:!0})},na.registerVisual=function(a,b){if("function"==typeof a&&(b=a,a=T),isNaN(a))throw new Error("Unkown visual priority");fa.push({prio:a,func:b})},na.registerLoading=function(a,b){ha[a]=b},na.extendComponentModel=function(a){return B.extend(a)},na.extendComponentView=function(a){return D.extend(a)},na.extendSeriesModel=function(a){return C.extend(a)},na.extendChartView=function(a){return E.extend(a)},na.setCanvasCreator=function(a){J.createCanvas=a},na.registerVisual(S,c(94)),na.registerPreprocessor(c(95)),na.registerLoading("default",c(97)),na.registerAction({type:"highlight",event:"highlight",update:"highlight"},J.noop),na.registerAction({type:"downplay",event:"downplay",update:"downplay"},J.noop),na.List=c(98),na.Model=c(12),na.graphic=c(43),na.number=c(7),na.format=c(6),na.throttle=H.throttle,na.matrix=c(11),na.vector=c(10),na.color=c(39),na.util={},N(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone"],function(a){na.util[a]=J[a]}),na.PRIORITY={PROCESSOR:{FILTER:P,STATISTIC:Q},VISUAL:{LAYOUT:R,GLOBAL:S,CHART:T,COMPONENT:U,BRUSH:V}},a.exports=na},function(a,b){function c(a){var b={},c={},d=a.match(/Firefox\/([\d.]+)/),e=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),f=a.match(/Edge\/([\d.]+)/),g=/micromessenger/i.test(a);return d&&(c.firefox=!0,c.version=d[1]),e&&(c.ie=!0,c.version=e[1]),f&&(c.edge=!0,c.version=f[1]),g&&(c.weChat=!0),{browser:c,os:b,node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1,touchEventsSupported:"ontouchstart"in window&&!c.ie&&!c.edge,pointerEventsSupported:"onpointerdown"in window&&(c.edge||c.ie&&c.version>=11)}}var d={};d="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:c(navigator.userAgent),a.exports=d},function(a,b,c){function d(a,b){k.each(b,function(b,c){t.hasClass(c)||("object"==typeof b?a[c]=a[c]?k.merge(a[c],b,!1):k.clone(b):null==a[c]&&(a[c]=b))})}function e(a){a=a,this.option={},this.option[v]=1,this._componentsMap={},this._seriesIndices=null,d(a,this._theme.option),k.merge(a,u,!1),this.mergeOption(a)}function f(a,b){k.isArray(b)||(b=b?[b]:[]);var c={};return n(b,function(b){c[b]=(a[b]||[]).slice()}),c}function g(a,b,c){var d=b.type?b.type:c?c.subType:t.determineSubType(a,b);return d}function h(a){return p(a,function(a){return a.componentIndex})||[]}function i(a,b){return b.hasOwnProperty("subType")?o(a,function(a){return a.subType===b.subType}):a}function j(a){if(!a._seriesIndices)throw new Error("Series has not been initialized yet.")}var k=c(4),l=c(5),m=c(12),n=k.each,o=k.filter,p=k.map,q=k.isArray,r=k.indexOf,s=k.isObject,t=c(19),u=c(23),v="\x00_ec_inner",w=m.extend({constructor:w,init:function(a,b,c,d){c=c||{},this.option=null,this._theme=new m(c),this._optionManager=d},setOption:function(a,b){k.assert(!(v in a),"please use chart.getOption()"),this._optionManager.setOption(a,b),this.resetOption()},resetOption:function(a){var b=!1,c=this._optionManager;if(!a||"recreate"===a){var d=c.mountOption("recreate"===a);this.option&&"recreate"!==a?(this.restoreData(),this.mergeOption(d)):e.call(this,d),b=!0}if(("timeline"===a||"media"===a)&&this.restoreData(),!a||"recreate"===a||"timeline"===a){var f=c.getTimelineOption(this);f&&(this.mergeOption(f),b=!0)}if(!a||"recreate"===a||"media"===a){var g=c.getMediaOption(this,this._api);g.length&&n(g,function(a){this.mergeOption(a,b=!0)},this)}return b},mergeOption:function(a){function b(b,e){var i=l.normalizeToArray(a[b]),j=l.mappingToExists(d[b],i);l.makeIdAndName(j),n(j,function(a,c){var d=a.option;s(d)&&(a.keyInfo.mainType=b,a.keyInfo.subType=g(b,d,a.exist))});var m=f(d,e);c[b]=[],d[b]=[],n(j,function(a,e){var f=a.exist,g=a.option;if(k.assert(s(g)||f,"Empty component definition"),g){var h=t.getClass(b,a.keyInfo.subType,!0);if(f&&f instanceof h)f.name=a.keyInfo.name,f.mergeOption(g,this),f.optionUpdated(g,!1);else{var i=k.extend({dependentModels:m,componentIndex:e},a.keyInfo);f=new h(g,this,this,i),k.extend(f,i),f.init(g,this,this,i),f.optionUpdated(null,!0)}}else f.mergeOption({},this),f.optionUpdated({},!1);d[b][e]=f,c[b][e]=f.option},this),"series"===b&&(this._seriesIndices=h(d.series))}var c=this.option,d=this._componentsMap,e=[];n(a,function(a,b){null!=a&&(t.hasClass(b)?e.push(b):c[b]=null==c[b]?k.clone(a):k.merge(c[b],a,!0))}),t.topologicalTravel(e,t.getAllClassMainTypes(),b,this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var a=k.clone(this.option);return n(a,function(b,c){if(t.hasClass(c)){for(var b=l.normalizeToArray(b),d=b.length-1;d>=0;d--)l.isIdInner(b[d])&&b.splice(d,1);a[c]=b}}),delete a[v],a},getTheme:function(){return this._theme},getComponent:function(a,b){var c=this._componentsMap[a];return c?c[b||0]:void 0},queryComponents:function(a){var b=a.mainType;if(!b)return[];var c=a.index,d=a.id,e=a.name,f=this._componentsMap[b];if(!f||!f.length)return[];var g;if(null!=c)q(c)||(c=[c]),g=o(p(c,function(a){return f[a]}),function(a){return!!a});else if(null!=d){var h=q(d);g=o(f,function(a){return h&&r(d,a.id)>=0||!h&&a.id===d})}else if(null!=e){var j=q(e);g=o(f,function(a){return j&&r(e,a.name)>=0||!j&&a.name===e})}else g=f;return i(g,a)},findComponents:function(a){function b(a){var b=e+"Index",c=e+"Id",d=e+"Name";return!a||null==a[b]&&null==a[c]&&null==a[d]?null:{mainType:e,index:a[b],id:a[c],name:a[d]}}function c(b){return a.filter?o(b,a.filter):b}var d=a.query,e=a.mainType,f=b(d),g=f?this.queryComponents(f):this._componentsMap[e];return c(i(g,a))},eachComponent:function(a,b,c){var d=this._componentsMap;if("function"==typeof a)c=b,b=a,n(d,function(a,d){n(a,function(a,e){b.call(c,d,a,e)})});else if(k.isString(a))n(d[a],b,c);else if(s(a)){var e=this.findComponents(a);n(e,b,c)}},getSeriesByName:function(a){var b=this._componentsMap.series;return o(b,function(b){return b.name===a})},getSeriesByIndex:function(a){return this._componentsMap.series[a]},getSeriesByType:function(a){var b=this._componentsMap.series;return o(b,function(b){return b.subType===a})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(a,b){j(this),n(this._seriesIndices,function(c){var d=this._componentsMap.series[c];a.call(b,d,c)},this)},eachRawSeries:function(a,b){n(this._componentsMap.series,a,b)},eachSeriesByType:function(a,b,c){j(this),n(this._seriesIndices,function(d){var e=this._componentsMap.series[d];e.subType===a&&b.call(c,e,d)},this)},eachRawSeriesByType:function(a,b,c){return n(this.getSeriesByType(a),b,c)},isSeriesFiltered:function(a){return j(this),k.indexOf(this._seriesIndices,a.componentIndex)<0},filterSeries:function(a,b){j(this);var c=o(this._componentsMap.series,a,b);this._seriesIndices=h(c)},restoreData:function(){var a=this._componentsMap;this._seriesIndices=h(a.series);var b=[];n(a,function(a,c){b.push(c)}),t.topologicalTravel(b,t.getAllClassMainTypes(),function(b,c){n(a[b],function(a){a.restoreData()})})}});k.mixin(w,c(24)),a.exports=w},function(a,b){function c(a){if(null==a||"object"!=typeof a)return a;var b=a,d=H.call(a);if("[object Array]"===d){b=[];for(var e=0,f=a.length;f>e;e++)b[e]=c(a[e])}else if(G[d])b=a.constructor.from(a);else if(!F[d]&&!z(a)){b={};for(var g in a)a.hasOwnProperty(g)&&(b[g]=c(a[g]))}return b}function d(a,b,e){if(!x(b)||!x(a))return e?c(b):a;for(var f in b)if(b.hasOwnProperty(f)){var g=a[f],h=b[f];!x(h)||!x(g)||u(h)||u(g)||z(h)||z(g)||y(h)||y(g)?!e&&f in a||(a[f]=c(b[f],!0)):d(g,h,e)}return a}function e(a,b){for(var c=a[0],e=1,f=a.length;f>e;e++)c=d(c,a[e],b);return c}function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function g(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c?null!=b[d]:null==a[d])&&(a[d]=b[d]);return a}function h(){return document.createElement("canvas")}function i(){return E||(E=O.createCanvas().getContext("2d")),E}function j(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c}return-1}function k(a,b){function c(){}var d=a.prototype;c.prototype=b.prototype,a.prototype=new c;for(var e in d)a.prototype[e]=d[e];a.prototype.constructor=a,a.superClass=b}function l(a,b,c){a="prototype"in a?a.prototype:a,b="prototype"in b?b.prototype:b,g(a,b,c)}function m(a){return a?"string"==typeof a?!1:"number"==typeof a.length:void 0}function n(a,b,c){if(a&&b)if(a.forEach&&a.forEach===J)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;e>d;d++)b.call(c,a[d],d,a);else for(var f in a)a.hasOwnProperty(f)&&b.call(c,a[f],f,a)}function o(a,b,c){if(a&&b){if(a.map&&a.map===M)return a.map(b,c);for(var d=[],e=0,f=a.length;f>e;e++)d.push(b.call(c,a[e],e,a));return d}}function p(a,b,c,d){if(a&&b){if(a.reduce&&a.reduce===N)return a.reduce(b,c,d);for(var e=0,f=a.length;f>e;e++)c=b.call(d,c,a[e],e,a);return c}}function q(a,b,c){if(a&&b){if(a.filter&&a.filter===K)return a.filter(b,c);for(var d=[],e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d}}function r(a,b,c){if(a&&b)for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a))return a[d]}function s(a,b){var c=L.call(arguments,2);return function(){return a.apply(b,c.concat(L.call(arguments)))}}function t(a){var b=L.call(arguments,1);return function(){return a.apply(this,b.concat(L.call(arguments)))}}function u(a){return"[object Array]"===H.call(a)}function v(a){return"function"==typeof a}function w(a){return"[object String]"===H.call(a)}function x(a){var b=typeof a;return"function"===b||!!a&&"object"==b}function y(a){return!!F[H.call(a)]}function z(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function A(a){return a!==a}function B(a){for(var b=0,c=arguments.length;c>b;b++)if(null!=arguments[b])return arguments[b]}function C(){return Function.call.apply(L,arguments)}function D(a,b){if(!a)throw new Error(b)}var E,F={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},G={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},H=Object.prototype.toString,I=Array.prototype,J=I.forEach,K=I.filter,L=I.slice,M=I.map,N=I.reduce,O={inherits:k,mixin:l,clone:c,merge:d,mergeAll:e,extend:f,defaults:g,getContext:i,createCanvas:h,indexOf:j,slice:C,find:r,isArrayLike:m,each:n,map:o,reduce:p,filter:q,bind:s,curry:t,isArray:u,isString:w,isObject:x,isFunction:v,isBuildInObject:y,isDom:z,eqNaN:A,retrieve:B,assert:D,noop:function(){}};a.exports=O},function(a,b,c){function d(a,b){return a&&a.hasOwnProperty(b)}var e=c(6),f=c(7),g=c(12),h=c(4),i=h.each,j=h.isObject,k={};k.normalizeToArray=function(a){return a instanceof Array?a:null==a?[]:[a]},k.defaultEmphasis=function(a,b){if(a){var c=a.emphasis=a.emphasis||{},d=a.normal=a.normal||{};i(b,function(a){var b=h.retrieve(c[a],d[a]);null!=b&&(c[a]=b)})}},k.LABEL_OPTIONS=["position","offset","show","textStyle","distance","formatter"],k.getDataItemValue=function(a){return a&&(null==a.value?a:a.value)},k.isDataItemOption=function(a){return j(a)&&!(a instanceof Array)},k.converDataValue=function(a,b){var c=b&&b.type;return"ordinal"===c?a:("time"!==c||isFinite(a)||null==a||"-"===a||(a=+f.parseDate(a)),null==a||""===a?NaN:+a)},k.createDataFormatModel=function(a,b){var c=new g;return h.mixin(c,k.dataFormatMixin),c.seriesIndex=b.seriesIndex,c.name=b.name||"",c.mainType=b.mainType,c.subType=b.subType,c.getData=function(){return a},c},k.dataFormatMixin={getDataParams:function(a,b){var c=this.getData(b),d=this.seriesIndex,e=this.name,f=this.getRawValue(a,b),g=c.getRawIndex(a),h=c.getName(a,!0),i=c.getRawDataItem(a);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:d,seriesName:e,name:h,dataIndex:g,data:i,dataType:b,value:f,color:c.getItemVisual(a,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(a,b,c,d){b=b||"normal";var f=this.getData(c),g=f.getItemModel(a),h=this.getDataParams(a,c);null!=d&&h.value instanceof Array&&(h.value=h.value[d]);var i=g.get(["label",b,"formatter"]);return"function"==typeof i?(h.status=b,i(h)):"string"==typeof i?e.formatTpl(i,h):void 0},getRawValue:function(a,b){var c=this.getData(b),d=c.getRawDataItem(a);return null!=d?!j(d)||d instanceof Array?d:d.value:void 0},formatTooltip:h.noop},k.mappingToExists=function(a,b){b=(b||[]).slice();var c=h.map(a||[],function(a,b){return{exist:a}});return i(b,function(a,d){if(j(a)){for(var e=0;e<c.length;e++)if(!c[e].option&&null!=a.id&&c[e].exist.id===a.id+"")return c[e].option=a,void(b[d]=null);for(var e=0;e<c.length;e++){var f=c[e].exist;if(!(c[e].option||null!=f.id&&null!=a.id||null==a.name||k.isIdInner(a)||k.isIdInner(f)||f.name!==a.name+""))return c[e].option=a,void(b[d]=null)}}}),i(b,function(a,b){if(j(a)){for(var d=0;d<c.length;d++){var e=c[d].exist;if(!c[d].option&&!k.isIdInner(e)&&null==a.id){c[d].option=a;break}}d>=c.length&&c.push({option:a})}}),c},k.makeIdAndName=function(a){var b={};i(a,function(a,c){var d=a.exist;d&&(b[d.id]=a)}),i(a,function(a,c){var d=a.option;h.assert(!d||null==d.id||!b[d.id]||b[d.id]===a,"id duplicates: "+(d&&d.id)),d&&null!=d.id&&(b[d.id]=a),!a.keyInfo&&(a.keyInfo={})}),i(a,function(a,c){var d=a.exist,e=a.option,f=a.keyInfo;
if(j(e)){if(f.name=null!=e.name?e.name+"":d?d.name:"\x00-",d)f.id=d.id;else if(null!=e.id)f.id=e.id+"";else{var g=0;do f.id="\x00"+f.name+"\x00"+g++;while(b[f.id])}b[f.id]=a}})},k.isIdInner=function(a){return j(a)&&a.id&&0===(a.id+"").indexOf("\x00_ec_\x00")},k.compressBatches=function(a,b){function c(a,b,c){for(var d=0,e=a.length;e>d;d++)for(var f=a[d].seriesId,g=k.normalizeToArray(a[d].dataIndex),h=c&&c[f],i=0,j=g.length;j>i;i++){var l=g[i];h&&h[l]?h[l]=null:(b[f]||(b[f]={}))[l]=1}}function d(a,b){var c=[];for(var e in a)if(a.hasOwnProperty(e)&&null!=a[e])if(b)c.push(+e);else{var f=d(a[e],!0);f.length&&c.push({seriesId:e,dataIndex:f})}return c}var e={},f={};return c(a||[],e),c(b||[],f,e),[d(e),d(f)]},k.queryDataIndex=function(a,b){return null!=b.dataIndexInside?b.dataIndexInside:null!=b.dataIndex?h.isArray(b.dataIndex)?h.map(b.dataIndex,function(b){return a.indexOfRawIndex(b)}):a.indexOfRawIndex(b.dataIndex):null!=b.name?h.isArray(b.name)?h.map(b.name,function(b){return a.indexOfName(b)}):a.indexOfName(b.name):void 0},k.parseFinder=function(a,b,c){if(h.isString(b)){var e={};e[b+"Index"]=0,b=e}var f=c&&c.defaultMainType;!f||d(b,f+"Index")||d(b,f+"Id")||d(b,f+"Name")||(b[f+"Index"]=0);var g={};return i(b,function(c,d){var c=b[d];if("dataIndex"===d||"dataIndexInside"===d)return void(g[d]=c);var e=d.match(/^(\w+)(Index|Id|Name)$/)||[],f=e[1],h=e[2];if(f&&h){var i={mainType:f};i[h.toLowerCase()]=c;var j=a.queryComponents(i);g[f+"Models"]=j,g[f+"Model"]=j[0]}}),g},a.exports=k},function(a,b,c){var d=c(4),e=c(7),f=c(8),g={};g.addCommas=function(a){return isNaN(a)?"-":(a=(a+"").split("."),a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:""))},g.toCamelCase=function(a,b){return a=(a||"").toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a},g.normalizeCssArray=function(a){var b=a.length;return"number"==typeof a?[a,a,a,a]:2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a};var h=g.encodeHTML=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},i=["a","b","c","d","e","f","g"],j=function(a,b){return"{"+a+(null==b?"":b)+"}"};g.formatTpl=function(a,b,c){d.isArray(b)||(b=[b]);var e=b.length;if(!e)return"";for(var f=b[0].$vars||[],g=0;g<f.length;g++){var k=i[g],l=j(k,0);a=a.replace(j(k),c?h(l):l)}for(var m=0;e>m;m++)for(var n=0;n<f.length;n++){var l=b[m][f[n]];a=a.replace(j(i[n],m),c?h(l):l)}return a};var k=function(a){return 10>a?"0"+a:a};g.formatTime=function(a,b){("week"===a||"month"===a||"quarter"===a||"half-year"===a||"year"===a)&&(a="MM-dd\nyyyy");var c=e.parseDate(b),d=c.getFullYear(),f=c.getMonth()+1,g=c.getDate(),h=c.getHours(),i=c.getMinutes(),j=c.getSeconds();return a=a.replace("MM",k(f)).toLowerCase().replace("yyyy",d).replace("yy",d%100).replace("dd",k(g)).replace("d",g).replace("hh",k(h)).replace("h",h).replace("mm",k(i)).replace("m",i).replace("ss",k(j)).replace("s",j)},g.capitalFirst=function(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a},g.truncateText=f.truncateText,a.exports=g},function(a,b){function c(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}var d={},e=1e-4;d.linearMap=function(a,b,c,d){var e=b[1]-b[0],f=c[1]-c[0];if(0===e)return 0===f?c[0]:(c[0]+c[1])/2;if(d)if(e>0){if(a<=b[0])return c[0];if(a>=b[1])return c[1]}else{if(a>=b[0])return c[0];if(a<=b[1])return c[1]}else{if(a===b[0])return c[0];if(a===b[1])return c[1]}return(a-b[0])/e*f+c[0]},d.parsePercent=function(a,b){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}return"string"==typeof a?c(a).match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?NaN:+a},d.round=function(a,b){return null==b&&(b=10),b=Math.min(Math.max(0,b),20),+(+a).toFixed(b)},d.asc=function(a){return a.sort(function(a,b){return a-b}),a},d.getPrecision=function(a){if(a=+a,isNaN(a))return 0;for(var b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c},d.getPrecisionSafe=function(a){var b=a.toString(),c=b.indexOf(".");return 0>c?0:b.length-1-c},d.getPixelPrecision=function(a,b){var c=Math.log,d=Math.LN10,e=Math.floor(c(a[1]-a[0])/d),f=Math.round(c(Math.abs(b[1]-b[0]))/d),g=Math.min(Math.max(-e+f,0),20);return isFinite(g)?g:20},d.MAX_SAFE_INTEGER=9007199254740991,d.remRadian=function(a){var b=2*Math.PI;return(a%b+b)%b},d.isRadianAroundZero=function(a){return a>-e&&e>a},d.parseDate=function(a){if(a instanceof Date)return a;if("string"==typeof a){var b=new Date(a);return isNaN(+b)&&(b=new Date(new Date(a.replace(/-/g,"/"))-new Date("1970/01/01"))),b}return new Date(Math.round(a))},d.quantity=function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))},d.nice=function(a,b){var c,e=d.quantity(a),f=a/e;return c=b?1.5>f?1:2.5>f?2:4>f?3:7>f?5:10:1>f?1:2>f?2:3>f?3:5>f?5:10,c*e},d.reformIntervals=function(a){function b(a,c,d){return a.interval[d]<c.interval[d]||a.interval[d]===c.interval[d]&&(a.close[d]-c.close[d]===(d?-1:1)||!d&&b(a,c,1))}a.sort(function(a,c){return b(a,c,0)?-1:1});for(var c=-(1/0),d=1,e=0;e<a.length;){for(var f=a[e].interval,g=a[e].close,h=0;2>h;h++)f[h]<=c&&(f[h]=c,g[h]=h?1:1-d),c=f[h],d=g[h];f[0]===f[1]&&g[0]*g[1]!==1?a.splice(e,1):e++}return a},d.isNumeric=function(a){return a-parseFloat(a)>=0},a.exports=d},function(a,b,c){function d(a,b){var c=a+":"+b;if(i[c])return i[c];for(var d=(a+"").split("\n"),e=0,f=0,g=d.length;g>f;f++)e=Math.max(o.measureText(d[f],b).width,e);return j>k&&(j=0,i={}),j++,i[c]=e,e}function e(a,b,c,e){var f=((a||"")+"").split("\n").length,g=d(a,b),h=d("国",b),i=f*h,j=new m(0,0,g,i);switch(j.lineHeight=h,e){case"bottom":case"alphabetic":j.y-=h;break;case"middle":j.y-=h/2}switch(c){case"end":case"right":j.x-=j.width;break;case"center":j.x-=j.width/2}return j}function f(a,b,c,d){var e=b.x,f=b.y,g=b.height,h=b.width,i=c.height,j=g/2-i/2,k="left";switch(a){case"left":e-=d,f+=j,k="right";break;case"right":e+=d+h,f+=j,k="left";break;case"top":e+=h/2,f-=d+i,k="center";break;case"bottom":e+=h/2,f+=g+d,k="center";break;case"inside":e+=h/2,f+=j,k="center";break;case"insideLeft":e+=d,f+=j,k="left";break;case"insideRight":e+=h-d,f+=j,k="right";break;case"insideTop":e+=h/2,f+=d,k="center";break;case"insideBottom":e+=h/2,f+=g-i-d,k="center";break;case"insideTopLeft":e+=d,f+=d,k="left";break;case"insideTopRight":e+=h-d,f+=d,k="right";break;case"insideBottomLeft":e+=d,f+=g-i-d;break;case"insideBottomRight":e+=h-d,f+=g-i-d,k="right"}return{x:e,y:f,textAlign:k,textBaseline:"top"}}function g(a,b,c,e,f){if(!b)return"";f=f||{},e=n(e,"...");for(var g=n(f.maxIterations,2),i=n(f.minChar,0),j=d("国",c),k=d("a",c),l=n(f.placeholder,""),m=b=Math.max(0,b-1),o=0;i>o&&m>=k;o++)m-=k;var p=d(e);p>m&&(e="",p=0),m=b-p;for(var q=(a+"").split("\n"),o=0,r=q.length;r>o;o++){var s=q[o],t=d(s,c);if(!(b>=t)){for(var u=0;;u++){if(m>=t||u>=g){s+=e;break}var v=0===u?h(s,m,k,j):t>0?Math.floor(s.length*m/t):0;s=s.substr(0,v),t=d(s,c)}""===s&&(s=l),q[o]=s}}return q.join("\n")}function h(a,b,c,d){for(var e=0,f=0,g=a.length;g>f&&b>e;f++){var h=a.charCodeAt(f);e+=h>=0&&127>=h?c:d}return f}var i={},j=0,k=5e3,l=c(4),m=c(9),n=l.retrieve,o={getWidth:d,getBoundingRect:e,adjustTextPositionOnRect:f,truncateText:g,measureText:function(a,b){var c=l.getContext();return c.font=b||"12px sans-serif",c.measureText(a)}};a.exports=o},function(a,b,c){function d(a,b,c,d){0>c&&(a+=c,c=-c),0>d&&(b+=d,d=-d),this.x=a,this.y=b,this.width=c,this.height=d}var e=c(10),f=c(11),g=e.applyTransform,h=Math.min,i=Math.max;d.prototype={constructor:d,union:function(a){var b=h(a.x,this.x),c=h(a.y,this.y);this.width=i(a.x+a.width,this.x+this.width)-b,this.height=i(a.y+a.height,this.y+this.height)-c,this.x=b,this.y=c},applyTransform:function(){var a=[],b=[],c=[],d=[];return function(e){if(e){a[0]=c[0]=this.x,a[1]=d[1]=this.y,b[0]=d[0]=this.x+this.width,b[1]=c[1]=this.y+this.height,g(a,a,e),g(b,b,e),g(c,c,e),g(d,d,e),this.x=h(a[0],b[0],c[0],d[0]),this.y=h(a[1],b[1],c[1],d[1]);var f=i(a[0],b[0],c[0],d[0]),j=i(a[1],b[1],c[1],d[1]);this.width=f-this.x,this.height=j-this.y}}}(),calculateTransform:function(a){var b=this,c=a.width/b.width,d=a.height/b.height,e=f.create();return f.translate(e,e,[-b.x,-b.y]),f.scale(e,e,[c,d]),f.translate(e,e,[a.x,a.y]),e},intersect:function(a){if(!a)return!1;a instanceof d||(a=d.create(a));var b=this,c=b.x,e=b.x+b.width,f=b.y,g=b.y+b.height,h=a.x,i=a.x+a.width,j=a.y,k=a.y+a.height;return!(h>e||c>i||j>g||f>k)},contain:function(a,b){var c=this;return a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},clone:function(){return new d(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},d.create=function(a){return new d(a.x,a.y,a.width,a.height)},a.exports=d},function(a,b){var c="undefined"==typeof Float32Array?Array:Float32Array,d={create:function(a,b){var d=new c(2);return null==a&&(a=0),null==b&&(b=0),d[0]=a,d[1]=b,d},copy:function(a,b){return a[0]=b[0],a[1]=b[1],a},clone:function(a){var b=new c(2);return b[0]=a[0],b[1]=a[1],b},set:function(a,b,c){return a[0]=b,a[1]=c,a},add:function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a},scaleAndAdd:function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a},sub:function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a},len:function(a){return Math.sqrt(this.lenSquare(a))},lenSquare:function(a){return a[0]*a[0]+a[1]*a[1]},mul:function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},div:function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},scale:function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a},normalize:function(a,b){var c=d.len(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a},distance:function(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))},distanceSquare:function(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])},negate:function(a,b){return a[0]=-b[0],a[1]=-b[1],a},lerp:function(a,b,c,d){return a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1]),a},applyTransform:function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a},min:function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a},max:function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}};d.length=d.len,d.lengthSquare=d.lenSquare,d.dist=d.distance,d.distSquare=d.distanceSquare,a.exports=d},function(a,b){var c="undefined"==typeof Float32Array?Array:Float32Array,d={create:function(){var a=new c(6);return d.identity(a),a},identity:function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},copy:function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a},mul:function(a,b,c){var d=b[0]*c[0]+b[2]*c[1],e=b[1]*c[0]+b[3]*c[1],f=b[0]*c[2]+b[2]*c[3],g=b[1]*c[2]+b[3]*c[3],h=b[0]*c[4]+b[2]*c[5]+b[4],i=b[1]*c[4]+b[3]*c[5]+b[5];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a},translate:function(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a},rotate:function(a,b,c){var d=b[0],e=b[2],f=b[4],g=b[1],h=b[3],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+g*j,a[1]=-d*j+g*k,a[2]=e*k+h*j,a[3]=-e*j+k*h,a[4]=k*f+j*i,a[5]=k*i-j*f,a},scale:function(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a},invert:function(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3],h=b[5],i=c*g-f*d;return i?(i=1/i,a[0]=g*i,a[1]=-f*i,a[2]=-d*i,a[3]=c*i,a[4]=(d*h-g*e)*i,a[5]=(f*e-c*h)*i,a):null}};a.exports=d},function(a,b,c){function d(a,b,c){this.parentModel=b,this.ecModel=c,this.option=a}function e(a,b,c){for(var d=0;d<b.length&&(!b[d]||(a=a&&"object"==typeof a?a[b[d]]:null,null!=a));d++);return null==a&&c&&(a=c.get(b)),a}function f(a,b){var c=h.get(a,"getParent");return c?c.call(a,b):a.parentModel}var g=c(4),h=c(13),i=c(2);d.prototype={constructor:d,init:null,mergeOption:function(a){g.merge(this.option,a,!0)},get:function(a,b){return null==a?this.option:e(this.option,this.parsePath(a),!b&&f(this,a))},getShallow:function(a,b){var c=this.option,d=null==c?c:c[a],e=!b&&f(this,a);return null==d&&e&&(d=e.getShallow(a)),d},getModel:function(a,b){var c,g=null==a?this.option:e(this.option,a=this.parsePath(a));return b=b||(c=f(this,a))&&c.getModel(a),new d(g,b,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var a=this.constructor;return new a(g.clone(this.option))},setReadOnly:function(a){h.setReadOnly(this,a)},parsePath:function(a){return"string"==typeof a&&(a=a.split(".")),a},customizeGetParent:function(a){h.set(this,"getParent",a)},isAnimationEnabled:function(){if(!i.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},h.enableClassExtend(d);var j=g.mixin;j(d,c(14)),j(d,c(16)),j(d,c(17)),j(d,c(18)),a.exports=d},function(a,b,c){function d(a){g.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function e(a,b){var c=g.slice(arguments,2);return this.superClass.prototype[b].apply(a,c)}function f(a,b,c){return this.superClass.prototype[b].apply(a,c)}var g=c(4),h={},i=".",j="___EC__COMPONENT__CONTAINER___",k="\x00ec_\x00";h.set=function(a,b,c){return a[k+b]=c},h.get=function(a,b){return a[k+b]},h.hasOwn=function(a,b){return a.hasOwnProperty(k+b)};var l=h.parseClassType=function(a){var b={main:"",sub:""};return a&&(a=a.split(i),b.main=a[0]||"",b.sub=a[1]||""),b};h.enableClassExtend=function(a,b){a.$constructor=a,a.extend=function(a){g.each(b,function(b){!a[b]});var c=this,d=function(){a.$constructor?a.$constructor.apply(this,arguments):c.apply(this,arguments)};return g.extend(d.prototype,a),d.extend=this.extend,d.superCall=e,d.superApply=f,g.inherits(d,this),d.superClass=c,d}},h.enableClassManagement=function(a,b){function c(a){var b=e[a.main];return b&&b[j]||(b=e[a.main]={},b[j]=!0),b}b=b||{};var e={};if(a.registerClass=function(a,b){if(b)if(d(b),b=l(b),b.sub){if(b.sub!==j){var f=c(b);f[b.sub]=a}}else e[b.main],e[b.main]=a;return a},a.getClass=function(a,b,c){var d=e[a];if(d&&d[j]&&(d=b?d[b]:null),c&&!d)throw new Error(b?"Component "+a+"."+(b||"")+" not exists. Load it first.":a+".type should be specified.");return d},a.getClassesByMainType=function(a){a=l(a);var b=[],c=e[a.main];return c&&c[j]?g.each(c,function(a,c){c!==j&&b.push(a)}):b.push(c),b},a.hasClass=function(a){return a=l(a),!!e[a.main]},a.getAllClassMainTypes=function(){var a=[];return g.each(e,function(b,c){a.push(c)}),a},a.hasSubTypes=function(a){a=l(a);var b=e[a.main];return b&&b[j]},a.parseClassType=l,b.registerWhenExtend){var f=a.extend;f&&(a.extend=function(b){var c=f.call(this,b);return a.registerClass(c,b.type)})}return a},h.setReadOnly=function(a,b){},a.exports=h},function(a,b,c){var d=c(15)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);a.exports={getLineStyle:function(a){var b=d.call(this,a),c=this.getLineDash(b.lineWidth);return c&&(b.lineDash=c),b},getLineDash:function(a){null==a&&(a=1);var b=this.get("type"),c=Math.max(a,2),d=4*a;return"solid"===b||null==b?null:"dashed"===b?[d,d]:[c,c]}}},function(a,b,c){var d=c(4);a.exports=function(a){for(var b=0;b<a.length;b++)a[b][1]||(a[b][1]=a[b][0]);return function(b){for(var c={},e=0;e<a.length;e++){var f=a[e][1];if(!(b&&d.indexOf(b,f)>=0)){var g=this.getShallow(f);null!=g&&(c[a[e][0]]=g)}}return c}}},function(a,b,c){a.exports={getAreaStyle:c(15)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(a,b,c){function d(a,b){return a&&a.getShallow(b)}var e=c(8);a.exports={getTextColor:function(){var a=this.ecModel;return this.getShallow("color")||a&&a.get("textStyle.color")},getFont:function(){var a=this.ecModel,b=a&&a.getModel("textStyle");return[this.getShallow("fontStyle")||d(b,"fontStyle"),this.getShallow("fontWeight")||d(b,"fontWeight"),(this.getShallow("fontSize")||d(b,"fontSize")||12)+"px",this.getShallow("fontFamily")||d(b,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(a){return e.getBoundingRect(a,this.getFont(),this.getShallow("align"),this.getShallow("baseline"))},truncateText:function(a,b,c,d){return e.truncateText(a,b,this.getFont(),c,d)}}},function(a,b,c){var d=c(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);a.exports={getItemStyle:function(a){var b=d.call(this,a),c=this.getBorderLineDash();return c&&(b.lineDash=c),b},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}}},function(a,b,c){function d(a){var b=[];return f.each(k.getClassesByMainType(a),function(a){g.apply(b,a.prototype.dependencies||[])}),f.map(b,function(a){return i.parseClassType(a).main})}var e=c(12),f=c(4),g=Array.prototype.push,h=c(20),i=c(13),j=c(21),k=e.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(a,b,c,d){e.call(this,a,b,c,d),this.uid=h.getUID("componentModel")},init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,d=c?j.getLayoutParams(a):{},e=b.getTheme();f.merge(a,e.get(this.mainType)),f.merge(a,this.getDefaultOption()),c&&j.mergeLayoutParam(a,d,c)},mergeOption:function(a,b){f.merge(this.option,a,!0);var c=this.layoutMode;c&&j.mergeLayoutParam(this.option,a,c)},optionUpdated:function(a,b){},getDefaultOption:function(){if(!i.hasOwn(this,"__defaultOption")){for(var a=[],b=this.constructor;b;){var c=b.prototype.defaultOption;c&&a.push(c),b=b.superClass}for(var d={},e=a.length-1;e>=0;e--)d=f.merge(d,a[e],!0);i.set(this,"__defaultOption",d)}return i.get(this,"__defaultOption")},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)})}});i.enableClassManagement(k,{registerWhenExtend:!0}),h.enableSubTypeDefaulter(k),h.enableTopologicalTravel(k,d),f.mixin(k,c(22)),a.exports=k},function(a,b,c){var d=c(4),e=c(13),f=e.parseClassType,g=0,h={},i="_";h.getUID=function(a){return[a||"",g++,Math.random()].join(i)},h.enableSubTypeDefaulter=function(a){var b={};return a.registerSubTypeDefaulter=function(a,c){a=f(a),b[a.main]=c},a.determineSubType=function(c,d){var e=d.type;if(!e){var g=f(c).main;a.hasSubTypes(c)&&b[g]&&(e=b[g](d))}return e},a},h.enableTopologicalTravel=function(a,b){function c(a){var c={},g=[];return d.each(a,function(h){var i=e(c,h),j=i.originalDeps=b(h),k=f(j,a);i.entryCount=k.length,0===i.entryCount&&g.push(h),d.each(k,function(a){d.indexOf(i.predecessor,a)<0&&i.predecessor.push(a);var b=e(c,a);d.indexOf(b.successor,a)<0&&b.successor.push(h)})}),{graph:c,noEntryList:g}}function e(a,b){return a[b]||(a[b]={predecessor:[],successor:[]}),a[b]}function f(a,b){var c=[];return d.each(a,function(a){d.indexOf(b,a)>=0&&c.push(a)}),c}a.topologicalTravel=function(a,b,e,f){function g(a){j[a].entryCount--,0===j[a].entryCount&&k.push(a)}function h(a){l[a]=!0,g(a)}if(a.length){var i=c(b),j=i.graph,k=i.noEntryList,l={};for(d.each(a,function(a){l[a]=!0});k.length;){var m=k.pop(),n=j[m],o=!!l[m];o&&(e.call(f,m,n.originalDeps.slice()),delete l[m]),d.each(n.successor,o?h:g)}d.each(l,function(){throw new Error("Circle dependency may exists")})}}},a.exports=h},function(a,b,c){function d(a,b,c,d,e){var f=0,g=0;null==d&&(d=1/0),null==e&&(e=1/0);var h=0;b.eachChild(function(i,j){var k,l,m=i.position,n=i.getBoundingRect(),o=b.childAt(j+1),p=o&&o.getBoundingRect();if("horizontal"===a){var q=n.width+(p?-p.x+n.x:0);k=f+q,k>d||i.newline?(f=0,k=q,g+=h+c,h=n.height):h=Math.max(h,n.height)}else{var r=n.height+(p?-p.y+n.y:0);l=g+r,l>e||i.newline?(f+=h+c,g=0,l=r,h=n.width):h=Math.max(h,n.width)}i.newline||(m[0]=f,m[1]=g,"horizontal"===a?f=k+c:g=l+c)})}var e=c(4),f=c(9),g=c(7),h=c(6),i=g.parsePercent,j=e.each,k={},l=k.LOCATION_PARAMS=["left","right","top","bottom","width","height"];k.box=d,k.vbox=e.curry(d,"vertical"),k.hbox=e.curry(d,"horizontal"),k.getAvailableSize=function(a,b,c){var d=b.width,e=b.height,f=i(a.x,d),g=i(a.y,e),j=i(a.x2,d),k=i(a.y2,e);return(isNaN(f)||isNaN(parseFloat(a.x)))&&(f=0),(isNaN(j)||isNaN(parseFloat(a.x2)))&&(j=d),(isNaN(g)||isNaN(parseFloat(a.y)))&&(g=0),(isNaN(k)||isNaN(parseFloat(a.y2)))&&(k=e),c=h.normalizeCssArray(c||0),{width:Math.max(j-f-c[1]-c[3],0),height:Math.max(k-g-c[0]-c[2],0)}},k.getLayoutRect=function(a,b,c){c=h.normalizeCssArray(c||0);var d=b.width,e=b.height,g=i(a.left,d),j=i(a.top,e),k=i(a.right,d),l=i(a.bottom,e),m=i(a.width,d),n=i(a.height,e),o=c[2]+c[0],p=c[1]+c[3],q=a.aspect;switch(isNaN(m)&&(m=d-k-p-g),isNaN(n)&&(n=e-l-o-j),isNaN(m)&&isNaN(n)&&(q>d/e?m=.8*d:n=.8*e),null!=q&&(isNaN(m)&&(m=q*n),isNaN(n)&&(n=m/q)),isNaN(g)&&(g=d-k-m-p),isNaN(j)&&(j=e-l-n-o),a.left||a.right){case"center":g=d/2-m/2-c[3];break;case"right":g=d-m-p}switch(a.top||a.bottom){case"middle":case"center":j=e/2-n/2-c[0];break;case"bottom":j=e-n-o}g=g||0,j=j||0,isNaN(m)&&(m=d-g-(k||0)),isNaN(n)&&(n=e-j-(l||0));var r=new f(g+c[3],j+c[0],m,n);return r.margin=c,r},k.positionElement=function(a,b,c,d,g){var h=!g||!g.hv||g.hv[0],i=!g||!g.hv||g.hv[1],j=g&&g.boundingMode||"all";if(h||i){var l;if("raw"===j)l="group"===a.type?new f(0,0,+b.width||0,+b.height||0):a.getBoundingRect();else if(l=a.getBoundingRect(),a.needLocalTransform()){var m=a.getLocalTransform();l=l.clone(),l.applyTransform(m)}b=k.getLayoutRect(e.defaults({width:l.width,height:l.height},b),c,d);var n=a.position,o=h?b.x-l.x:0,p=i?b.y-l.y:0;a.attr("position","raw"===j?[o,p]:[n[0]+o,n[1]+p])}},k.mergeLayoutParam=function(a,b,c){function d(d){var e={},h=0,i={},k=0,l=c.ignoreSize?1:2;if(j(d,function(b){i[b]=a[b]}),j(d,function(a){f(b,a)&&(e[a]=i[a]=b[a]),g(e,a)&&h++,g(i,a)&&k++}),k!==l&&h){if(h>=l)return e;for(var m=0;m<d.length;m++){var n=d[m];if(!f(e,n)&&f(a,n)){e[n]=a[n];break}}return e}return i}function f(a,b){return a.hasOwnProperty(b)}function g(a,b){return null!=a[b]&&"auto"!==a[b]}function h(a,b,c){j(a,function(a){b[a]=c[a]})}!e.isObject(c)&&(c={});var i=["width","left","right"],k=["height","top","bottom"],l=d(i),m=d(k);h(i,a,l),h(k,a,m)},k.getLayoutParams=function(a){return k.copyLayoutParams({},a)},k.copyLayoutParams=function(a,b){return b&&a&&j(l,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a},a.exports=k},function(a,b){a.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(a,b){var c="";"undefined"!=typeof navigator&&(c=navigator.platform||""),a.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:c.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:!0,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3}},function(a,b,c){var d=c(13),e=d.set,f=d.get;a.exports={clearColorPalette:function(){e(this,"colorIdx",0),e(this,"colorNameMap",{})},getColorFromPalette:function(a,b){b=b||this;var c=f(b,"colorIdx")||0,d=f(b,"colorNameMap")||e(b,"colorNameMap",{});if(d[a])return d[a];var g=this.get("color",!0)||[];if(g.length){var h=g[c];return a&&(d[a]=h),e(b,"colorIdx",(c+1)%g.length),h}}}},function(a,b,c){function d(a){e.each(f,function(b){this[b]=e.bind(a[b],a)},this)}var e=c(4),f=["getDom","getZr","getWidth","getHeight","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption"];a.exports=d},function(a,b,c){function d(){this._coordinateSystems=[]}var e=c(4),f={};d.prototype={constructor:d,create:function(a,b){var c=[];e.each(f,function(d,e){var f=d.create(a,b);c=c.concat(f||[])}),this._coordinateSystems=c},update:function(a,b){e.each(this._coordinateSystems,function(c){c.update&&c.update(a,b)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},d.register=function(a,b){f[a]=b},d.get=function(a){return f[a]},a.exports=d},function(a,b,c){function d(a){this._api=a,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function e(a,b,c){var d,e,f=[],g=[],h=a.timeline;if(a.baseOption&&(e=a.baseOption),(h||a.options)&&(e=e||{},f=(a.options||[]).slice()),a.media){e=e||{};var i=a.media;m(i,function(a){a&&a.option&&(a.query?g.push(a):d||(d=a))})}return e||(e=a),e.timeline||(e.timeline=h),m([e].concat(f).concat(j.map(g,function(a){return a.option})),function(a){m(b,function(b){b(a,c)})}),{baseOption:e,timelineOptions:f,mediaDefault:d,mediaList:g}}function f(a,b,c){var d={width:b,height:c,aspectratio:b/c},e=!0;return j.each(a,function(a,b){var c=b.match(q);if(c&&c[1]&&c[2]){var f=c[1],h=c[2].toLowerCase();g(d[h],a,f)||(e=!1)}}),e}function g(a,b,c){return"min"===c?a>=b:"max"===c?b>=a:a===b}function h(a,b){return a.join(",")===b.join(",")}function i(a,b){b=b||{},m(b,function(b,c){if(null!=b){var d=a[c];if(l.hasClass(c)){b=k.normalizeToArray(b),d=k.normalizeToArray(d);var e=k.mappingToExists(d,b);a[c]=o(e,function(a){return a.option&&a.exist?p(a.exist,a.option,!0):a.exist||a.option})}else a[c]=p(d,b,!0)}})}var j=c(4),k=c(5),l=c(19),m=j.each,n=j.clone,o=j.map,p=j.merge,q=/^(min|max)?(.+)$/;d.prototype={constructor:d,setOption:function(a,b){a=n(a,!0);var c=this._optionBackup,d=e.call(this,a,b,!c);this._newBaseOption=d.baseOption,c?(i(c.baseOption,d.baseOption),d.timelineOptions.length&&(c.timelineOptions=d.timelineOptions),d.mediaList.length&&(c.mediaList=d.mediaList),d.mediaDefault&&(c.mediaDefault=d.mediaDefault)):this._optionBackup=d},mountOption:function(a){var b=this._optionBackup;return this._timelineOptions=o(b.timelineOptions,n),this._mediaList=o(b.mediaList,n),this._mediaDefault=n(b.mediaDefault),this._currentMediaIndices=[],n(a?b.baseOption:this._newBaseOption)},getTimelineOption:function(a){var b,c=this._timelineOptions;if(c.length){var d=a.getComponent("timeline");d&&(b=n(c[d.getCurrentIndex()],!0))}return b},getMediaOption:function(a){var b=this._api.getWidth(),c=this._api.getHeight(),d=this._mediaList,e=this._mediaDefault,g=[],i=[];if(!d.length&&!e)return i;for(var j=0,k=d.length;k>j;j++)f(d[j].query,b,c)&&g.push(j);return!g.length&&e&&(g=[-1]),g.length&&!h(g,this._currentMediaIndices)&&(i=o(g,function(a){return n(-1===a?e.option:d[a].option)})),this._currentMediaIndices=g,i}},a.exports=d},function(a,b,c){var d=c(4),e=c(6),f=c(13),g=c(5),h=c(19),i=c(24),j=c(2),k=c(21),l=f.set,m=f.get,n=e.encodeHTML,o=e.addCommas,p=h.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(a,b,c,d){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(a,c),l(this,"dataBeforeProcessed",this.getInitialData(a,c)),this.restoreData()},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,e=c?k.getLayoutParams(a):{};d.merge(a,b.getTheme().get(this.subType)),d.merge(a,this.getDefaultOption()),g.defaultEmphasis(a.label,g.LABEL_OPTIONS),this.fillDataTextStyle(a.data),c&&k.mergeLayoutParam(a,e,c)},mergeOption:function(a,b){a=d.merge(this.option,a,!0),this.fillDataTextStyle(a.data);var c=this.layoutMode;c&&k.mergeLayoutParam(this.option,a,c);var e=this.getInitialData(a,b);e&&(l(this,"data",e),l(this,"dataBeforeProcessed",e.cloneShallow()))},fillDataTextStyle:function(a){if(a)for(var b=0;b<a.length;b++)a[b]&&a[b].label&&g.defaultEmphasis(a[b].label,g.LABEL_OPTIONS)},getInitialData:function(){},getData:function(a){var b=m(this,"data");return null==a?b:b.getLinkedData(a)},setData:function(a){l(this,"data",a)},getRawData:function(){return m(this,"dataBeforeProcessed")},coordDimToDataDim:function(a){return[a]},dataDimToCoordDim:function(a){return a},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(a,b,c){function f(a){var c=[];return d.each(a,function(a,d){var f,h=g.getDimensionInfo(d),i=h&&h.type;f="ordinal"===i?a+"":"time"===i?b?"":e.formatTime("yyyy/MM/dd hh:mm:ss",a):o(a),f&&c.push(f)}),c.join(", ")}var g=m(this,"data"),h=this.getRawValue(a),i=n(d.isArray(h)?f(h):o(h)),j=g.getName(a),k=g.getItemVisual(a,"color");d.isObject(k)&&k.colorStops&&(k=(k.colorStops[0]||{}).color),k=k||"transparent";var l='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+n(k)+'"></span>',p=this.name;return"\x00-"===p&&(p=""),b?l+n(this.name)+" : "+i:(p&&n(p)+"<br />")+l+(j?n(j)+" : "+i:i)},isAnimationEnabled:function(){if(j.node)return!1;var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),a},restoreData:function(){l(this,"data",m(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(a,b){var c=this.ecModel,d=i.getColorFromPalette.call(this,a,b);return d||(d=c.getColorFromPalette(a,b)),d},getAxisTooltipDataIndex:null,getTooltipPosition:null});d.mixin(p,g.dataFormatMixin),d.mixin(p,i),a.exports=p},function(a,b,c){var d=c(30),e=c(20),f=c(13),g=function(){this.group=new d,this.uid=e.getUID("viewComponent")};g.prototype={constructor:g,init:function(a,b){},render:function(a,b,c,d){},dispose:function(){}};var h=g.prototype;h.updateView=h.updateLayout=h.updateVisual=function(a,b,c,d){},f.enableClassExtend(g),f.enableClassManagement(g,{registerWhenExtend:!0}),a.exports=g},function(a,b,c){var d=c(4),e=c(31),f=c(9),g=function(a){a=a||{},e.call(this,a);for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this._children=[],this.__storage=null,this.__dirty=!0};g.prototype={constructor:g,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var b=this._children,c=0;c<b.length;c++)if(b[c].name===a)return b[c]},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(a,b){if(a&&a!==this&&a.parent!==this&&b&&b.parent===this){var c=this._children,d=c.indexOf(b);d>=0&&(c.splice(d,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a),a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToMap(a),a instanceof g&&a.addChildrenToStorage(b)),c&&c.refresh()},remove:function(a){var b=this.__zr,c=this.__storage,e=this._children,f=d.indexOf(e,a);return 0>f?this:(e.splice(f,1),a.parent=null,c&&(c.delFromMap(a.id),a instanceof g&&a.delChildrenFromStorage(c)),b&&b.refresh(),this)},removeAll:function(){var a,b,c=this._children,d=this.__storage;for(b=0;b<c.length;b++)a=c[b],d&&(d.delFromMap(a.id),a instanceof g&&a.delChildrenFromStorage(d)),a.parent=null;return c.length=0,this},eachChild:function(a,b){for(var c=this._children,d=0;d<c.length;d++){var e=c[d];a.call(b,e,d)}return this},traverse:function(a,b){for(var c=0;c<this._children.length;c++){var d=this._children[c];a.call(b,d),"group"===d.type&&d.traverse(a,b)}return this},addChildrenToStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.addToMap(c),c instanceof g&&c.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.delFromMap(c.id),c instanceof g&&c.delChildrenFromStorage(a)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(a){for(var b=null,c=new f(0,0,0,0),d=a||this._children,e=[],g=0;g<d.length;g++){var h=d[g];if(!h.ignore&&!h.invisible){var i=h.getBoundingRect(),j=h.getLocalTransform(e);j?(c.copy(i),c.applyTransform(j),b=b||c.clone(),
b.union(c)):(b=b||i.clone(),b.union(i))}}return b||c}},d.inherits(g,e),a.exports=g},function(a,b,c){var d=c(32),e=c(33),f=c(34),g=c(35),h=c(4),i=function(a){f.call(this,a),e.call(this,a),g.call(this,a),this.id=a.id||d()};i.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(a,b){switch(this.draggable){case"horizontal":b=0;break;case"vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]),c[4]+=a,c[5]+=b,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(a,b){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]),c[0]=b[0],c[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"==typeof a)this.attrKV(a,b);else if(h.isObject(a))for(var c in a)a.hasOwnProperty(c)&&this.attrKV(c,a[c]);return this.dirty(!1),this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b),this.clipPath&&this.clipPath!==a&&this.removeClipPath(),this.clipPath=a,a.__zr=b,a.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);this.clipPath&&this.clipPath.removeSelfFromZr(a)}},h.mixin(i,g),h.mixin(i,f),h.mixin(i,e),a.exports=i},function(a,b){var c=2311;a.exports=function(){return c++}},function(a,b){var c=Array.prototype.slice,d=function(){this._$handlers={}};d.prototype={constructor:d,one:function(a,b,c){var d=this._$handlers;if(!b||!a)return this;d[a]||(d[a]=[]);for(var e=0;e<d[a].length;e++)if(d[a][e].h===b)return this;return d[a].push({h:b,one:!0,ctx:c||this}),this},on:function(a,b,c){var d=this._$handlers;if(!b||!a)return this;d[a]||(d[a]=[]);for(var e=0;e<d[a].length;e++)if(d[a][e].h===b)return this;return d[a].push({h:b,one:!1,ctx:c||this}),this},isSilent:function(a){var b=this._$handlers;return b[a]&&b[a].length},off:function(a,b){var c=this._$handlers;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(var d=[],e=0,f=c[a].length;f>e;e++)c[a][e].h!=b&&d.push(c[a][e]);c[a]=d}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this},trigger:function(a){if(this._$handlers[a]){var b=arguments,d=b.length;d>3&&(b=c.call(b,1));for(var e=this._$handlers[a],f=e.length,g=0;f>g;){switch(d){case 1:e[g].h.call(e[g].ctx);break;case 2:e[g].h.call(e[g].ctx,b[1]);break;case 3:e[g].h.call(e[g].ctx,b[1],b[2]);break;default:e[g].h.apply(e[g].ctx,b)}e[g].one?(e.splice(g,1),f--):g++}}return this},triggerWithContext:function(a){if(this._$handlers[a]){var b=arguments,d=b.length;d>4&&(b=c.call(b,1,b.length-1));for(var e=b[b.length-1],f=this._$handlers[a],g=f.length,h=0;g>h;){switch(d){case 1:f[h].h.call(e);break;case 2:f[h].h.call(e,b[1]);break;case 3:f[h].h.call(e,b[1],b[2]);break;default:f[h].h.apply(e,b)}f[h].one?(f.splice(h,1),g--):h++}}return this}},a.exports=d},function(a,b,c){function d(a){return a>h||-h>a}var e=c(11),f=c(10),g=e.identity,h=5e-5,i=function(a){a=a||{},a.position||(this.position=[0,0]),null==a.rotation&&(this.rotation=0),a.scale||(this.scale=[1,1]),this.origin=this.origin||null},j=i.prototype;j.transform=null,j.needLocalTransform=function(){return d(this.rotation)||d(this.position[0])||d(this.position[1])||d(this.scale[0]-1)||d(this.scale[1]-1)},j.updateTransform=function(){var a=this.parent,b=a&&a.transform,c=this.needLocalTransform(),d=this.transform;return c||b?(d=d||e.create(),c?this.getLocalTransform(d):g(d),b&&(c?e.mul(d,a.transform,d):e.copy(d,a.transform)),this.transform=d,this.invTransform=this.invTransform||e.create(),void e.invert(this.invTransform,d)):void(d&&g(d))},j.getLocalTransform=function(a){a=a||[],g(a);var b=this.origin,c=this.scale,d=this.rotation,f=this.position;return b&&(a[4]-=b[0],a[5]-=b[1]),e.scale(a,a,c),d&&e.rotate(a,a,d),b&&(a[4]+=b[0],a[5]+=b[1]),a[4]+=f[0],a[5]+=f[1],a},j.setTransform=function(a){var b=this.transform,c=a.dpr||1;b?a.setTransform(c*b[0],c*b[1],c*b[2],c*b[3],c*b[4],c*b[5]):a.setTransform(c,0,0,c,0,0)},j.restoreTransform=function(a){var b=(this.transform,a.dpr||1);a.setTransform(b,0,0,b,0,0)};var k=[];j.decomposeTransform=function(){if(this.transform){var a=this.parent,b=this.transform;a&&a.transform&&(e.mul(k,a.invTransform,b),b=k);var c=b[0]*b[0]+b[1]*b[1],f=b[2]*b[2]+b[3]*b[3],g=this.position,h=this.scale;d(c-1)&&(c=Math.sqrt(c)),d(f-1)&&(f=Math.sqrt(f)),b[0]<0&&(c=-c),b[3]<0&&(f=-f),g[0]=b[4],g[1]=b[5],h[0]=c,h[1]=f,this.rotation=Math.atan2(-b[1]/f,b[0]/c)}},j.getGlobalScale=function(){var a=this.transform;if(!a)return[1,1];var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.sqrt(a[2]*a[2]+a[3]*a[3]);return a[0]<0&&(b=-b),a[3]<0&&(c=-c),[b,c]},j.transformCoordToLocal=function(a,b){var c=[a,b],d=this.invTransform;return d&&f.applyTransform(c,c,d),c},j.transformCoordToGlobal=function(a,b){var c=[a,b],d=this.transform;return d&&f.applyTransform(c,c,d),c},a.exports=i},function(a,b,c){var d=c(36),e=c(4),f=e.isString,g=e.isFunction,h=e.isObject,i=c(40),j=function(){this.animators=[]};j.prototype={constructor:j,animate:function(a,b){var c,f=!1,g=this,h=this.__zr;if(a){var j=a.split("."),k=g;f="shape"===j[0];for(var l=0,m=j.length;m>l;l++)k&&(k=k[j[l]]);k&&(c=k)}else c=g;if(!c)return void i('Property "'+a+'" is not existed in element '+g.id);var n=g.animators,o=new d(c,b);return o.during(function(a){g.dirty(f)}).done(function(){n.splice(e.indexOf(n,o),1)}),n.push(o),h&&h.animation.addAnimator(o),o},stopAnimation:function(a){for(var b=this.animators,c=b.length,d=0;c>d;d++)b[d].stop(a);return b.length=0,this},animateTo:function(a,b,c,d,e){function h(){j--,j||e&&e()}f(c)?(e=d,d=c,c=0):g(d)?(e=d,d="linear",c=0):g(c)?(e=c,c=0):g(b)?(e=b,b=500):b||(b=500),this.stopAnimation(),this._animateToShallow("",this,a,b,c,d,e);var i=this.animators.slice(),j=i.length;j||e&&e();for(var k=0;k<i.length;k++)i[k].done(h).start(d)},_animateToShallow:function(a,b,c,d,f){var g={},i=0;for(var j in c)if(c.hasOwnProperty(j))if(null!=b[j])h(c[j])&&!e.isArrayLike(c[j])?this._animateToShallow(a?a+"."+j:j,b[j],c[j],d,f):(g[j]=c[j],i++);else if(null!=c[j])if(a){var k={};k[a]={},k[a][j]=c[j],this.attr(k)}else this.attr(j,c[j]);return i>0&&this.animate(a,!1).when(null==d?500:d,g).delay(f||0),this}},a.exports=j},function(a,b,c){function d(a,b){return a[b]}function e(a,b,c){a[b]=c}function f(a,b,c){return(b-a)*c+a}function g(a,b,c){return c>.5?b:a}function h(a,b,c,d,e){var g=a.length;if(1==e)for(var h=0;g>h;h++)d[h]=f(a[h],b[h],c);else for(var i=a[0].length,h=0;g>h;h++)for(var j=0;i>j;j++)d[h][j]=f(a[h][j],b[h][j],c)}function i(a,b,c){var d=a.length,e=b.length;if(d!==e){var f=d>e;if(f)a.length=e;else for(var g=d;e>g;g++)a.push(1===c?b[g]:t.call(b[g]))}for(var h=a[0]&&a[0].length,g=0;g<a.length;g++)if(1===c)isNaN(a[g])&&(a[g]=b[g]);else for(var i=0;h>i;i++)isNaN(a[g][i])&&(a[g][i]=b[g][i])}function j(a,b,c){if(a===b)return!0;var d=a.length;if(d!==b.length)return!1;if(1===c){for(var e=0;d>e;e++)if(a[e]!==b[e])return!1}else for(var f=a[0].length,e=0;d>e;e++)for(var g=0;f>g;g++)if(a[e][g]!==b[e][g])return!1;return!0}function k(a,b,c,d,e,f,g,h,i){var j=a.length;if(1==i)for(var k=0;j>k;k++)h[k]=l(a[k],b[k],c[k],d[k],e,f,g);else for(var m=a[0].length,k=0;j>k;k++)for(var n=0;m>n;n++)h[k][n]=l(a[k][n],b[k][n],c[k][n],d[k][n],e,f,g)}function l(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}function m(a){if(s(a)){var b=a.length;if(s(a[0])){for(var c=[],d=0;b>d;d++)c.push(t.call(a[d]));return c}return t.call(a)}return a}function n(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}function o(a,b,c,d,e){var m=a._getter,o=a._setter,r="spline"===b,t=d.length;if(t){var u,v=d[0].value,w=s(v),x=!1,y=!1,z=w&&s(v[0])?2:1;d.sort(function(a,b){return a.time-b.time}),u=d[t-1].time;for(var A=[],B=[],C=d[0].value,D=!0,E=0;t>E;E++){A.push(d[E].time/u);var F=d[E].value;if(w&&j(F,C,z)||!w&&F===C||(D=!1),C=F,"string"==typeof F){var G=q.parse(F);G?(F=G,x=!0):y=!0}B.push(F)}if(!D){for(var H=B[t-1],E=0;t-1>E;E++)w?i(B[E],H,z):!isNaN(B[E])||isNaN(H)||y||x||(B[E]=H);w&&i(m(a._target,e),H,z);var I,J,K,L,M,N,O=0,P=0;if(x)var Q=[0,0,0,0];var R=function(a,b){var c;if(0>b)c=0;else if(P>b){for(I=Math.min(O+1,t-1),c=I;c>=0&&!(A[c]<=b);c--);c=Math.min(c,t-2)}else{for(c=O;t>c&&!(A[c]>b);c++);c=Math.min(c-1,t-2)}O=c,P=b;var d=A[c+1]-A[c];if(0!==d)if(J=(b-A[c])/d,r)if(L=B[c],K=B[0===c?c:c-1],M=B[c>t-2?t-1:c+1],N=B[c>t-3?t-1:c+2],w)k(K,L,M,N,J,J*J,J*J*J,m(a,e),z);else{var i;if(x)i=k(K,L,M,N,J,J*J,J*J*J,Q,1),i=n(Q);else{if(y)return g(L,M,J);i=l(K,L,M,N,J,J*J,J*J*J)}o(a,e,i)}else if(w)h(B[c],B[c+1],J,m(a,e),z);else{var i;if(x)h(B[c],B[c+1],J,Q,1),i=n(Q);else{if(y)return g(B[c],B[c+1],J);i=f(B[c],B[c+1],J)}o(a,e,i)}},S=new p({target:a._target,life:u,loop:a._loop,delay:a._delay,onframe:R,ondestroy:c});return b&&"spline"!==b&&(S.easing=b),S}}}var p=c(37),q=c(39),r=c(4),s=r.isArrayLike,t=Array.prototype.slice,u=function(a,b,c,f){this._tracks={},this._target=a,this._loop=b||!1,this._getter=c||d,this._setter=f||e,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};u.prototype={when:function(a,b){var c=this._tracks;for(var d in b)if(b.hasOwnProperty(d)){if(!c[d]){c[d]=[];var e=this._getter(this._target,d);if(null==e)continue;0!==a&&c[d].push({time:0,value:m(e)})}c[d].push({time:a,value:b[d]})}return this},during:function(a){return this._onframeList.push(a),this},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var a=this._doneList,b=a.length,c=0;b>c;c++)a[c].call(this)},start:function(a){var b,c=this,d=0,e=function(){d--,d||c._doneCallback()};for(var f in this._tracks)if(this._tracks.hasOwnProperty(f)){var g=o(this,a,e,this._tracks[f],f);g&&(this._clipList.push(g),d++,this.animation&&this.animation.addClip(g),b=g)}if(b){var h=b.onframe;b.onframe=function(a,b){h(a,b);for(var d=0;d<c._onframeList.length;d++)c._onframeList[d](a,b)}}return d||this._doneCallback(),this},stop:function(a){for(var b=this._clipList,c=this.animation,d=0;d<b.length;d++){var e=b[d];a&&e.onframe(this._target,1),c&&c.removeClip(e)}b.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}},a.exports=u},function(a,b,c){function d(a){this._target=a.target,this._life=a.life||1e3,this._delay=a.delay||0,this._initialized=!1,this.loop=null==a.loop?!1:a.loop,this.gap=a.gap||0,this.easing=a.easing||"Linear",this.onframe=a.onframe,this.ondestroy=a.ondestroy,this.onrestart=a.onrestart}var e=c(38);d.prototype={constructor:d,step:function(a){this._initialized||(this._startTime=a+this._delay,this._initialized=!0);var b=(a-this._startTime)/this._life;if(!(0>b)){b=Math.min(b,1);var c=this.easing,d="string"==typeof c?e[c]:c,f="function"==typeof d?d(b):b;return this.fire("frame",f),1==b?this.loop?(this.restart(a),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(a){var b=(a-this._startTime)%this._life;this._startTime=a-b+this.gap,this._needsRemove=!1},fire:function(a,b){a="on"+a,this[a]&&this[a](this._target,b)}},a.exports=d},function(a,b){var c={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b,c=.1,d=.4;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=d/4):b=d*Math.asin(1/c)/(2*Math.PI),-(c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/d)))},elasticOut:function(a){var b,c=.1,d=.4;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=d/4):b=d*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*a)*Math.sin((a-b)*(2*Math.PI)/d)+1)},elasticInOut:function(a){var b,c=.1,d=.4;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=d/4):b=d*Math.asin(1/c)/(2*Math.PI),(a*=2)<1?-.5*(c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/d)):c*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/d)*.5+1)},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){var b=1.70158;return--a*a*((b+1)*a+b)+1},backInOut:function(a){var b=2.5949095;return(a*=2)<1?.5*(a*a*((b+1)*a-b)):.5*((a-=2)*a*((b+1)*a+b)+2)},bounceIn:function(a){return 1-c.bounceOut(1-a)},bounceOut:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return.5>a?.5*c.bounceIn(2*a):.5*c.bounceOut(2*a-1)+.5}};a.exports=c},function(a,b){function c(a){return a=Math.round(a),0>a?0:a>255?255:a}function d(a){return a=Math.round(a),0>a?0:a>360?360:a}function e(a){return 0>a?0:a>1?1:a}function f(a){return c(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100*255:parseInt(a,10))}function g(a){return e(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100:parseFloat(a))}function h(a,b,c){return 0>c?c+=1:c>1&&(c-=1),1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}function i(a,b,c){return a+(b-a)*c}function j(a){if(a){a+="";var b=a.replace(/ /g,"").toLowerCase();if(b in t)return t[b].slice();if("#"!==b.charAt(0)){var c=b.indexOf("("),d=b.indexOf(")");if(-1!==c&&d+1===b.length){var e=b.substr(0,c),h=b.substr(c+1,d-(c+1)).split(","),i=1;switch(e){case"rgba":if(4!==h.length)return;i=g(h.pop());case"rgb":if(3!==h.length)return;return[f(h[0]),f(h[1]),f(h[2]),i];case"hsla":if(4!==h.length)return;return h[3]=g(h[3]),k(h);case"hsl":if(3!==h.length)return;return k(h);default:return}}}else{if(4===b.length){var j=parseInt(b.substr(1),16);if(!(j>=0&&4095>=j))return;return[(3840&j)>>4|(3840&j)>>8,240&j|(240&j)>>4,15&j|(15&j)<<4,1]}if(7===b.length){var j=parseInt(b.substr(1),16);if(!(j>=0&&16777215>=j))return;return[(16711680&j)>>16,(65280&j)>>8,255&j,1]}}}}function k(a){var b=(parseFloat(a[0])%360+360)%360/360,d=g(a[1]),e=g(a[2]),f=.5>=e?e*(d+1):e+d-e*d,i=2*e-f,j=[c(255*h(i,f,b+1/3)),c(255*h(i,f,b)),c(255*h(i,f,b-1/3))];return 4===a.length&&(j[3]=a[3]),j}function l(a){if(a){var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=Math.min(d,e,f),h=Math.max(d,e,f),i=h-g,j=(h+g)/2;if(0===i)b=0,c=0;else{c=.5>j?i/(h+g):i/(2-h-g);var k=((h-d)/6+i/2)/i,l=((h-e)/6+i/2)/i,m=((h-f)/6+i/2)/i;d===h?b=m-l:e===h?b=1/3+k-m:f===h&&(b=2/3+l-k),0>b&&(b+=1),b>1&&(b-=1)}var n=[360*b,c,j];return null!=a[3]&&n.push(a[3]),n}}function m(a,b){var c=j(a);if(c){for(var d=0;3>d;d++)0>b?c[d]=c[d]*(1-b)|0:c[d]=(255-c[d])*b+c[d]|0;return s(c,4===c.length?"rgba":"rgb")}}function n(a,b){var c=j(a);return c?((1<<24)+(c[0]<<16)+(c[1]<<8)+ +c[2]).toString(16).slice(1):void 0}function o(a,b,d){if(b&&b.length&&a>=0&&1>=a){d=d||[0,0,0,0];var e=a*(b.length-1),f=Math.floor(e),g=Math.ceil(e),h=b[f],j=b[g],k=e-f;return d[0]=c(i(h[0],j[0],k)),d[1]=c(i(h[1],j[1],k)),d[2]=c(i(h[2],j[2],k)),d[3]=c(i(h[3],j[3],k)),d}}function p(a,b,d){if(b&&b.length&&a>=0&&1>=a){var f=a*(b.length-1),g=Math.floor(f),h=Math.ceil(f),k=j(b[g]),l=j(b[h]),m=f-g,n=s([c(i(k[0],l[0],m)),c(i(k[1],l[1],m)),c(i(k[2],l[2],m)),e(i(k[3],l[3],m))],"rgba");return d?{color:n,leftIndex:g,rightIndex:h,value:f}:n}}function q(a,b,c,e){return a=j(a),a?(a=l(a),null!=b&&(a[0]=d(b)),null!=c&&(a[1]=g(c)),null!=e&&(a[2]=g(e)),s(k(a),"rgba")):void 0}function r(a,b){return a=j(a),a&&null!=b?(a[3]=e(b),s(a,"rgba")):void 0}function s(a,b){var c=a[0]+","+a[1]+","+a[2];return("rgba"===b||"hsva"===b||"hsla"===b)&&(c+=","+a[3]),b+"("+c+")"}var t={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};a.exports={parse:j,lift:m,toHex:n,fastMapToColor:o,mapToColor:p,modifyHSL:q,modifyAlpha:r,stringify:s}},function(a,b,c){var d=c(41);a.exports=function(){if(0!==d.debugMode)if(1==d.debugMode)for(var a in arguments)throw new Error(arguments[a]);else if(d.debugMode>1)for(var a in arguments);}},function(a,b){var c=1;"undefined"!=typeof window&&(c=Math.max(window.devicePixelRatio||1,1));var d={debugMode:0,devicePixelRatio:c};a.exports=d},function(a,b,c){function d(){this.group=new g,this.uid=h.getUID("viewChart")}function e(a,b){if(a&&(a.trigger(b),"group"===a.type))for(var c=0;c<a.childCount();c++)e(a.childAt(c),b)}function f(a,b,c){var d=j.queryDataIndex(a,b);null!=d?k.each(j.normalizeToArray(d),function(b){e(a.getItemGraphicEl(b),c)}):a.eachItemGraphicEl(function(a){e(a,c)})}var g=c(30),h=c(20),i=c(13),j=c(5),k=c(4);d.prototype={type:"chart",init:function(a,b){},render:function(a,b,c,d){},highlight:function(a,b,c,d){f(a.getData(),d,"emphasis")},downplay:function(a,b,c,d){f(a.getData(),d,"normal")},remove:function(a,b){this.group.removeAll()},dispose:function(){}};var l=d.prototype;l.updateView=l.updateLayout=l.updateVisual=function(a,b,c,d){this.render(a,b,c,d)},i.enableClassExtend(d,["dispose"]),i.enableClassManagement(d,{registerWhenExtend:!0}),a.exports=d},function(a,b,c){function d(a){return null!=a&&"none"!=a}function e(a){return"string"==typeof a?u.lift(a,-.1):a}function f(a){if(a.__hoverStlDirty){var b=a.style.stroke,c=a.style.fill,f=a.__hoverStl;f.fill=f.fill||(d(c)?e(c):null),f.stroke=f.stroke||(d(b)?e(b):null);var g={};for(var h in f)f.hasOwnProperty(h)&&(g[h]=a.style[h]);a.__normalStl=g,a.__hoverStlDirty=!1}}function g(a){a.__isHover||(f(a),a.useHoverLayer?a.__zr&&a.__zr.addHover(a,a.__hoverStl):(a.setStyle(a.__hoverStl),a.z2+=1),a.__isHover=!0)}function h(a){if(a.__isHover){var b=a.__normalStl;a.useHoverLayer?a.__zr&&a.__zr.removeHover(a):(b&&a.setStyle(b),a.z2-=1),a.__isHover=!1}}function i(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&g(a)}):g(a)}function j(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&h(a)}):h(a)}function k(a,b){a.__hoverStl=a.hoverStyle||b||{},a.__hoverStlDirty=!0,a.__isHover&&f(a)}function l(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&i(this)}function m(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&j(this)}function n(){this.__isEmphasis=!0,i(this)}function o(){this.__isEmphasis=!1,j(this)}function p(a,b,c,d,e,f){"function"==typeof e&&(f=e,e=null);var g=d&&d.isAnimationEnabled();if(g){var h=a?"Update":"",i=d.getShallow("animationDuration"+h),j=d.getShallow("animationEasing"+h),k=d.getShallow("animationDelay"+h);"function"==typeof k&&(k=k(e,d.getAnimationDelayParams?d.getAnimationDelayParams(b,e):null)),"function"==typeof i&&(i=i(e)),i>0?b.animateTo(c,i,k||0,j,f):(b.attr(c),f&&f())}else b.attr(c),f&&f()}var q=c(4),r=c(44),s=Math.round,t=c(45),u=c(39),v=c(11),w=c(10),x={};x.Group=c(30),x.Image=c(61),x.Text=c(63),x.Circle=c(64),x.Sector=c(65),x.Ring=c(66),x.Polygon=c(67),x.Polyline=c(71),x.Rect=c(72),x.Line=c(74),x.BezierCurve=c(75),x.Arc=c(76),x.CompoundPath=c(77),x.LinearGradient=c(78),x.RadialGradient=c(80),x.BoundingRect=c(9),x.extendShape=function(a){return t.extend(a)},x.extendPath=function(a,b){return r.extendFromString(a,b)},x.makePath=function(a,b,c,d){var e=r.createFromString(a,b),f=e.getBoundingRect();if(c){var g=f.width/f.height;if("center"===d){var h,i=c.height*g;i<=c.width?h=c.height:(i=c.width,h=i/g);var j=c.x+c.width/2,k=c.y+c.height/2;c.x=j-i/2,c.y=k-h/2,c.width=i,c.height=h}x.resizePath(e,c)}return e},x.mergePath=r.mergePath,x.resizePath=function(a,b){if(a.applyTransform){var c=a.getBoundingRect(),d=c.calculateTransform(b);a.applyTransform(d)}},x.subPixelOptimizeLine=function(a){var b=x.subPixelOptimize,c=a.shape,d=a.style.lineWidth;return s(2*c.x1)===s(2*c.x2)&&(c.x1=c.x2=b(c.x1,d,!0)),s(2*c.y1)===s(2*c.y2)&&(c.y1=c.y2=b(c.y1,d,!0)),a},x.subPixelOptimizeRect=function(a){var b=x.subPixelOptimize,c=a.shape,d=a.style.lineWidth,e=c.x,f=c.y,g=c.width,h=c.height;return c.x=b(c.x,d,!0),c.y=b(c.y,d,!0),c.width=Math.max(b(e+g,d,!1)-c.x,0===g?0:1),c.height=Math.max(b(f+h,d,!1)-c.y,0===h?0:1),a},x.subPixelOptimize=function(a,b,c){var d=s(2*a);return(d+s(b))%2===0?d/2:(d+(c?1:-1))/2},x.setHoverStyle=function(a,b,c){a.__hoverSilentOnTouch=c&&c.hoverSilentOnTouch,"group"===a.type?a.traverse(function(a){"group"!==a.type&&k(a,b)}):k(a,b),a.on("mouseover",l).on("mouseout",m),a.on("emphasis",n).on("normal",o)},x.setText=function(a,b,c){var d=b.getShallow("position")||"inside",e=b.getShallow("offset"),f=d.indexOf("inside")>=0?"white":c,g=b.getModel("textStyle");q.extend(a,{textDistance:b.getShallow("distance")||5,textFont:g.getFont(),textPosition:d,textOffset:e,textFill:g.getTextColor()||f})},x.updateProps=function(a,b,c,d,e){p(!0,a,b,c,d,e)},x.initProps=function(a,b,c,d,e){p(!1,a,b,c,d,e)},x.getTransform=function(a,b){for(var c=v.identity([]);a&&a!==b;)v.mul(c,a.getLocalTransform(),c),a=a.parent;return c},x.applyTransform=function(a,b,c){return c&&(b=v.invert([],b)),w.applyTransform([],a,b)},x.transformDirection=function(a,b,c){var d=0===b[4]||0===b[5]||0===b[0]?1:Math.abs(2*b[4]/b[0]),e=0===b[4]||0===b[5]||0===b[2]?1:Math.abs(2*b[4]/b[2]),f=["left"===a?-d:"right"===a?d:0,"top"===a?-e:"bottom"===a?e:0];return f=x.applyTransform(f,b,c),Math.abs(f[0])>Math.abs(f[1])?f[0]>0?"right":"left":f[1]>0?"bottom":"top"},x.groupTransition=function(a,b,c,d){function e(a){var b={};return a.traverse(function(a){!a.isGroup&&a.anid&&(b[a.anid]=a)}),b}function f(a){var b={position:w.clone(a.position),rotation:a.rotation};return a.shape&&(b.shape=q.extend({},a.shape)),b}if(a&&b){var g=e(a);b.traverse(function(a){if(!a.isGroup&&a.anid){var b=g[a.anid];if(b){var d=f(a);a.attr(f(b)),x.updateProps(a,d,c,a.dataIndex)}}})}},a.exports=x},function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k){var p=i*(o/180),s=n(p)*(a-c)/2+m(p)*(b-d)/2,t=-1*m(p)*(a-c)/2+n(p)*(b-d)/2,u=s*s/(g*g)+t*t/(h*h);u>1&&(g*=l(u),h*=l(u));var v=(e===f?-1:1)*l((g*g*(h*h)-g*g*(t*t)-h*h*(s*s))/(g*g*(t*t)+h*h*(s*s)))||0,w=v*g*t/h,x=v*-h*s/g,y=(a+c)/2+n(p)*w-m(p)*x,z=(b+d)/2+m(p)*w+n(p)*x,A=r([1,0],[(s-w)/g,(t-x)/h]),B=[(s-w)/g,(t-x)/h],C=[(-1*s-w)/g,(-1*t-x)/h],D=r(B,C);q(B,C)<=-1&&(D=o),q(B,C)>=1&&(D=0),0===f&&D>0&&(D-=2*o),1===f&&0>D&&(D+=2*o),k.addData(j,y,z,g,h,A,D,p,f)}function e(a){if(!a)return[];var b,c=a.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(b=0;b<k.length;b++)c=c.replace(new RegExp(k[b],"g"),"|"+k[b]);var e,f=c.split("|"),g=0,i=0,j=new h,l=h.CMD;for(b=1;b<f.length;b++){var m,n=f[b],o=n.charAt(0),p=0,q=n.slice(1).replace(/e,-/g,"e-").split(",");q.length>0&&""===q[0]&&q.shift();for(var r=0;r<q.length;r++)q[r]=parseFloat(q[r]);for(;p<q.length&&!isNaN(q[p])&&!isNaN(q[0]);){var s,t,u,v,w,x,y,z=g,A=i;switch(o){case"l":g+=q[p++],i+=q[p++],m=l.L,j.addData(m,g,i);break;case"L":g=q[p++],i=q[p++],m=l.L,j.addData(m,g,i);break;case"m":g+=q[p++],i+=q[p++],m=l.M,j.addData(m,g,i),o="l";break;case"M":g=q[p++],i=q[p++],m=l.M,j.addData(m,g,i),o="L";break;case"h":g+=q[p++],m=l.L,j.addData(m,g,i);break;case"H":g=q[p++],m=l.L,j.addData(m,g,i);break;case"v":i+=q[p++],m=l.L,j.addData(m,g,i);break;case"V":i=q[p++],m=l.L,j.addData(m,g,i);break;case"C":m=l.C,j.addData(m,q[p++],q[p++],q[p++],q[p++],q[p++],q[p++]),g=q[p-2],i=q[p-1];break;case"c":m=l.C,j.addData(m,q[p++]+g,q[p++]+i,q[p++]+g,q[p++]+i,q[p++]+g,q[p++]+i),g+=q[p-2],i+=q[p-1];break;case"S":s=g,t=i;var B=j.len(),C=j.data;e===l.C&&(s+=g-C[B-4],t+=i-C[B-3]),m=l.C,z=q[p++],A=q[p++],g=q[p++],i=q[p++],j.addData(m,s,t,z,A,g,i);break;case"s":s=g,t=i;var B=j.len(),C=j.data;e===l.C&&(s+=g-C[B-4],t+=i-C[B-3]),m=l.C,z=g+q[p++],A=i+q[p++],g+=q[p++],i+=q[p++],j.addData(m,s,t,z,A,g,i);break;case"Q":z=q[p++],A=q[p++],g=q[p++],i=q[p++],m=l.Q,j.addData(m,z,A,g,i);break;case"q":z=q[p++]+g,A=q[p++]+i,g+=q[p++],i+=q[p++],m=l.Q,j.addData(m,z,A,g,i);break;case"T":s=g,t=i;var B=j.len(),C=j.data;e===l.Q&&(s+=g-C[B-4],t+=i-C[B-3]),g=q[p++],i=q[p++],m=l.Q,j.addData(m,s,t,g,i);break;case"t":s=g,t=i;var B=j.len(),C=j.data;e===l.Q&&(s+=g-C[B-4],t+=i-C[B-3]),g+=q[p++],i+=q[p++],m=l.Q,j.addData(m,s,t,g,i);break;case"A":u=q[p++],v=q[p++],w=q[p++],x=q[p++],y=q[p++],z=g,A=i,g=q[p++],i=q[p++],m=l.A,d(z,A,g,i,x,y,u,v,w,m,j);break;case"a":u=q[p++],v=q[p++],w=q[p++],x=q[p++],y=q[p++],z=g,A=i,g+=q[p++],i+=q[p++],m=l.A,d(z,A,g,i,x,y,u,v,w,m,j)}}("z"===o||"Z"===o)&&(m=l.Z,j.addData(m)),e=m}return j.toStatic(),j}function f(a,b){var c,d=e(a);return b=b||{},b.buildPath=function(a){a.setData(d.data),c&&i(a,c);var b=a.getContext();b&&a.rebuildPath(b)},b.applyTransform=function(a){c||(c=j.create()),j.mul(c,a,c),this.dirty(!0)},b}var g=c(45),h=c(49),i=c(60),j=c(11),k=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],l=Math.sqrt,m=Math.sin,n=Math.cos,o=Math.PI,p=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},q=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(p(a)*p(b))},r=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(q(a,b))};a.exports={createFromString:function(a,b){return new g(f(a,b))},extendFromString:function(a,b){return g.extend(f(a,b))},mergePath:function(a,b){for(var c=[],d=a.length,e=0;d>e;e++){var f=a[e];f.__dirty&&f.buildPath(f.path,f.shape,!0),c.push(f.path)}var h=new g(b);return h.buildPath=function(a){a.appendPath(c);var b=a.getContext();b&&a.rebuildPath(b)},h}}},function(a,b,c){function d(a){e.call(this,a),this.path=new g}var e=c(46),f=c(4),g=c(49),h=c(52),i=c(59),j=i.prototype.getCanvasPattern,k=Math.abs;d.prototype={constructor:d,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(a,b){var c=this.style,d=this.path,e=c.hasStroke(),f=c.hasFill(),g=c.fill,h=c.stroke,i=f&&!!g.colorStops,k=e&&!!h.colorStops,l=f&&!!g.image,m=e&&!!h.image;if(c.bind(a,this,b),this.setTransform(a),this.__dirty){var n=this.getBoundingRect();i&&(this._fillGradient=c.getGradient(a,g,n)),k&&(this._strokeGradient=c.getGradient(a,h,n))}i?a.fillStyle=this._fillGradient:l&&(a.fillStyle=j.call(g,a)),k?a.strokeStyle=this._strokeGradient:m&&(a.strokeStyle=j.call(h,a));var o=c.lineDash,p=c.lineDashOffset,q=!!a.setLineDash,r=this.getGlobalScale();d.setScale(r[0],r[1]),this.__dirtyPath||o&&!q&&e?(d=this.path.beginPath(a),o&&!q&&(d.setLineDash(o),d.setLineDashOffset(p)),this.buildPath(d,this.shape,!1),this.__dirtyPath=!1):(a.beginPath(),this.path.rebuildPath(a)),f&&d.fill(a),o&&q&&(a.setLineDash(o),a.lineDashOffset=p),e&&d.stroke(a),o&&q&&a.setLineDash([]),this.restoreTransform(a),null!=c.text&&this.drawRectText(a,this.getBoundingRect())},buildPath:function(a,b,c){},getBoundingRect:function(){var a=this._rect,b=this.style,c=!a;if(c){var d=this.path;this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape,!1)),a=d.getBoundingRect()}if(this._rect=a,b.hasStroke()){var e=this._rectWithStroke||(this._rectWithStroke=a.clone());if(this.__dirty||c){e.copy(a);var f=b.lineWidth,g=b.strokeNoScale?this.getLineScale():1;b.hasFill()||(f=Math.max(f,this.strokeContainThreshold||4)),g>1e-10&&(e.width+=f/g,e.height+=f/g,e.x-=f/g/2,e.y-=f/g/2)}return e}return a},contain:function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect(),e=this.style;if(a=c[0],b=c[1],d.contain(a,b)){var f=this.path.data;if(e.hasStroke()){var g=e.lineWidth,i=e.strokeNoScale?this.getLineScale():1;if(i>1e-10&&(e.hasFill()||(g=Math.max(g,this.strokeContainThreshold)),h.containStroke(f,g/i,a,b)))return!0}if(e.hasFill())return h.contain(f,a,b)}return!1},dirty:function(a){null==a&&(a=!0),a&&(this.__dirtyPath=a,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty();
},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):e.prototype.attrKV.call(this,a,b)},setShape:function(a,b){var c=this.shape;if(c){if(f.isObject(a))for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);else c[a]=b;this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&k(a[0]-1)>1e-10&&k(a[3]-1)>1e-10?Math.sqrt(k(a[0]*a[3]-a[2]*a[1])):1}},d.extend=function(a){var b=function(b){d.call(this,b),a.style&&this.style.extendFrom(a.style,!1);var c=a.shape;if(c){this.shape=this.shape||{};var e=this.shape;for(var f in c)!e.hasOwnProperty(f)&&c.hasOwnProperty(f)&&(e[f]=c[f])}a.init&&a.init.call(this,b)};f.inherits(b,d);for(var c in a)"style"!==c&&"shape"!==c&&(b.prototype[c]=a[c]);return b},f.inherits(d,e),a.exports=d},function(a,b,c){function d(a){a=a||{},g.call(this,a);for(var b in a)a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b]);this.style=new f(a.style),this._rect=null,this.__clipPaths=[]}var e=c(4),f=c(47),g=c(31),h=c(48);d.prototype={constructor:d,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,b){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect();return d.contain(c[0],c[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?g.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){return this.style.set(a,b),this.dirty(!1),this},useStyle:function(a){return this.style=new f(a),this.dirty(!1),this}},e.inherits(d,g),e.mixin(d,h),a.exports=d},function(a,b){function c(a,b,c){var d=b.x,e=b.x2,f=b.y,g=b.y2;b.global||(d=d*c.width+c.x,e=e*c.width+c.x,f=f*c.height+c.y,g=g*c.height+c.y);var h=a.createLinearGradient(d,f,e,g);return h}function d(a,b,c){var d=c.width,e=c.height,f=Math.min(d,e),g=b.x,h=b.y,i=b.r;b.global||(g=g*d+c.x,h=h*e+c.y,i*=f);var j=a.createRadialGradient(g,h,0,g,h,i);return j}var e=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],f=function(a){this.extendFrom(a)};f.prototype={constructor:f,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textOffset:null,textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textTransform:!1,textRotation:0,blend:null,bind:function(a,b,c){for(var d=this,f=c&&c.style,g=!f,h=0;h<e.length;h++){var i=e[h],j=i[0];(g||d[j]!==f[j])&&(a[j]=d[j]||i[1])}if((g||d.fill!==f.fill)&&(a.fillStyle=d.fill),(g||d.stroke!==f.stroke)&&(a.strokeStyle=d.stroke),(g||d.opacity!==f.opacity)&&(a.globalAlpha=null==d.opacity?1:d.opacity),(g||d.blend!==f.blend)&&(a.globalCompositeOperation=d.blend||"source-over"),this.hasStroke()){var k=d.lineWidth;a.lineWidth=k/(this.strokeNoScale&&b&&b.getLineScale?b.getLineScale():1)}},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&this.lineWidth>0},extendFrom:function(a,b){if(a){var c=this;for(var d in a)!a.hasOwnProperty(d)||!b&&c.hasOwnProperty(d)||(c[d]=a[d])}},set:function(a,b){"string"==typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;return a.extendFrom(this,!0),a},getGradient:function(a,b,e){for(var f="radial"===b.type?d:c,g=f(a,b,e),h=b.colorStops,i=0;i<h.length;i++)g.addColorStop(h[i].offset,h[i].color);return g}};for(var g=f.prototype,h=0;h<e.length;h++){var i=e[h];i[0]in g||(g[i[0]]=i[1])}f.getGradient=g.getGradient,a.exports=f},function(a,b,c){function d(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}var e=c(8),f=c(9),g=new f,h=function(){};h.prototype={constructor:h,drawRectText:function(a,b,c){var f=this.style,h=f.text;if(null!=h&&(h+=""),h){a.save();var i,j,k=f.textPosition,l=f.textOffset,m=f.textDistance,n=f.textAlign,o=f.textFont||f.font,p=f.textBaseline,q=f.textVerticalAlign;c=c||e.getBoundingRect(h,o,n,p);var r=this.transform;if(f.textTransform?this.setTransform(a):r&&(g.copy(b),g.applyTransform(r),b=g),k instanceof Array){if(i=b.x+d(k[0],b.width),j=b.y+d(k[1],b.height),n=n||"left",p=p||"top",q){switch(q){case"middle":j-=c.height/2-c.lineHeight/2;break;case"bottom":j-=c.height-c.lineHeight/2;break;default:j+=c.lineHeight/2}p="middle"}}else{var s=e.adjustTextPositionOnRect(k,b,c,m);i=s.x,j=s.y,n=n||s.textAlign,p=p||s.textBaseline}l&&(i+=l[0],j+=l[1]),a.textAlign=n||"left",a.textBaseline=p||"alphabetic";var t=f.textFill,u=f.textStroke;t&&(a.fillStyle=t),u&&(a.strokeStyle=u),a.font=o||"12px sans-serif",a.shadowBlur=f.textShadowBlur,a.shadowColor=f.textShadowColor||"transparent",a.shadowOffsetX=f.textShadowOffsetX,a.shadowOffsetY=f.textShadowOffsetY;var v=h.split("\n");f.textRotation&&(r&&a.translate(r[4],r[5]),a.rotate(f.textRotation),r&&a.translate(-r[4],-r[5]));for(var w=0;w<v.length;w++)t&&a.fillText(v[w],i,j),u&&a.strokeText(v[w],i,j),j+=c.lineHeight;a.restore()}}},a.exports=h},function(a,b,c){var d=c(50),e=c(10),f=c(51),g=c(9),h=c(41).devicePixelRatio,i={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},j=[],k=[],l=[],m=[],n=Math.min,o=Math.max,p=Math.cos,q=Math.sin,r=Math.sqrt,s=Math.abs,t="undefined"!=typeof Float32Array,u=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._ux=0,this._uy=0};u.prototype={constructor:u,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,b){this._ux=s(1/h/a)||0,this._uy=s(1/h/b)||0},getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),a&&(this.dpr=a.dpr),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,b){return this.addData(i.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},lineTo:function(a,b){var c=s(a-this._xi)>this._ux||s(b-this._yi)>this._uy||this._len<5;return this.addData(i.L,a,b),this._ctx&&c&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b)),c&&(this._xi=a,this._yi=b),this},bezierCurveTo:function(a,b,c,d,e,f){return this.addData(i.C,a,b,c,d,e,f),this._ctx&&(this._needsDash()?this._dashedBezierTo(a,b,c,d,e,f):this._ctx.bezierCurveTo(a,b,c,d,e,f)),this._xi=e,this._yi=f,this},quadraticCurveTo:function(a,b,c,d){return this.addData(i.Q,a,b,c,d),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(a,b,c,d):this._ctx.quadraticCurveTo(a,b,c,d)),this._xi=c,this._yi=d,this},arc:function(a,b,c,d,e,f){return this.addData(i.A,a,b,c,c,d,e-d,0,f?0:1),this._ctx&&this._ctx.arc(a,b,c,d,e,f),this._xi=p(e)*c+a,this._yi=q(e)*c+a,this},arcTo:function(a,b,c,d,e){return this._ctx&&this._ctx.arcTo(a,b,c,d,e),this},rect:function(a,b,c,d){return this._ctx&&this._ctx.rect(a,b,c,d),this.addData(i.R,a,b,c,d),this},closePath:function(){this.addData(i.Z);var a=this._ctx,b=this._x0,c=this._y0;return a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath()),this._xi=b,this._yi=c,this},fill:function(a){a&&a.fill(),this.toStatic()},stroke:function(a){a&&a.stroke(),this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a,this._dashIdx=0;for(var b=0,c=0;c<a.length;c++)b+=a[c];this._dashSum=b}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(a){var b=a.length;this.data&&this.data.length==b||!t||(this.data=new Float32Array(b));for(var c=0;b>c;c++)this.data[c]=a[c];this._len=b},appendPath:function(a){a instanceof Array||(a=[a]);for(var b=a.length,c=0,d=this._len,e=0;b>e;e++)c+=a[e].len();t&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+c));for(var e=0;b>e;e++)for(var f=a[e].data,g=0;g<f.length;g++)this.data[d++]=f[g];this._len=d},addData:function(a){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var c=0;c<arguments.length;c++)b[this._len++]=arguments[c];this._prevCmd=a},_expandData:function(){if(!(this.data instanceof Array)){for(var a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(a,b){var c,d,e=this._dashSum,f=this._dashOffset,g=this._lineDash,h=this._ctx,i=this._xi,j=this._yi,k=a-i,l=b-j,m=r(k*k+l*l),p=i,q=j,s=g.length;for(k/=m,l/=m,0>f&&(f=e+f),f%=e,p-=f*k,q-=f*l;k>0&&a>=p||0>k&&p>=a||0==k&&(l>0&&b>=q||0>l&&q>=b);)d=this._dashIdx,c=g[d],p+=k*c,q+=l*c,this._dashIdx=(d+1)%s,k>0&&i>p||0>k&&p>i||l>0&&j>q||0>l&&q>j||h[d%2?"moveTo":"lineTo"](k>=0?n(p,a):o(p,a),l>=0?n(q,b):o(q,b));k=p-a,l=q-b,this._dashOffset=-r(k*k+l*l)},_dashedBezierTo:function(a,b,c,e,f,g){var h,i,j,k,l,m=this._dashSum,n=this._dashOffset,o=this._lineDash,p=this._ctx,q=this._xi,s=this._yi,t=d.cubicAt,u=0,v=this._dashIdx,w=o.length,x=0;for(0>n&&(n=m+n),n%=m,h=0;1>h;h+=.1)i=t(q,a,c,f,h+.1)-t(q,a,c,f,h),j=t(s,b,e,g,h+.1)-t(s,b,e,g,h),u+=r(i*i+j*j);for(;w>v&&(x+=o[v],!(x>n));v++);for(h=(x-n)/u;1>=h;)k=t(q,a,c,f,h),l=t(s,b,e,g,h),v%2?p.moveTo(k,l):p.lineTo(k,l),h+=o[v]/u,v=(v+1)%w;v%2!==0&&p.lineTo(f,g),i=f-k,j=g-l,this._dashOffset=-r(i*i+j*j)},_dashedQuadraticTo:function(a,b,c,d){var e=c,f=d;c=(c+2*a)/3,d=(d+2*b)/3,a=(this._xi+2*a)/3,b=(this._yi+2*b)/3,this._dashedBezierTo(a,b,c,d,e,f)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,t&&(this.data=new Float32Array(a)))},getBoundingRect:function(){j[0]=j[1]=l[0]=l[1]=Number.MAX_VALUE,k[0]=k[1]=m[0]=m[1]=-Number.MAX_VALUE;for(var a=this.data,b=0,c=0,d=0,h=0,n=0;n<a.length;){var o=a[n++];switch(1==n&&(b=a[n],c=a[n+1],d=b,h=c),o){case i.M:d=a[n++],h=a[n++],b=d,c=h,l[0]=d,l[1]=h,m[0]=d,m[1]=h;break;case i.L:f.fromLine(b,c,a[n],a[n+1],l,m),b=a[n++],c=a[n++];break;case i.C:f.fromCubic(b,c,a[n++],a[n++],a[n++],a[n++],a[n],a[n+1],l,m),b=a[n++],c=a[n++];break;case i.Q:f.fromQuadratic(b,c,a[n++],a[n++],a[n],a[n+1],l,m),b=a[n++],c=a[n++];break;case i.A:var r=a[n++],s=a[n++],t=a[n++],u=a[n++],v=a[n++],w=a[n++]+v,x=(a[n++],1-a[n++]);1==n&&(d=p(v)*t+r,h=q(v)*u+s),f.fromArc(r,s,t,u,v,w,x,l,m),b=p(w)*t+r,c=q(w)*u+s;break;case i.R:d=b=a[n++],h=c=a[n++];var y=a[n++],z=a[n++];f.fromLine(d,h,d+y,h+z,l,m);break;case i.Z:b=d,c=h}e.min(j,j,l),e.max(k,k,m)}return 0===n&&(j[0]=j[1]=k[0]=k[1]=0),new g(j[0],j[1],k[0]-j[0],k[1]-j[1])},rebuildPath:function(a){for(var b,c,d,e,f,g,h=this.data,j=this._ux,k=this._uy,l=this._len,m=0;l>m;){var n=h[m++];switch(1==m&&(d=h[m],e=h[m+1],b=d,c=e),n){case i.M:b=d=h[m++],c=e=h[m++],a.moveTo(d,e);break;case i.L:f=h[m++],g=h[m++],(s(f-d)>j||s(g-e)>k||m===l-1)&&(a.lineTo(f,g),d=f,e=g);break;case i.C:a.bezierCurveTo(h[m++],h[m++],h[m++],h[m++],h[m++],h[m++]),d=h[m-2],e=h[m-1];break;case i.Q:a.quadraticCurveTo(h[m++],h[m++],h[m++],h[m++]),d=h[m-2],e=h[m-1];break;case i.A:var o=h[m++],r=h[m++],t=h[m++],u=h[m++],v=h[m++],w=h[m++],x=h[m++],y=h[m++],z=t>u?t:u,A=t>u?1:t/u,B=t>u?u/t:1,C=Math.abs(t-u)>.001,D=v+w;C?(a.translate(o,r),a.rotate(x),a.scale(A,B),a.arc(0,0,z,v,D,1-y),a.scale(1/A,1/B),a.rotate(-x),a.translate(-o,-r)):a.arc(o,r,z,v,D,1-y),1==m&&(b=p(v)*t+o,c=q(v)*u+r),d=p(D)*t+o,e=q(D)*u+r;break;case i.R:b=d=h[m],c=e=h[m+1],a.rect(h[m++],h[m++],h[m++],h[m++]);break;case i.Z:a.closePath(),d=b,e=c}}}},u.CMD=i,a.exports=u},function(a,b,c){function d(a){return a>-w&&w>a}function e(a){return a>w||-w>a}function f(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}function g(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}function h(a,b,c,e,f,g){var h=e+3*(b-c)-a,i=3*(c-2*b+a),j=3*(b-a),k=a-f,l=i*i-3*h*j,m=i*j-9*h*k,n=j*j-3*i*k,o=0;if(d(l)&&d(m))if(d(i))g[0]=0;else{var p=-j/i;p>=0&&1>=p&&(g[o++]=p)}else{var q=m*m-4*l*n;if(d(q)){var r=m/l,p=-i/h+r,s=-r/2;p>=0&&1>=p&&(g[o++]=p),s>=0&&1>=s&&(g[o++]=s)}else if(q>0){var t=v(q),w=l*i+1.5*h*(-m+t),x=l*i+1.5*h*(-m-t);w=0>w?-u(-w,z):u(w,z),x=0>x?-u(-x,z):u(x,z);var p=(-i-(w+x))/(3*h);p>=0&&1>=p&&(g[o++]=p)}else{var A=(2*l*i-3*h*m)/(2*v(l*l*l)),B=Math.acos(A)/3,C=v(l),D=Math.cos(B),p=(-i-2*C*D)/(3*h),s=(-i+C*(D+y*Math.sin(B)))/(3*h),E=(-i+C*(D-y*Math.sin(B)))/(3*h);p>=0&&1>=p&&(g[o++]=p),s>=0&&1>=s&&(g[o++]=s),E>=0&&1>=E&&(g[o++]=E)}}return o}function i(a,b,c,f,g){var h=6*c-12*b+6*a,i=9*b+3*f-3*a-9*c,j=3*b-3*a,k=0;if(d(i)){if(e(h)){var l=-j/h;l>=0&&1>=l&&(g[k++]=l)}}else{var m=h*h-4*i*j;if(d(m))g[0]=-h/(2*i);else if(m>0){var n=v(m),l=(-h+n)/(2*i),o=(-h-n)/(2*i);l>=0&&1>=l&&(g[k++]=l),o>=0&&1>=o&&(g[k++]=o)}}return k}function j(a,b,c,d,e,f){var g=(b-a)*e+a,h=(c-b)*e+b,i=(d-c)*e+c,j=(h-g)*e+g,k=(i-h)*e+h,l=(k-j)*e+j;f[0]=a,f[1]=g,f[2]=j,f[3]=l,f[4]=l,f[5]=k,f[6]=i,f[7]=d}function k(a,b,c,d,e,g,h,i,j,k,l){var m,n,o,p,q,r=.005,s=1/0;A[0]=j,A[1]=k;for(var u=0;1>u;u+=.05)B[0]=f(a,c,e,h,u),B[1]=f(b,d,g,i,u),p=t(A,B),s>p&&(m=u,s=p);s=1/0;for(var w=0;32>w&&!(x>r);w++)n=m-r,o=m+r,B[0]=f(a,c,e,h,n),B[1]=f(b,d,g,i,n),p=t(B,A),n>=0&&s>p?(m=n,s=p):(C[0]=f(a,c,e,h,o),C[1]=f(b,d,g,i,o),q=t(C,A),1>=o&&s>q?(m=o,s=q):r*=.5);return l&&(l[0]=f(a,c,e,h,m),l[1]=f(b,d,g,i,m)),v(s)}function l(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}function m(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function n(a,b,c,f,g){var h=a-2*b+c,i=2*(b-a),j=a-f,k=0;if(d(h)){if(e(i)){var l=-j/i;l>=0&&1>=l&&(g[k++]=l)}}else{var m=i*i-4*h*j;if(d(m)){var l=-i/(2*h);l>=0&&1>=l&&(g[k++]=l)}else if(m>0){var n=v(m),l=(-i+n)/(2*h),o=(-i-n)/(2*h);l>=0&&1>=l&&(g[k++]=l),o>=0&&1>=o&&(g[k++]=o)}}return k}function o(a,b,c){var d=a+c-2*b;return 0===d?.5:(a-b)/d}function p(a,b,c,d,e){var f=(b-a)*d+a,g=(c-b)*d+b,h=(g-f)*d+f;e[0]=a,e[1]=f,e[2]=h,e[3]=h,e[4]=g,e[5]=c}function q(a,b,c,d,e,f,g,h,i){var j,k=.005,m=1/0;A[0]=g,A[1]=h;for(var n=0;1>n;n+=.05){B[0]=l(a,c,e,n),B[1]=l(b,d,f,n);var o=t(A,B);m>o&&(j=n,m=o)}m=1/0;for(var p=0;32>p&&!(x>k);p++){var q=j-k,r=j+k;B[0]=l(a,c,e,q),B[1]=l(b,d,f,q);var o=t(B,A);if(q>=0&&m>o)j=q,m=o;else{C[0]=l(a,c,e,r),C[1]=l(b,d,f,r);var s=t(C,A);1>=r&&m>s?(j=r,m=s):k*=.5}}return i&&(i[0]=l(a,c,e,j),i[1]=l(b,d,f,j)),v(m)}var r=c(10),s=r.create,t=r.distSquare,u=Math.pow,v=Math.sqrt,w=1e-8,x=1e-4,y=v(3),z=1/3,A=s(),B=s(),C=s();a.exports={cubicAt:f,cubicDerivativeAt:g,cubicRootAt:h,cubicExtrema:i,cubicSubdivide:j,cubicProjectPoint:k,quadraticAt:l,quadraticDerivativeAt:m,quadraticRootAt:n,quadraticExtremum:o,quadraticSubdivide:p,quadraticProjectPoint:q}},function(a,b,c){var d=c(10),e=c(50),f={},g=Math.min,h=Math.max,i=Math.sin,j=Math.cos,k=d.create(),l=d.create(),m=d.create(),n=2*Math.PI;f.fromPoints=function(a,b,c){if(0!==a.length){var d,e=a[0],f=e[0],i=e[0],j=e[1],k=e[1];for(d=1;d<a.length;d++)e=a[d],f=g(f,e[0]),i=h(i,e[0]),j=g(j,e[1]),k=h(k,e[1]);b[0]=f,b[1]=j,c[0]=i,c[1]=k}},f.fromLine=function(a,b,c,d,e,f){e[0]=g(a,c),e[1]=g(b,d),f[0]=h(a,c),f[1]=h(b,d)};var o=[],p=[];f.fromCubic=function(a,b,c,d,f,i,j,k,l,m){var n,q=e.cubicExtrema,r=e.cubicAt,s=q(a,c,f,j,o);for(l[0]=1/0,l[1]=1/0,m[0]=-(1/0),m[1]=-(1/0),n=0;s>n;n++){var t=r(a,c,f,j,o[n]);l[0]=g(t,l[0]),m[0]=h(t,m[0])}for(s=q(b,d,i,k,p),n=0;s>n;n++){var u=r(b,d,i,k,p[n]);l[1]=g(u,l[1]),m[1]=h(u,m[1])}l[0]=g(a,l[0]),m[0]=h(a,m[0]),l[0]=g(j,l[0]),m[0]=h(j,m[0]),l[1]=g(b,l[1]),m[1]=h(b,m[1]),l[1]=g(k,l[1]),m[1]=h(k,m[1])},f.fromQuadratic=function(a,b,c,d,f,i,j,k){var l=e.quadraticExtremum,m=e.quadraticAt,n=h(g(l(a,c,f),1),0),o=h(g(l(b,d,i),1),0),p=m(a,c,f,n),q=m(b,d,i,o);j[0]=g(a,f,p),j[1]=g(b,i,q),k[0]=h(a,f,p),k[1]=h(b,i,q)},f.fromArc=function(a,b,c,e,f,g,h,o,p){var q=d.min,r=d.max,s=Math.abs(f-g);if(1e-4>s%n&&s>1e-4)return o[0]=a-c,o[1]=b-e,p[0]=a+c,void(p[1]=b+e);if(k[0]=j(f)*c+a,k[1]=i(f)*e+b,l[0]=j(g)*c+a,l[1]=i(g)*e+b,q(o,k,l),r(p,k,l),f%=n,0>f&&(f+=n),g%=n,0>g&&(g+=n),f>g&&!h?g+=n:g>f&&h&&(f+=n),h){var t=g;g=f,f=t}for(var u=0;g>u;u+=Math.PI/2)u>f&&(m[0]=j(u)*c+a,m[1]=i(u)*e+b,q(o,m,o),r(p,m,p))},a.exports=f},function(a,b,c){function d(a,b){return Math.abs(a-b)<t}function e(){var a=v[0];v[0]=v[1],v[1]=a}function f(a,b,c,d,f,g,h,i,j,k){if(k>b&&k>d&&k>g&&k>i||b>k&&d>k&&g>k&&i>k)return 0;var l=p.cubicRootAt(b,d,g,i,k,u);if(0===l)return 0;for(var m,n,o=0,q=-1,r=0;l>r;r++){var s=u[r],t=0===s||1===s?.5:1,w=p.cubicAt(a,c,f,h,s);j>w||(0>q&&(q=p.cubicExtrema(b,d,g,i,v),v[1]<v[0]&&q>1&&e(),m=p.cubicAt(b,d,g,i,v[0]),q>1&&(n=p.cubicAt(b,d,g,i,v[1]))),o+=2==q?s<v[0]?b>m?t:-t:s<v[1]?m>n?t:-t:n>i?t:-t:s<v[0]?b>m?t:-t:m>i?t:-t)}return o}function g(a,b,c,d,e,f,g,h){if(h>b&&h>d&&h>f||b>h&&d>h&&f>h)return 0;var i=p.quadraticRootAt(b,d,f,h,u);if(0===i)return 0;var j=p.quadraticExtremum(b,d,f);if(j>=0&&1>=j){for(var k=0,l=p.quadraticAt(b,d,f,j),m=0;i>m;m++){var n=0===u[m]||1===u[m]?.5:1,o=p.quadraticAt(a,c,e,u[m]);g>o||(k+=u[m]<j?b>l?n:-n:l>f?n:-n)}return k}var n=0===u[0]||1===u[0]?.5:1,o=p.quadraticAt(a,c,e,u[0]);return g>o?0:b>f?n:-n}function h(a,b,c,d,e,f,g,h){if(h-=b,h>c||-c>h)return 0;var i=Math.sqrt(c*c-h*h);u[0]=-i,u[1]=i;var j=Math.abs(d-e);if(1e-4>j)return 0;if(1e-4>j%s){d=0,e=s;var k=f?1:-1;return g>=u[0]+a&&g<=u[1]+a?k:0}if(f){var i=d;d=o(e),e=o(i)}else d=o(d),e=o(e);d>e&&(e+=s);for(var l=0,m=0;2>m;m++){var n=u[m];if(n+a>g){var p=Math.atan2(h,n),k=f?1:-1;0>p&&(p=s+p),(p>=d&&e>=p||p+s>=d&&e>=p+s)&&(p>Math.PI/2&&p<1.5*Math.PI&&(k=-k),l+=k)}}return l}function i(a,b,c,e,i){for(var k=0,o=0,p=0,s=0,t=0,u=0;u<a.length;){var v=a[u++];switch(v===j.M&&u>1&&(c||(k+=q(o,p,s,t,e,i))),1==u&&(o=a[u],p=a[u+1],s=o,t=p),v){case j.M:s=a[u++],t=a[u++],o=s,p=t;break;case j.L:if(c){if(r(o,p,a[u],a[u+1],b,e,i))return!0}else k+=q(o,p,a[u],a[u+1],e,i)||0;o=a[u++],p=a[u++];break;case j.C:if(c){if(l.containStroke(o,p,a[u++],a[u++],a[u++],a[u++],a[u],a[u+1],b,e,i))return!0}else k+=f(o,p,a[u++],a[u++],a[u++],a[u++],a[u],a[u+1],e,i)||0;o=a[u++],p=a[u++];break;case j.Q:if(c){if(m.containStroke(o,p,a[u++],a[u++],a[u],a[u+1],b,e,i))return!0}else k+=g(o,p,a[u++],a[u++],a[u],a[u+1],e,i)||0;o=a[u++],p=a[u++];break;case j.A:var w=a[u++],x=a[u++],y=a[u++],z=a[u++],A=a[u++],B=a[u++],C=(a[u++],1-a[u++]),D=Math.cos(A)*y+w,E=Math.sin(A)*z+x;u>1?k+=q(o,p,D,E,e,i):(s=D,t=E);var F=(e-w)*z/y+w;if(c){if(n.containStroke(w,x,z,A,A+B,C,b,F,i))return!0}else k+=h(w,x,z,A,A+B,C,F,i);o=Math.cos(A+B)*y+w,p=Math.sin(A+B)*z+x;break;case j.R:s=o=a[u++],t=p=a[u++];var G=a[u++],H=a[u++],D=s+G,E=t+H;if(c){if(r(s,t,D,t,b,e,i)||r(D,t,D,E,b,e,i)||r(D,E,s,E,b,e,i)||r(s,E,s,t,b,e,i))return!0}else k+=q(D,t,D,E,e,i),k+=q(s,E,s,t,e,i);break;case j.Z:if(c){if(r(o,p,s,t,b,e,i))return!0}else k+=q(o,p,s,t,e,i);o=s,p=t}}return c||d(p,t)||(k+=q(o,p,s,t,e,i)||0),0!==k}var j=c(49).CMD,k=c(53),l=c(54),m=c(55),n=c(56),o=c(57).normalizeRadian,p=c(50),q=c(58),r=k.containStroke,s=2*Math.PI,t=1e-4,u=[-1,-1,-1],v=[-1,-1];a.exports={contain:function(a,b,c){return i(a,0,!1,b,c)},containStroke:function(a,b,c,d){return i(a,b,!0,c,d)}}},function(a,b){a.exports={containStroke:function(a,b,c,d,e,f,g){if(0===e)return!1;var h=e,i=0,j=a;if(g>b+h&&g>d+h||b-h>g&&d-h>g||f>a+h&&f>c+h||a-h>f&&c-h>f)return!1;if(a===c)return Math.abs(f-a)<=h/2;i=(b-d)/(a-c),j=(a*d-c*b)/(a-c);var k=i*f-g+j,l=k*k/(i*i+1);return h/2*h/2>=l}}},function(a,b,c){var d=c(50);a.exports={containStroke:function(a,b,c,e,f,g,h,i,j,k,l){if(0===j)return!1;var m=j;if(l>b+m&&l>e+m&&l>g+m&&l>i+m||b-m>l&&e-m>l&&g-m>l&&i-m>l||k>a+m&&k>c+m&&k>f+m&&k>h+m||a-m>k&&c-m>k&&f-m>k&&h-m>k)return!1;var n=d.cubicProjectPoint(a,b,c,e,f,g,h,i,k,l,null);return m/2>=n}}},function(a,b,c){var d=c(50);a.exports={containStroke:function(a,b,c,e,f,g,h,i,j){if(0===h)return!1;var k=h;if(j>b+k&&j>e+k&&j>g+k||b-k>j&&e-k>j&&g-k>j||i>a+k&&i>c+k&&i>f+k||a-k>i&&c-k>i&&f-k>i)return!1;var l=d.quadraticProjectPoint(a,b,c,e,f,g,i,j,null);return k/2>=l}}},function(a,b,c){var d=c(57).normalizeRadian,e=2*Math.PI;a.exports={containStroke:function(a,b,c,f,g,h,i,j,k){if(0===i)return!1;var l=i;j-=a,k-=b;var m=Math.sqrt(j*j+k*k);if(m-l>c||c>m+l)return!1;if(Math.abs(f-g)%e<1e-4)return!0;if(h){var n=f;f=d(g),g=d(n)}else f=d(f),g=d(g);f>g&&(g+=e);var o=Math.atan2(k,j);return 0>o&&(o+=e),o>=f&&g>=o||o+e>=f&&g>=o+e}}},function(a,b){var c=2*Math.PI;a.exports={normalizeRadian:function(a){return a%=c,0>a&&(a+=c),a}}},function(a,b){a.exports=function(a,b,c,d,e,f){if(f>b&&f>d||b>f&&d>f)return 0;if(d===b)return 0;var g=b>d?1:-1,h=(f-b)/(d-b);(1===h||0===h)&&(g=b>d?.5:-.5);var i=h*(c-a)+a;return i>e?g:0}},function(a,b){var c=function(a,b){this.image=a,this.repeat=b,this.type="pattern"};c.prototype.getCanvasPattern=function(a){return this._canvasPattern||(this._canvasPattern=a.createPattern(this.image,this.repeat))},a.exports=c},function(a,b,c){function d(a,b){var c,d,f,k,l,m,n=a.data,o=e.M,p=e.C,q=e.L,r=e.R,s=e.A,t=e.Q;for(f=0,k=0;f<n.length;){switch(c=n[f++],k=f,d=0,c){case o:d=1;break;case q:d=1;break;case p:d=3;break;case t:d=2;break;case s:var u=b[4],v=b[5],w=i(b[0]*b[0]+b[1]*b[1]),x=i(b[2]*b[2]+b[3]*b[3]),y=j(-b[1]/x,b[0]/w);n[f++]+=u,n[f++]+=v,n[f++]*=w,n[f++]*=x,n[f++]+=y,n[f++]+=y,f+=2,k=f;break;case r:m[0]=n[f++],m[1]=n[f++],g(m,m,b),n[k++]=m[0],n[k++]=m[1],m[0]+=n[f++],m[1]+=n[f++],g(m,m,b),n[k++]=m[0],n[k++]=m[1]}for(l=0;d>l;l++){var m=h[l];m[0]=n[f++],m[1]=n[f++],g(m,m,b),n[k++]=m[0],n[k++]=m[1]}}}var e=c(49).CMD,f=c(10),g=f.applyTransform,h=[[],[],[]],i=Math.sqrt,j=Math.atan2;a.exports=d},function(a,b,c){function d(a){e.call(this,a)}var e=c(46),f=c(9),g=c(4),h=c(62),i=new h(50);d.prototype={constructor:d,type:"image",brush:function(a,b){var c,d=this.style,e=d.image;if(d.bind(a,this,b),c="string"==typeof e?this._image:e,!c&&e){var f=i.get(e);if(!f)return c=new Image,c.onload=function(){c.onload=null;for(var a=0;a<f.pending.length;a++)f.pending[a].dirty()},f={image:c,pending:[this]},c.src=e,i.put(e,f),void(this._image=c);if(c=f.image,this._image=c,!c.width||!c.height)return void f.pending.push(this)}if(c){var g=d.width||c.width,h=d.height||c.height,j=d.x||0,k=d.y||0;if(!c.width||!c.height)return;if(this.setTransform(a),d.sWidth&&d.sHeight){var l=d.sx||0,m=d.sy||0;a.drawImage(c,l,m,d.sWidth,d.sHeight,j,k,g,h)}else if(d.sx&&d.sy){var l=d.sx,m=d.sy,n=g-l,o=h-m;a.drawImage(c,l,m,n,o,j,k,g,h)}else a.drawImage(c,j,k,g,h);null==d.width&&(d.width=g),null==d.height&&(d.height=h),this.restoreTransform(a),null!=d.text&&this.drawRectText(a,this.getBoundingRect())}},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new f(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}},g.inherits(d,e),a.exports=d},function(a,b){var c=function(){this.head=null,this.tail=null,this._len=0},d=c.prototype;d.insert=function(a){var b=new e(a);return this.insertEntry(b),b},d.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,this.tail=a):this.head=this.tail=a,this._len++},d.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c,c?c.prev=b:this.tail=b,a.next=a.prev=null,this._len--},d.len=function(){return this._len};var e=function(a){this.value=a,this.next,this.prev},f=function(a){this._list=new c,this._map={},this._maxSize=a||10},g=f.prototype;g.put=function(a,b){var c=this._list,d=this._map;if(null==d[a]){var e=c.len();if(e>=this._maxSize&&e>0){var f=c.head;c.remove(f),delete d[f.key]}var g=c.insert(b);g.key=a,d[a]=g}},g.get=function(a){var b=this._map[a],c=this._list;return null!=b?(b!==c.tail&&(c.remove(b),c.insertEntry(b)),b.value):void 0},g.clear=function(){this._list.clear(),this._map={}},a.exports=f},function(a,b,c){var d=c(46),e=c(4),f=c(8),g=function(a){d.call(this,a)};g.prototype={constructor:g,type:"text",brush:function(a,b){var c=this.style,d=c.x||0,e=c.y||0,g=c.text;if(null!=g&&(g+=""),c.bind(a,this,b),g){this.setTransform(a);var h,i=c.textAlign,j=c.textFont||c.font;if(c.textVerticalAlign){var k=f.getBoundingRect(g,j,c.textAlign,"top");switch(h="middle",c.textVerticalAlign){case"middle":e-=k.height/2-k.lineHeight/2;break;case"bottom":e-=k.height-k.lineHeight/2;break;default:e+=k.lineHeight/2}}else h=c.textBaseline;a.font=j||"12px sans-serif",a.textAlign=i||"left",a.textAlign!==i&&(a.textAlign="left"),a.textBaseline=h||"alphabetic",a.textBaseline!==h&&(a.textBaseline="alphabetic");for(var l=f.measureText("国",a.font).width,m=g.split("\n"),n=0;n<m.length;n++)c.hasFill()&&a.fillText(m[n],d,e),c.hasStroke()&&a.strokeText(m[n],d,e),e+=l;this.restoreTransform(a)}},getBoundingRect:function(){if(!this._rect){var a=this.style,b=a.textVerticalAlign,c=f.getBoundingRect(a.text+"",a.textFont||a.font,a.textAlign,b?"top":a.textBaseline);switch(b){case"middle":c.y-=c.height/2;break;case"bottom":c.y-=c.height}c.x+=a.x||0,c.y+=a.y||0,this._rect=c}return this._rect}},e.inherits(g,d),a.exports=g},function(a,b,c){a.exports=c(45).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b,c){c&&a.moveTo(b.cx+b.r,b.cy),a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}})},function(a,b,c){var d=c(2),e=c(45),f=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];a.exports=e.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:d.browser.ie&&d.browser.version>=11?function(){var a,b=this.__clipPaths,c=this.style;if(b)for(var d=0;d<b.length;d++){var g=b[d]&&b[d].shape;if(g&&g.startAngle===g.endAngle){for(var h=0;h<f.length;h++)f[h][2]=c[f[h][0]],c[f[h][0]]=f[h][1];a=!0;break}}if(e.prototype.brush.apply(this,arguments),a)for(var h=0;h<f.length;h++)c[f[h][0]]=f[h][2]}:e.prototype.brush,buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=b.startAngle,h=b.endAngle,i=b.clockwise,j=Math.cos(g),k=Math.sin(g);a.moveTo(j*e+c,k*e+d),a.lineTo(j*f+c,k*f+d),a.arc(c,d,f,g,h,!i),a.lineTo(Math.cos(h)*e+c,Math.sin(h)*e+d),0!==e&&a.arc(c,d,e,h,g,i),a.closePath()}})},function(a,b,c){a.exports=c(45).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=2*Math.PI;a.moveTo(c+b.r,d),a.arc(c,d,b.r,0,e,!1),a.moveTo(c+b.r0,d),a.arc(c,d,b.r0,0,e,!0)}})},function(a,b,c){var d=c(68);a.exports=c(45).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){d.buildPath(a,b,!0)}})},function(a,b,c){var d=c(69),e=c(70);a.exports={buildPath:function(a,b,c){var f=b.points,g=b.smooth;if(f&&f.length>=2){if(g&&"spline"!==g){var h=e(f,g,c,b.smoothConstraint);a.moveTo(f[0][0],f[0][1]);for(var i=f.length,j=0;(c?i:i-1)>j;j++){var k=h[2*j],l=h[2*j+1],m=f[(j+1)%i];a.bezierCurveTo(k[0],k[1],l[0],l[1],m[0],m[1])}}else{"spline"===g&&(f=d(f,c)),a.moveTo(f[0][0],f[0][1]);for(var j=1,n=f.length;n>j;j++)a.lineTo(f[j][0],f[j][1])}c&&a.closePath()}}}},function(a,b,c){function d(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}var e=c(10);a.exports=function(a,b){for(var c=a.length,f=[],g=0,h=1;c>h;h++)g+=e.distance(a[h-1],a[h]);var i=g/2;i=c>i?c:i;for(var h=0;i>h;h++){var j,k,l,m=h/(i-1)*(b?c:c-1),n=Math.floor(m),o=m-n,p=a[n%c];b?(j=a[(n-1+c)%c],k=a[(n+1)%c],l=a[(n+2)%c]):(j=a[0===n?n:n-1],k=a[n>c-2?c-1:n+1],l=a[n>c-3?c-1:n+2]);var q=o*o,r=o*q;f.push([d(j[0],p[0],k[0],l[0],o,q,r),d(j[1],p[1],k[1],l[1],o,q,r)])}return f}},function(a,b,c){var d=c(10),e=d.min,f=d.max,g=d.scale,h=d.distance,i=d.add;a.exports=function(a,b,c,j){var k,l,m,n,o=[],p=[],q=[],r=[];if(j){m=[1/0,1/0],n=[-(1/0),-(1/0)];for(var s=0,t=a.length;t>s;s++)e(m,m,a[s]),f(n,n,a[s]);e(m,m,j[0]),f(n,n,j[1])}for(var s=0,t=a.length;t>s;s++){var u=a[s];if(c)k=a[s?s-1:t-1],l=a[(s+1)%t];else{if(0===s||s===t-1){o.push(d.clone(a[s]));continue}k=a[s-1],l=a[s+1]}d.sub(p,l,k),g(p,p,b);var v=h(u,k),w=h(u,l),x=v+w;0!==x&&(v/=x,w/=x),g(q,p,-v),g(r,p,w);var y=i([],u,q),z=i([],u,r);j&&(f(y,y,m),e(y,y,n),f(z,z,m),e(z,z,n)),o.push(y),o.push(z)}return c&&o.push(o.shift()),o}},function(a,b,c){var d=c(68);a.exports=c(45).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){d.buildPath(a,b,!1)}})},function(a,b,c){var d=c(73);a.exports=c(45).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,e=b.y,f=b.width,g=b.height;b.r?d.buildPath(a,b):a.rect(c,e,f,g),a.closePath()}})},function(a,b){a.exports={buildPath:function(a,b){var c,d,e,f,g=b.x,h=b.y,i=b.width,j=b.height,k=b.r;0>i&&(g+=i,i=-i),0>j&&(h+=j,j=-j),"number"==typeof k?c=d=e=f=k:k instanceof Array?1===k.length?c=d=e=f=k[0]:2===k.length?(c=e=k[0],d=f=k[1]):3===k.length?(c=k[0],d=f=k[1],e=k[2]):(c=k[0],d=k[1],e=k[2],f=k[3]):c=d=e=f=0;var l;c+d>i&&(l=c+d,c*=i/l,d*=i/l),e+f>i&&(l=e+f,e*=i/l,f*=i/l),d+e>j&&(l=d+e,d*=j/l,e*=j/l),c+f>j&&(l=c+f,c*=j/l,f*=j/l),a.moveTo(g+c,h),a.lineTo(g+i-d,h),0!==d&&a.quadraticCurveTo(g+i,h,g+i,h+d),a.lineTo(g+i,h+j-e),0!==e&&a.quadraticCurveTo(g+i,h+j,g+i-e,h+j),a.lineTo(g+f,h+j),0!==f&&a.quadraticCurveTo(g,h+j,g,h+j-f),a.lineTo(g,h+c),0!==c&&a.quadraticCurveTo(g,h,g+c,h)}}},function(a,b,c){a.exports=c(45).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.percent;0!==g&&(a.moveTo(c,d),1>g&&(e=c*(1-g)+e*g,f=d*(1-g)+f*g),a.lineTo(e,f))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}})},function(a,b,c){function d(a,b,c){var d=a.cpx2,e=a.cpy2;return null===d||null===e?[(c?l:j)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?l:j)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?k:i)(a.x1,a.cpx1,a.x2,b),(c?k:i)(a.y1,a.cpy1,a.y2,b)]}var e=c(50),f=c(10),g=e.quadraticSubdivide,h=e.cubicSubdivide,i=e.quadraticAt,j=e.cubicAt,k=e.quadraticDerivativeAt,l=e.cubicDerivativeAt,m=[];a.exports=c(45).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,i=b.cpx1,j=b.cpy1,k=b.cpx2,l=b.cpy2,n=b.percent;0!==n&&(a.moveTo(c,d),null==k||null==l?(1>n&&(g(c,i,e,n,m),i=m[1],e=m[2],g(d,j,f,n,m),j=m[1],f=m[2]),a.quadraticCurveTo(i,j,e,f)):(1>n&&(h(c,i,k,e,n,m),i=m[1],k=m[2],e=m[3],h(d,j,l,f,n,m),j=m[1],l=m[2],f=m[3]),a.bezierCurveTo(i,j,k,l,e,f)))},pointAt:function(a){return d(this.shape,a,!1)},tangentAt:function(a){var b=d(this.shape,a,!0);return f.normalize(b,b)}})},function(a,b,c){a.exports=c(45).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r,0),f=b.startAngle,g=b.endAngle,h=b.clockwise,i=Math.cos(f),j=Math.sin(f);a.moveTo(i*e+c,j*e+d),a.arc(c,d,e,f,g,!h)}})},function(a,b,c){var d=c(45);a.exports=d.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,b=this.shape.paths,c=0;c<b.length;c++)a=a||b[c].__dirtyPath;this.__dirtyPath=a,this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),c=0;c<a.length;c++)a[c].path.setScale(b[0],b[1])},buildPath:function(a,b){for(var c=b.paths||[],d=0;d<c.length;d++)c[d].buildPath(a,c[d].shape,!0)},afterBrush:function(){for(var a=this.shape.paths,b=0;b<a.length;b++)a[b].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),d.prototype.getBoundingRect.call(this)}})},function(a,b,c){var d=c(4),e=c(79),f=function(a,b,c,d,f,g){this.x=null==a?0:a,this.y=null==b?0:b,this.x2=null==c?1:c,this.y2=null==d?0:d,this.type="linear",this.global=g||!1,e.call(this,f)};f.prototype={constructor:f},d.inherits(f,e),a.exports=f},function(a,b){var c=function(a){this.colorStops=a||[]};c.prototype={constructor:c,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}},a.exports=c},function(a,b,c){var d=c(4),e=c(79),f=function(a,b,c,d,f){this.x=null==a?.5:a,this.y=null==b?.5:b,this.r=null==c?.5:c,this.type="radial",this.global=f||!1,e.call(this,d)};f.prototype={constructor:f},d.inherits(f,e),a.exports=f},function(a,b){var c={},d="\x00__throttleOriginMethod",e="\x00__throttleRate",f="\x00__throttleType";c.throttle=function(a,b,c){function d(){j=(new Date).getTime(),k=null,a.apply(g,h||[])}var e,f,g,h,i=0,j=0,k=null;b=b||0;var l=function(){e=(new Date).getTime(),
g=this,h=arguments,f=e-(c?i:j)-b,clearTimeout(k),c?k=setTimeout(d,b):f>=0?d():k=setTimeout(d,-f),i=e};return l.clear=function(){k&&(clearTimeout(k),k=null)},l},c.createOrUpdate=function(a,b,g,h){var i=a[b];if(i){var j=i[d]||i,k=i[f],l=i[e];if(l!==g||k!==h){if(null==g||!h)return a[b]=j;i=a[b]=c.throttle(j,g,"debounce"===h),i[d]=j,i[f]=h,i[e]=g}return i}},c.clear=function(a,b){var c=a[b];c&&c[d]&&(a[b]=c[d])},a.exports=c},function(a,b,c){function d(a){delete n[a]}var e=c(32),f=c(2),g=c(4),h=c(83),i=c(85),j=c(87),k=c(90),l=!f.canvasSupported,m={canvas:c(92)},n={},o={};o.version="3.3.0",o.init=function(a,b){var c=new p(e(),a,b);return n[c.id]=c,c},o.dispose=function(a){if(a)a.dispose();else{for(var b in n)n.hasOwnProperty(b)&&n[b].dispose();n={}}return o},o.getInstance=function(a){return n[a]},o.registerPainter=function(a,b){m[a]=b};var p=function(a,b,c){c=c||{},this.dom=b,this.id=a;var d=this,e=new i,n=c.renderer;if(l){if(!m.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");n="vml"}else n&&m[n]||(n="canvas");var o=new m[n](b,e,c);this.storage=e,this.painter=o;var p=f.node?null:new k(o.getViewportRoot());this.handler=new h(e,o,p,o.root),this.animation=new j({stage:{update:g.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var q=e.delFromMap,r=e.addToMap;e.delFromMap=function(a){var b=e.get(a);q.call(e,a),b&&b.removeSelfFromZr(d)},e.addToMap=function(a){r.call(e,a),a.addSelfToZr(d)}};p.prototype={constructor:p,getId:function(){return this.id},add:function(a){this.storage.addRoot(a),this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a),this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer(a,b),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(a,b){this.painter.addHover&&(this.painter.addHover(a,b),this.refreshHover())},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{},this.painter.resize(a.width,a.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b,c){var d=e();return this.painter.pathToImage(d,a,b,c)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},on:function(a,b,c){this.handler.on(a,b,c)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,d(this.id)}},a.exports=o},function(a,b,c){function d(a,b,c){return{type:a,event:c,target:b,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch}}function e(){}function f(a,b,c){if(a[a.rectHover?"rectContain":"contain"](b,c)){for(var d=a;d;){if(d.silent||d.clipPath&&!d.clipPath.contain(b,c))return!1;d=d.parent}return!0}return!1}var g=c(4),h=c(84),i=c(33);e.prototype.dispose=function(){};var j=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],k=function(a,b,c,d){i.call(this),this.storage=a,this.painter=b,this.painterRoot=d,c=c||new e,this.proxy=c,c.handler=this,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,h.call(this),g.each(j,function(a){c.on&&c.on(a,this[a],this)},this)};k.prototype={constructor:k,mousemove:function(a){var b=a.zrX,c=a.zrY,d=this.findHover(b,c,null),e=this._hovered,f=this.proxy;this._hovered=d,f.setCursor&&f.setCursor(d?d.cursor:"default"),e&&d!==e&&e.__zr&&this.dispatchToElement(e,"mouseout",a),this.dispatchToElement(d,"mousemove",a),d&&d!==e&&this.dispatchToElement(d,"mouseover",a)},mouseout:function(a){this.dispatchToElement(this._hovered,"mouseout",a);var b,c=a.toElement||a.relatedTarget;do c=c&&c.parentNode;while(c&&9!=c.nodeType&&!(b=c===this.painterRoot));!b&&this.trigger("globalout",{event:a})},resize:function(a){this._hovered=null},dispatch:function(a,b){var c=this[a];c&&c.call(this,b)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(a,b,c){for(var e="on"+b,f=d(b,a,c),g=a;g&&(g[e]&&(f.cancelBubble=g[e].call(g,f)),g.trigger(b,f),g=g.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(b,f),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[e]&&a[e].call(a,f),a.trigger&&a.trigger(b,f)}))},findHover:function(a,b,c){for(var d=this.storage.getDisplayList(),e=d.length-1;e>=0;e--)if(!d[e].silent&&d[e]!==c&&!d[e].ignore&&f(d[e],a,b))return d[e]}},g.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){k.prototype[a]=function(b){var c=this.findHover(b.zrX,b.zrY,null);if("mousedown"===a)this._downel=c,this._upel=c;else if("mosueup"===a)this._upel=c;else if("click"===a&&this._downel!==this._upel)return;this.dispatchToElement(c,a,b)}}),g.mixin(k,i),g.mixin(k,h),a.exports=k},function(a,b){function c(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}c.prototype={constructor:c,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(b,"dragstart",a.event))},_drag:function(a){var b=this._draggingTarget;if(b){var c=a.offsetX,d=a.offsetY,e=c-this._x,f=d-this._y;this._x=c,this._y=d,b.drift(e,f,a),this.dispatchToElement(b,"drag",a.event);var g=this.findHover(c,d,b),h=this._dropTarget;this._dropTarget=g,b!==g&&(h&&g!==h&&this.dispatchToElement(h,"dragleave",a.event),g&&g!==h&&this.dispatchToElement(g,"dragenter",a.event))}},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this.dispatchToElement(b,"dragend",a.event),this._dropTarget&&this.dispatchToElement(this._dropTarget,"drop",a.event),this._draggingTarget=null,this._dropTarget=null}},a.exports=c},function(a,b,c){function d(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}var e=c(4),f=c(2),g=c(30),h=c(86),i=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};i.prototype={constructor:i,traverse:function(a,b){for(var c=0;c<this._roots.length;c++)this._roots[c].traverse(a,b)},getDisplayList:function(a,b){return b=b||!1,a&&this.updateDisplayList(b),this._displayList},updateDisplayList:function(a){this._displayListLen=0;for(var b=this._roots,c=this._displayList,e=0,g=b.length;g>e;e++)this._updateAndAddDisplayable(b[e],null,a);c.length=this._displayListLen,f.canvasSupported&&h(c,d)},_updateAndAddDisplayable:function(a,b,c){if(!a.ignore||c){a.beforeUpdate(),a.__dirty&&a.update(),a.afterUpdate();var d=a.clipPath;if(d){b=b?b.slice():[];for(var e=d,f=a;e;)e.parent=f,e.updateTransform(),b.push(e),f=e,e=e.clipPath}if(a.isGroup){for(var g=a._children,h=0;h<g.length;h++){var i=g[h];a.__dirty&&(i.__dirty=!0),this._updateAndAddDisplayable(i,b,c)}a.__dirty=!1}else a.__clipPaths=b,this._displayList[this._displayListLen++]=a}},addRoot:function(a){this._elements[a.id]||(a instanceof g&&a.addChildrenToStorage(this),this.addToMap(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(var b=0;b<this._roots.length;b++){var c=this._roots[b];c instanceof g&&c.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(a instanceof Array)for(var b=0,d=a.length;d>b;b++)this.delRoot(a[b]);else{var f;f="string"==typeof a?this._elements[a]:a;var h=e.indexOf(this._roots,f);h>=0&&(this.delFromMap(f.id),this._roots.splice(h,1),f instanceof g&&f.delChildrenFromStorage(this))}},addToMap:function(a){return a instanceof g&&(a.__storage=this),a.dirty(!1),this._elements[a.id]=a,this},get:function(a){return this._elements[a]},delFromMap:function(a){var b=this._elements,c=b[a];return c&&(delete b[a],c instanceof g&&(c.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null},displayableSortFunc:d},a.exports=i},function(a,b){function c(a){for(var b=0;a>=k;)b|=1&a,a>>=1;return a+b}function d(a,b,c,d){var f=b+1;if(f===c)return 1;if(d(a[f++],a[b])<0){for(;c>f&&d(a[f],a[f-1])<0;)f++;e(a,b,f)}else for(;c>f&&d(a[f],a[f-1])>=0;)f++;return f-b}function e(a,b,c){for(c--;c>b;){var d=a[b];a[b++]=a[c],a[c--]=d}}function f(a,b,c,d,e){for(d===b&&d++;c>d;d++){for(var f,g=a[d],h=b,i=d;i>h;)f=h+i>>>1,e(g,a[f])<0?i=f:h=f+1;var j=d-h;switch(j){case 3:a[h+3]=a[h+2];case 2:a[h+2]=a[h+1];case 1:a[h+1]=a[h];break;default:for(;j>0;)a[h+j]=a[h+j-1],j--}a[h]=g}}function g(a,b,c,d,e,f){var g=0,h=0,i=1;if(f(a,b[c+e])>0){for(h=d-e;h>i&&f(a,b[c+e+i])>0;)g=i,i=(i<<1)+1,0>=i&&(i=h);i>h&&(i=h),g+=e,i+=e}else{for(h=e+1;h>i&&f(a,b[c+e-i])<=0;)g=i,i=(i<<1)+1,0>=i&&(i=h);i>h&&(i=h);var j=g;g=e-i,i=e-j}for(g++;i>g;){var k=g+(i-g>>>1);f(a,b[c+k])>0?g=k+1:i=k}return i}function h(a,b,c,d,e,f){var g=0,h=0,i=1;if(f(a,b[c+e])<0){for(h=e+1;h>i&&f(a,b[c+e-i])<0;)g=i,i=(i<<1)+1,0>=i&&(i=h);i>h&&(i=h);var j=g;g=e-i,i=e-j}else{for(h=d-e;h>i&&f(a,b[c+e+i])>=0;)g=i,i=(i<<1)+1,0>=i&&(i=h);i>h&&(i=h),g+=e,i+=e}for(g++;i>g;){var k=g+(i-g>>>1);f(a,b[c+k])<0?i=k:g=k+1}return i}function i(a,b){function c(a,b){k[s]=a,n[s]=b,s+=1}function d(){for(;s>1;){var a=s-2;if(a>=1&&n[a-1]<=n[a]+n[a+1]||a>=2&&n[a-2]<=n[a]+n[a-1])n[a-1]<n[a+1]&&a--;else if(n[a]>n[a+1])break;f(a)}}function e(){for(;s>1;){var a=s-2;a>0&&n[a-1]<n[a+1]&&a--,f(a)}}function f(c){var d=k[c],e=n[c],f=k[c+1],l=n[c+1];n[c]=e+l,c===s-3&&(k[c+1]=k[c+2],n[c+1]=n[c+2]),s--;var m=h(a[f],a,d,e,0,b);d+=m,e-=m,0!==e&&(l=g(a[d+e-1],a,f,l,l-1,b),0!==l&&(l>=e?i(d,e,f,l):j(d,e,f,l)))}function i(c,d,e,f){var i=0;for(i=0;d>i;i++)t[i]=a[c+i];var j=0,k=e,m=c;if(a[m++]=a[k++],0!==--f){if(1===d){for(i=0;f>i;i++)a[m+i]=a[k+i];return void(a[m+f]=t[j])}for(var n,p,q,r=o;;){n=0,p=0,q=!1;do if(b(a[k],t[j])<0){if(a[m++]=a[k++],p++,n=0,0===--f){q=!0;break}}else if(a[m++]=t[j++],n++,p=0,1===--d){q=!0;break}while(r>(n|p));if(q)break;do{if(n=h(a[k],t,j,d,0,b),0!==n){for(i=0;n>i;i++)a[m+i]=t[j+i];if(m+=n,j+=n,d-=n,1>=d){q=!0;break}}if(a[m++]=a[k++],0===--f){q=!0;break}if(p=g(t[j],a,k,f,0,b),0!==p){for(i=0;p>i;i++)a[m+i]=a[k+i];if(m+=p,k+=p,f-=p,0===f){q=!0;break}}if(a[m++]=t[j++],1===--d){q=!0;break}r--}while(n>=l||p>=l);if(q)break;0>r&&(r=0),r+=2}if(o=r,1>o&&(o=1),1===d){for(i=0;f>i;i++)a[m+i]=a[k+i];a[m+f]=t[j]}else{if(0===d)throw new Error;for(i=0;d>i;i++)a[m+i]=t[j+i]}}else for(i=0;d>i;i++)a[m+i]=t[j+i]}function j(c,d,e,f){var i=0;for(i=0;f>i;i++)t[i]=a[e+i];var j=c+d-1,k=f-1,m=e+f-1,n=0,p=0;if(a[m--]=a[j--],0!==--d){if(1===f){for(m-=d,j-=d,p=m+1,n=j+1,i=d-1;i>=0;i--)a[p+i]=a[n+i];return void(a[m]=t[k])}for(var q=o;;){var r=0,s=0,u=!1;do if(b(t[k],a[j])<0){if(a[m--]=a[j--],r++,s=0,0===--d){u=!0;break}}else if(a[m--]=t[k--],s++,r=0,1===--f){u=!0;break}while(q>(r|s));if(u)break;do{if(r=d-h(t[k],a,c,d,d-1,b),0!==r){for(m-=r,j-=r,d-=r,p=m+1,n=j+1,i=r-1;i>=0;i--)a[p+i]=a[n+i];if(0===d){u=!0;break}}if(a[m--]=t[k--],1===--f){u=!0;break}if(s=f-g(a[j],t,0,f,f-1,b),0!==s){for(m-=s,k-=s,f-=s,p=m+1,n=k+1,i=0;s>i;i++)a[p+i]=t[n+i];if(1>=f){u=!0;break}}if(a[m--]=a[j--],0===--d){u=!0;break}q--}while(r>=l||s>=l);if(u)break;0>q&&(q=0),q+=2}if(o=q,1>o&&(o=1),1===f){for(m-=d,j-=d,p=m+1,n=j+1,i=d-1;i>=0;i--)a[p+i]=a[n+i];a[m]=t[k]}else{if(0===f)throw new Error;for(n=m-(f-1),i=0;f>i;i++)a[n+i]=t[i]}}else for(n=m-(f-1),i=0;f>i;i++)a[n+i]=t[i]}var k,n,o=l,p=0,q=m,r=0,s=0;p=a.length,2*m>p&&(q=p>>>1);var t=[];r=120>p?5:1542>p?10:119151>p?19:40,k=[],n=[],this.mergeRuns=d,this.forceMergeRuns=e,this.pushRun=c}function j(a,b,e,g){e||(e=0),g||(g=a.length);var h=g-e;if(!(2>h)){var j=0;if(k>h)return j=d(a,e,g,b),void f(a,e,g,e+j,b);var l=new i(a,b),m=c(h);do{if(j=d(a,e,g,b),m>j){var n=h;n>m&&(n=m),f(a,e,e+n,e+j,b),j=n}l.pushRun(e,j),l.mergeRuns(),h-=j,e+=j}while(0!==h);l.forceMergeRuns()}}var k=32,l=7,m=256;a.exports=j},function(a,b,c){var d=c(4),e=c(88).Dispatcher,f=c(89),g=c(36),h=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,e.call(this)};h.prototype={constructor:h,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;for(var b=a.getClips(),c=0;c<b.length;c++)this.addClip(b[c])},removeClip:function(a){var b=d.indexOf(this._clips,a);b>=0&&this._clips.splice(b,1)},removeAnimator:function(a){for(var b=a.getClips(),c=0;c<b.length;c++)this.removeClip(b[c]);a.animation=null},_update:function(){for(var a=(new Date).getTime()-this._pausedTime,b=a-this._time,c=this._clips,d=c.length,e=[],f=[],g=0;d>g;g++){var h=c[g],i=h.step(a);i&&(e.push(i),f.push(h))}for(var g=0;d>g;)c[g]._needsRemove?(c[g]=c[d-1],c.pop(),d--):g++;d=e.length;for(var g=0;d>g;g++)f[g].fire(e[g]);this._time=a,this.onframe(b),this.trigger("frame",b),this.stage.update&&this.stage.update()},_startLoop:function(){function a(){b._running&&(f(a),!b._paused&&b._update())}var b=this;this._running=!0,f(a)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(a,b){b=b||{};var c=new g(a,b.loop,b.getter,b.setter);return this.addAnimator(c),c}},d.mixin(h,e),a.exports=h},function(a,b,c){function d(a){return a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0}}function e(a,b,c,d){return c=c||{},d||!k.canvasSupported?f(a,b,c):k.browser.firefox&&null!=b.layerX&&b.layerX!==b.offsetX?(c.zrX=b.layerX,c.zrY=b.layerY):null!=b.offsetX?(c.zrX=b.offsetX,c.zrY=b.offsetY):f(a,b,c),c}function f(a,b,c){var e=d(a);c.zrX=b.clientX-e.left,c.zrY=b.clientY-e.top}function g(a,b,c){if(b=b||window.event,null!=b.zrX)return b;var d=b.type,f=d&&d.indexOf("touch")>=0;if(f){var g="touchend"!=d?b.targetTouches[0]:b.changedTouches[0];g&&e(a,g,b,c)}else e(a,b,b,c),b.zrDelta=b.wheelDelta?b.wheelDelta/120:-(b.detail||0)/3;return b}function h(a,b,c){l?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function i(a,b,c){l?a.removeEventListener(b,c):a.detachEvent("on"+b,c)}var j=c(33),k=c(2),l="undefined"!=typeof window&&!!window.addEventListener,m=l?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0};a.exports={clientToLocal:e,normalizeEvent:g,addEventListener:h,removeEventListener:i,stop:m,Dispatcher:j}},function(a,b){a.exports="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)}},function(a,b,c){function d(a){return"mousewheel"===a&&m.browser.firefox?"DOMMouseScroll":a}function e(a,b,c){var d=a._gestureMgr;"start"===c&&d.clear();var e=d.recognize(b,a.handler.findHover(b.zrX,b.zrY,null),a.dom);if("end"===c&&d.clear(),e){var f=e.type;b.gestureEvent=f,a.handler.dispatchToElement(e.target,f,e.event)}}function f(a){a._touching=!0,clearTimeout(a._touchTimer),a._touchTimer=setTimeout(function(){a._touching=!1},700)}function g(a){var b=a.pointerType;return"pen"===b||"touch"===b}function h(a){function b(a,b){return function(){return b._touching?void 0:a.apply(b,arguments)}}k.each(t,function(b){a._handlers[b]=k.bind(w[b],a)}),k.each(v,function(b){a._handlers[b]=k.bind(w[b],a)}),k.each(s,function(c){a._handlers[c]=b(w[c],a)})}function i(a){function b(b,c){k.each(b,function(b){o(a,d(b),c._handlers[b])},c)}l.call(this),this.dom=a,this._touching=!1,this._touchTimer,this._gestureMgr=new n,this._handlers={},h(this),m.pointerEventsSupported?b(v,this):(m.touchEventsSupported&&b(t,this),b(s,this))}var j=c(88),k=c(4),l=c(33),m=c(2),n=c(91),o=j.addEventListener,p=j.removeEventListener,q=j.normalizeEvent,r=300,s=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],u={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},v=k.map(s,function(a){var b=a.replace("mouse","pointer");return u[b]?b:a}),w={mousemove:function(a){a=q(this.dom,a),this.trigger("mousemove",a)},mouseout:function(a){a=q(this.dom,a);var b=a.toElement||a.relatedTarget;if(b!=this.dom)for(;b&&9!=b.nodeType;){if(b===this.dom)return;b=b.parentNode}this.trigger("mouseout",a)},touchstart:function(a){a=q(this.dom,a),a.zrByTouch=!0,this._lastTouchMoment=new Date,e(this,a,"start"),w.mousemove.call(this,a),w.mousedown.call(this,a),f(this)},touchmove:function(a){a=q(this.dom,a),a.zrByTouch=!0,e(this,a,"change"),w.mousemove.call(this,a),f(this)},touchend:function(a){a=q(this.dom,a),a.zrByTouch=!0,e(this,a,"end"),w.mouseup.call(this,a),+new Date-this._lastTouchMoment<r&&w.click.call(this,a),f(this)},pointerdown:function(a){w.mousedown.call(this,a)},pointermove:function(a){g(a)||w.mousemove.call(this,a)},pointerup:function(a){w.mouseup.call(this,a)},pointerout:function(a){g(a)||w.mouseout.call(this,a)}};k.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){w[a]=function(b){b=q(this.dom,b),this.trigger(a,b)}});var x=i.prototype;x.dispose=function(){for(var a=s.concat(t),b=0;b<a.length;b++){var c=a[b];p(this.dom,d(c),this._handlers[c])}},x.setCursor=function(a){this.dom.style.cursor=a||"default"},k.mixin(i,l),a.exports=i},function(a,b,c){function d(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];return Math.sqrt(b*b+c*c)}function e(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}var f=c(88),g=function(){this._track=[]};g.prototype={constructor:g,recognize:function(a,b,c){return this._doTrack(a,b,c),this._recognize(a)},clear:function(){return this._track.length=0,this},_doTrack:function(a,b,c){var d=a.touches;if(d){for(var e={points:[],touches:[],target:b,event:a},g=0,h=d.length;h>g;g++){var i=d[g],j=f.clientToLocal(c,i,{});e.points.push([j.zrX,j.zrY]),e.touches.push(i)}this._track.push(e)}},_recognize:function(a){for(var b in h)if(h.hasOwnProperty(b)){var c=h[b](this._track,a);if(c)return c}}};var h={pinch:function(a,b){var c=a.length;if(c){var f=(a[c-1]||{}).points,g=(a[c-2]||{}).points||f;if(g&&g.length>1&&f&&f.length>1){var h=d(f)/d(g);!isFinite(h)&&(h=1),b.pinchScale=h;var i=e(f);return b.pinchX=i[0],b.pinchY=i[1],{type:"pinch",target:a[0].target,event:b}}}}};a.exports=g},function(a,b,c){function d(a){return parseInt(a,10)}function e(a){return a?a.isBuildin?!0:"function"!=typeof a.resize||"function"!=typeof a.refresh?!1:!0:!1}function f(a){a.__unusedCount++}function g(a){1==a.__unusedCount&&a.clear()}function h(a,b,c){return t.copy(a.getBoundingRect()),a.transform&&t.applyTransform(a.transform),u.width=b,u.height=c,!t.intersect(u)}function i(a,b){if(a==b)return!1;if(!a||!b||a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0}function j(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.path;d.setTransform(b),e.beginPath(b),d.buildPath(e,d.shape),b.clip(),d.restoreTransform(b)}}function k(a,b){var c=document.createElement("div");return c.style.cssText=["position:relative","overflow:hidden","width:"+a+"px","height:"+b+"px","padding:0","margin:0","border-width:0"].join(";")+";",c}var l=c(41),m=c(4),n=c(40),o=c(9),p=c(86),q=c(93),r=c(89),s=5,t=new o(0,0,0,0),u=new o(0,0,0,0),v=function(a,b,c){var d=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();this._opts=c=m.extend({},c||{}),this.dpr=c.devicePixelRatio||l.devicePixelRatio,this._singleCanvas=d,this.root=a;var e=a.style;e&&(e["-webkit-tap-highlight-color"]="transparent",e["-webkit-user-select"]=e["user-select"]=e["-webkit-touch-callout"]="none",a.innerHTML=""),this.storage=b;var f=this._zlevelList=[],g=this._layers={};if(this._layerConfig={},d){var h=a.width,i=a.height;this._width=h,this._height=i;var j=new q(a,this,1);j.initContext(),g[0]=j,f.push(0),this._domRoot=a}else{this._width=this._getSize(0),this._height=this._getSize(1);var n=this._domRoot=k(this._width,this._height);a.appendChild(n)}this.pathToImage=this._createPathToImage(),this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};v.prototype={constructor:v,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},refresh:function(a){var b=this.storage.getDisplayList(!0),c=this._zlevelList;this._paintList(b,a);for(var d=0;d<c.length;d++){var e=c[d],f=this._layers[e];!f.isBuildin&&f.refresh&&f.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(a,b){if(!a.__hoverMir){var c=new a.constructor({style:a.style,shape:a.shape});c.__from=a,a.__hoverMir=c,c.setStyle(b),this._hoverElements.push(c)}},removeHover:function(a){var b=a.__hoverMir,c=this._hoverElements,d=m.indexOf(c,b);d>=0&&c.splice(d,1),a.__hoverMir=null},clearHover:function(a){for(var b=this._hoverElements,c=0;c<b.length;c++){var d=b[c].__from;d&&(d.__hoverMir=null)}b.length=0},refreshHover:function(){var a=this._hoverElements,b=a.length,c=this._hoverlayer;if(c&&c.clear(),b){p(a,this.storage.displayableSortFunc),c||(c=this._hoverlayer=this.getLayer(1e5));var d={};c.ctx.save();for(var e=0;b>e;){var f=a[e],g=f.__from;g&&g.__zr?(e++,g.invisible||(f.transform=g.transform,f.invTransform=g.invTransform,f.__clipPaths=g.__clipPaths,this._doPaintEl(f,c,!0,d))):(a.splice(e,1),g.__hoverMir=null,b--)}c.ctx.restore()}},_startProgessive:function(){function a(){c===b._progressiveToken&&b.storage&&(b._doPaintList(b.storage.getDisplayList()),b._furtherProgressive?(b._progress++,r(a)):b._progressiveToken=-1)}var b=this;if(b._furtherProgressive){var c=b._progressiveToken=+new Date;b._progress++,r(a)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,m.each(this._progressiveLayers,function(a){a.__dirty&&a.clear()})},_paintList:function(a,b){null==b&&(b=!1),this._updateLayerStatus(a),this._clearProgressive(),this.eachBuildinLayer(f),this._doPaintList(a,b),this.eachBuildinLayer(g)},_doPaintList:function(a,b){function c(a){var b=f.dpr||1;f.save(),f.globalAlpha=1,f.shadowBlur=0,d.__dirty=!0,f.setTransform(1,0,0,1,0,0),f.drawImage(a.dom,0,0,k*b,l*b),f.restore()}for(var d,e,f,g,h,i,j=0,k=this._width,l=this._height,o=this._progress,p=0,q=a.length;q>p;p++){var r=a[p],t=this._singleCanvas?0:r.zlevel,u=r.__frame;if(0>u&&h&&(c(h),h=null),e!==t&&(f&&f.restore(),g={},e=t,d=this.getLayer(e),d.isBuildin||n("ZLevel "+e+" has been used by unkown layer "+d.id),f=d.ctx,f.save(),d.__unusedCount=0,(d.__dirty||b)&&d.clear()),d.__dirty||b){if(u>=0){if(!h){if(h=this._progressiveLayers[Math.min(j++,s-1)],h.ctx.save(),h.renderScope={},h&&h.__progress>h.__maxProgress){p=h.__nextIdxNotProg-1;continue}i=h.__progress,h.__dirty||(o=i),h.__progress=o+1}u===o&&this._doPaintEl(r,h,!0,h.renderScope)}else this._doPaintEl(r,d,b,g);r.__dirty=!1}}h&&c(h),f&&f.restore(),this._furtherProgressive=!1,m.each(this._progressiveLayers,function(a){a.__maxProgress>=a.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(a,b,c,d){var e=b.ctx,f=a.transform;if((b.__dirty||c)&&!a.invisible&&0!==a.style.opacity&&(!f||f[0]||f[3])&&(!a.culling||!h(a,this._width,this._height))){var g=a.__clipPaths;(d.prevClipLayer!==b||i(g,d.prevElClipPaths))&&(d.prevElClipPaths&&(d.prevClipLayer.ctx.restore(),d.prevClipLayer=d.prevElClipPaths=null,d.prevEl=null),g&&(e.save(),j(g,e),d.prevClipLayer=b,d.prevElClipPaths=g)),a.beforeBrush&&a.beforeBrush(e),a.brush(e,d.prevEl||null),d.prevEl=a,a.afterBrush&&a.afterBrush(e)}},getLayer:function(a){if(this._singleCanvas)return this._layers[0];var b=this._layers[a];return b||(b=new q("zr_"+a,this,this.dpr),b.isBuildin=!0,this._layerConfig[a]&&m.merge(b,this._layerConfig[a],!0),this.insertLayer(a,b),b.initContext()),b},insertLayer:function(a,b){var c=this._layers,d=this._zlevelList,f=d.length,g=null,h=-1,i=this._domRoot;if(c[a])return void n("ZLevel "+a+" has been used already");if(!e(b))return void n("Layer of zlevel "+a+" is not valid");if(f>0&&a>d[0]){for(h=0;f-1>h&&!(d[h]<a&&d[h+1]>a);h++);g=c[d[h]]}if(d.splice(h+1,0,a),g){var j=g.dom;j.nextSibling?i.insertBefore(b.dom,j.nextSibling):i.appendChild(b.dom)}else i.firstChild?i.insertBefore(b.dom,i.firstChild):i.appendChild(b.dom);c[a]=b},eachLayer:function(a,b){var c,d,e=this._zlevelList;for(d=0;d<e.length;d++)c=e[d],a.call(b,this._layers[c],c)},eachBuildinLayer:function(a,b){var c,d,e,f=this._zlevelList;for(e=0;e<f.length;e++)d=f[e],c=this._layers[d],c.isBuildin&&a.call(b,c,d)},eachOtherLayer:function(a,b){var c,d,e,f=this._zlevelList;for(e=0;e<f.length;e++)d=f[e],c=this._layers[d],c.isBuildin||a.call(b,c,d)},getLayers:function(){return this._layers},_updateLayerStatus:function(a){var b=this._layers,c=this._progressiveLayers,d={},e={};this.eachBuildinLayer(function(a,b){d[b]=a.elCount,a.elCount=0,a.__dirty=!1}),m.each(c,function(a,b){e[b]=a.elCount,a.elCount=0,a.__dirty=!1});for(var f,g,h=0,i=0,j=0,k=a.length;k>j;j++){var l=a[j],n=this._singleCanvas?0:l.zlevel,o=b[n],p=l.progressive;if(o&&(o.elCount++,o.__dirty=o.__dirty||l.__dirty),p>=0){g!==p&&(g=p,i++);var r=l.__frame=i-1;if(!f){var t=Math.min(h,s-1);f=c[t],f||(f=c[t]=new q("progressive",this,this.dpr),f.initContext()),f.__maxProgress=0}f.__dirty=f.__dirty||l.__dirty,f.elCount++,f.__maxProgress=Math.max(f.__maxProgress,r),f.__maxProgress>=f.__progress&&(o.__dirty=!0)}else l.__frame=-1,f&&(f.__nextIdxNotProg=j,h++,f=null)}f&&(h++,f.__nextIdxNotProg=j),this.eachBuildinLayer(function(a,b){d[b]!==a.elCount&&(a.__dirty=!0)}),c.length=Math.min(h,s),m.each(c,function(a,b){e[b]!==a.elCount&&(l.__dirty=!0),a.__dirty&&(a.__progress=0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},configLayer:function(a,b){if(b){var c=this._layerConfig;c[a]?m.merge(c[a],b,!0):c[a]=b;var d=this._layers[a];d&&m.merge(d,c[a],!0)}},delLayer:function(a){var b=this._layers,c=this._zlevelList,d=b[a];d&&(d.dom.parentNode.removeChild(d.dom),delete b[a],c.splice(m.indexOf(c,a),1))},resize:function(a,b){var c=this._domRoot;c.style.display="none";var d=this._opts;if(null!=a&&(d.width=a),null!=b&&(d.height=b),a=this._getSize(0),b=this._getSize(1),c.style.display="",this._width!=a||b!=this._height){c.style.width=a+"px",c.style.height=b+"px";for(var e in this._layers)this._layers.hasOwnProperty(e)&&this._layers[e].resize(a,b);m.each(this._progressiveLayers,function(c){c.resize(a,b)}),this.refresh(!0)}return this._width=a,this._height=b,this},clearLayer:function(a){var b=this._layers[a];b&&b.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(a){if(a=a||{},this._singleCanvas)return this._layers[0].dom;var b=new q("image",this,a.pixelRatio||this.dpr);b.initContext(),b.clearColor=a.backgroundColor,b.clear();for(var c=this.storage.getDisplayList(!0),d={},e=0;e<c.length;e++){var f=c[e];this._doPaintEl(f,b,!0,d)}return b.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(a){var b=this._opts,c=["width","height"][a],e=["clientWidth","clientHeight"][a],f=["paddingLeft","paddingTop"][a],g=["paddingRight","paddingBottom"][a];if(null!=b[c]&&"auto"!==b[c])return parseFloat(b[c]);var h=this.root,i=document.defaultView.getComputedStyle(h);return(h[e]||d(i[c])||d(h.style[c]))-(d(i[f])||0)-(d(i[g])||0)|0},_pathToImage:function(a,b,d,e,f){var g=document.createElement("canvas"),h=g.getContext("2d");g.width=d*f,g.height=e*f,h.clearRect(0,0,d*f,e*f);var i={position:b.position,rotation:b.rotation,scale:b.scale};b.position=[0,0,0],b.rotation=0,b.scale=[1,1],b&&b.brush(h);var j=c(61),k=new j({id:a,style:{x:0,y:0,image:g}});return null!=i.position&&(k.position=b.position=i.position),null!=i.rotation&&(k.rotation=b.rotation=i.rotation),null!=i.scale&&(k.scale=b.scale=i.scale),k},_createPathToImage:function(){var a=this;return function(b,c,d,e){return a._pathToImage(b,c,d,e,a.dpr)}}},a.exports=v},function(a,b,c){function d(){return!1}function e(a,b,c,d){var e=document.createElement(b),f=c.getWidth(),g=c.getHeight(),h=e.style;return h.position="absolute",h.left=0,h.top=0,h.width=f+"px",h.height=g+"px",e.width=f*d,e.height=g*d,e.setAttribute("data-zr-dom-id",a),e}var f=c(4),g=c(41),h=c(47),i=c(59),j=function(a,b,c){var h;c=c||g.devicePixelRatio,"string"==typeof a?h=e(a,"canvas",b,c):f.isObject(a)&&(h=a,a=h.id),this.id=a,this.dom=h;var i=h.style;i&&(h.onselectstart=d,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=b,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=c};j.prototype={constructor:j,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=e("back-"+this.id,"canvas",this.painter,a),this.ctxBack=this.domBack.getContext("2d"),1!=a&&this.ctxBack.scale(a,a)},resize:function(a,b){var c=this.dpr,d=this.dom,e=d.style,f=this.domBack;e.width=a+"px",e.height=b+"px",d.width=a*c,d.height=b*c,f&&(f.width=a*c,f.height=b*c,1!=c&&this.ctxBack.scale(c,c))},clear:function(a){var b=this.dom,c=this.ctx,d=b.width,e=b.height,f=this.clearColor,g=this.motionBlur&&!a,j=this.lastFrameAlpha,k=this.dpr;if(g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(b,0,0,d/k,e/k)),c.clearRect(0,0,d,e),f){var l;f.colorStops?(l=f.__canvasGradient||h.getGradient(c,f,{x:0,y:0,width:d,height:e}),f.__canvasGradient=l):f.image&&(l=i.prototype.getCanvasPattern.call(f,c)),c.save(),c.fillStyle=l||f,c.fillRect(0,0,d,e),c.restore()}if(g){var m=this.domBack;c.save(),c.globalAlpha=j,c.drawImage(m,0,0,d,e),c.restore()}}},a.exports=j},function(a,b,c){var d=c(79);a.exports=function(a){function b(b){var c=(b.visualColorAccessPath||"itemStyle.normal.color").split("."),e=b.getData(),f=b.get(c)||b.getColorFromPalette(b.get("name"));e.setVisual("color",f),a.isSeriesFiltered(b)||("function"!=typeof f||f instanceof d||e.each(function(a){e.setItemVisual(a,"color",f(b.getDataParams(a)))}),e.each(function(a){var b=e.getItemModel(a),d=b.get(c,!0);null!=d&&e.setItemVisual(a,"color",d)}))}a.eachRawSeries(b)}},function(a,b,c){function d(a,b){b=b.split(",");for(var c=a,d=0;d<b.length&&(c=c&&c[b[d]],null!=c);d++);return c}function e(a,b,c,d){b=b.split(",");for(var e,f=a,g=0;g<b.length-1;g++)e=b[g],null==f[e]&&(f[e]={}),f=f[e];(d||null==f[b[g]])&&(f[b[g]]=c)}function f(a){l(i,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}var g=c(4),h=c(96),i=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],j=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],k=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],l=g.each;a.exports=function(a){l(a.series,function(a){if(g.isObject(a)){var b=a.type;if(h(a),("pie"===b||"gauge"===b)&&null!=a.clockWise&&(a.clockwise=a.clockWise),"gauge"===b){var c=d(a,"pointer.color");null!=c&&e(a,"itemStyle.normal.color",c)}for(var i=0;i<k.length;i++)if(k[i]===a.type){f(a);break}}}),a.dataRange&&(a.visualMap=a.dataRange),
l(j,function(b){var c=a[b];c&&(g.isArray(c)||(c=[c]),l(c,function(a){f(a)}))})}},function(a,b,c){function d(a){var b=a&&a.itemStyle;b&&e.each(f,function(c){var d=b.normal,f=b.emphasis;d&&d[c]&&(a[c]=a[c]||{},a[c].normal?e.merge(a[c].normal,d[c]):a[c].normal=d[c],d[c]=null),f&&f[c]&&(a[c]=a[c]||{},a[c].emphasis?e.merge(a[c].emphasis,f[c]):a[c].emphasis=f[c],f[c]=null)})}var e=c(4),f=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];a.exports=function(a){if(a){d(a),d(a.markPoint),d(a.markLine);var b=a.data;if(b){for(var c=0;c<b.length;c++)d(b[c]);var f=a.markPoint;if(f&&f.data)for(var g=f.data,c=0;c<g.length;c++)d(g[c]);var h=a.markLine;if(h&&h.data)for(var i=h.data,c=0;c<i.length;c++)e.isArray(i[c])?(d(i[c][0]),d(i[c][1])):d(i[c])}}}},function(a,b,c){var d=c(43),e=c(4),f=Math.PI;a.exports=function(a,b){b=b||{},e.defaults(b,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var c=new d.Rect({style:{fill:b.maskColor},zlevel:b.zlevel,z:1e4}),g=new d.Arc({shape:{startAngle:-f/2,endAngle:-f/2+.1,r:10},style:{stroke:b.color,lineCap:"round",lineWidth:5},zlevel:b.zlevel,z:10001}),h=new d.Rect({style:{fill:"none",text:b.text,textPosition:"right",textDistance:10,textFill:b.textColor},zlevel:b.zlevel,z:10001});g.animateShape(!0).when(1e3,{endAngle:3*f/2}).start("circularInOut"),g.animateShape(!0).when(1e3,{startAngle:3*f/2}).delay(300).start("circularInOut");var i=new d.Group;return i.add(g),i.add(h),i.add(c),i.resize=function(){var b=a.getWidth()/2,d=a.getHeight()/2;g.setShape({cx:b,cy:d});var e=g.shape.r;h.setShape({x:b-e,y:d-e,width:2*e,height:2*e}),c.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},i.resize(),i}},function(a,b,c){(function(b){function d(a){return m.isArray(a)||(a=[a]),a}function e(a,b){var c=a.dimensions,d=new r(m.map(c,a.getDimensionInfo,a),a.hostModel);q(d,a);for(var e=d._storage={},f=a._storage,g=0;g<c.length;g++){var h=c[g],i=f[h];m.indexOf(b,h)>=0?e[h]=new i.constructor(f[h].length):e[h]=f[h]}return d}var f="undefined",g="undefined"==typeof window?b:window,h=typeof g.Float64Array===f?Array:g.Float64Array,i=typeof g.Int32Array===f?Array:g.Int32Array,j={"float":h,"int":i,ordinal:Array,number:Array,time:Array},k=c(12),l=c(99),m=c(4),n=c(5),o=m.isObject,p=["stackedOn","hasItemOption","_nameList","_idList","_rawData"],q=function(a,b){m.each(p.concat(b.__wrappedMethods||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a.__wrappedMethods=b.__wrappedMethods},r=function(a,b){a=a||["x","y"];for(var c={},d=[],e=0;e<a.length;e++){var f,g={};"string"==typeof a[e]?(f=a[e],g={name:f,stackable:!1,type:"number"}):(g=a[e],f=g.name,g.type=g.type||"number"),d.push(f),c[f]=g}this.dimensions=d,this._dimensionInfos=c,this.hostModel=b,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},s=r.prototype;s.type="list",s.hasItemOption=!0,s.getDimension=function(a){return isNaN(a)||(a=this.dimensions[a]||a),a},s.getDimensionInfo=function(a){return m.clone(this._dimensionInfos[this.getDimension(a)])},s.initData=function(a,b,c){if(a=a||[],!m.isArray(a))throw new Error("Invalid data.");this._rawData=a;var d=this._storage={},e=this.indices=[],f=this.dimensions,g=a.length,h=this._dimensionInfos,i=[],k={};b=b||[];for(var l=0;l<f.length;l++){var o=h[f[l]],p=j[o.type];d[f[l]]=new p(g)}var q=this;c||(q.hasItemOption=!1),c=c||function(a,b,c,d){var e=n.getDataItemValue(a);return n.isDataItemOption(a)&&(q.hasItemOption=!0),n.converDataValue(e instanceof Array?e[d]:e,h[b])};for(var r=0;r<a.length;r++){for(var s=a[r],t=0;t<f.length;t++){var u=f[t],v=d[u];v[r]=c(s,u,r,t)}e.push(r)}for(var l=0;l<a.length;l++){b[l]||a[l]&&null!=a[l].name&&(b[l]=a[l].name);var w=b[l]||"",x=a[l]&&a[l].id;!x&&w&&(k[w]=k[w]||0,x=w,k[w]>0&&(x+="__ec__"+k[w]),k[w]++),x&&(i[l]=x)}this._nameList=b,this._idList=i},s.count=function(){return this.indices.length},s.get=function(a,b,c){var d=this._storage,e=this.indices[b];if(null==e)return NaN;var f=d[a]&&d[a][e];if(c){var g=this._dimensionInfos[a];if(g&&g.stackable)for(var h=this.stackedOn;h;){var i=h.get(a,b);(f>=0&&i>0||0>=f&&0>i)&&(f+=i),h=h.stackedOn}}return f},s.getValues=function(a,b,c){var d=[];m.isArray(a)||(c=b,b=a,a=this.dimensions);for(var e=0,f=a.length;f>e;e++)d.push(this.get(a[e],b,c));return d},s.hasValue=function(a){for(var b=this.dimensions,c=this._dimensionInfos,d=0,e=b.length;e>d;d++)if("ordinal"!==c[b[d]].type&&isNaN(this.get(b[d],a)))return!1;return!0},s.getDataExtent=function(a,b,c){a=this.getDimension(a);var d=this._storage[a],e=this.getDimensionInfo(a);b=e&&e.stackable&&b;var f,g=(this._extent||(this._extent={}))[a+!!b];if(g)return g;if(d){for(var h=1/0,i=-(1/0),j=0,k=this.count();k>j;j++)f=this.get(a,j,b),(!c||c(f,a,j))&&(h>f&&(h=f),f>i&&(i=f));return this._extent[a+!!b]=[h,i]}return[1/0,-(1/0)]},s.getSum=function(a,b){var c=this._storage[a],d=0;if(c)for(var e=0,f=this.count();f>e;e++){var g=this.get(a,e,b);isNaN(g)||(d+=g)}return d},s.indexOf=function(a,b){var c=this._storage,d=c[a],e=this.indices;if(d)for(var f=0,g=e.length;g>f;f++){var h=e[f];if(d[h]===b)return f}return-1},s.indexOfName=function(a){for(var b=this.indices,c=this._nameList,d=0,e=b.length;e>d;d++){var f=b[d];if(c[f]===a)return d}return-1},s.indexOfRawIndex=function(a){var b=this.indices,c=b[a];if(null!=c&&c===a)return a;for(var d=0,e=b.length-1;e>=d;){var f=(d+e)/2|0;if(b[f]<a)d=f+1;else{if(!(b[f]>a))return f;e=f-1}}return-1},s.indexOfNearest=function(a,b,c,d){var e=this._storage,f=e[a];null==d&&(d=1/0);var g=-1;if(f)for(var h=Number.MAX_VALUE,i=0,j=this.count();j>i;i++){var k=b-this.get(a,i,c),l=Math.abs(k);d>=k&&(h>l||l===h&&k>0)&&(h=l,g=i)}return g},s.getRawIndex=function(a){var b=this.indices[a];return null==b?-1:b},s.getRawDataItem=function(a){return this._rawData[this.getRawIndex(a)]},s.getName=function(a){return this._nameList[this.indices[a]]||""},s.getId=function(a){return this._idList[this.indices[a]]||this.getRawIndex(a)+""},s.each=function(a,b,c,e){"function"==typeof a&&(e=c,c=b,b=a,a=[]),a=m.map(d(a),this.getDimension,this);var f=[],g=a.length,h=this.indices;e=e||this;for(var i=0;i<h.length;i++)switch(g){case 0:b.call(e,i);break;case 1:b.call(e,this.get(a[0],i,c),i);break;case 2:b.call(e,this.get(a[0],i,c),this.get(a[1],i,c),i);break;default:for(var j=0;g>j;j++)f[j]=this.get(a[j],i,c);f[j]=i,b.apply(e,f)}},s.filterSelf=function(a,b,c,e){"function"==typeof a&&(e=c,c=b,b=a,a=[]),a=m.map(d(a),this.getDimension,this);var f=[],g=[],h=a.length,i=this.indices;e=e||this;for(var j=0;j<i.length;j++){var k;if(1===h)k=b.call(e,this.get(a[0],j,c),j);else{for(var l=0;h>l;l++)g[l]=this.get(a[l],j,c);g[l]=j,k=b.apply(e,g)}k&&f.push(i[j])}return this.indices=f,this._extent={},this},s.mapArray=function(a,b,c,d){"function"==typeof a&&(d=c,c=b,b=a,a=[]);var e=[];return this.each(a,function(){e.push(b&&b.apply(this,arguments))},c,d),e},s.map=function(a,b,c,f){a=m.map(d(a),this.getDimension,this);var g=e(this,a),h=g.indices=this.indices,i=g._storage,j=[];return this.each(a,function(){var c=arguments[arguments.length-1],d=b&&b.apply(this,arguments);if(null!=d){"number"==typeof d&&(j[0]=d,d=j);for(var e=0;e<d.length;e++){var f=a[e],g=i[f],k=h[c];g&&(g[k]=d[e])}}},c,f),g},s.downSample=function(a,b,c,d){for(var f=e(this,[a]),g=this._storage,h=f._storage,i=this.indices,j=f.indices=[],k=[],l=[],m=Math.floor(1/b),n=h[a],o=this.count(),p=0;p<g[a].length;p++)h[a][p]=g[a][p];for(var p=0;o>p;p+=m){m>o-p&&(m=o-p,k.length=m);for(var q=0;m>q;q++){var r=i[p+q];k[q]=n[r],l[q]=r}var s=c(k),r=l[d(k,s)||0];n[r]=s,j.push(r)}return f},s.getItemModel=function(a){var b=this.hostModel;return a=this.indices[a],new k(this._rawData[a],b,b&&b.ecModel)},s.diff=function(a){var b,c=this._idList,d=a&&a._idList,e="e\x00\x00";return new l(a?a.indices:[],this.indices,function(a){return null!=(b=d[a])?b:e+a},function(a){return null!=(b=c[a])?b:e+a})},s.getVisual=function(a){var b=this._visual;return b&&b[a]},s.setVisual=function(a,b){if(o(a))for(var c in a)a.hasOwnProperty(c)&&this.setVisual(c,a[c]);else this._visual=this._visual||{},this._visual[a]=b},s.setLayout=function(a,b){if(o(a))for(var c in a)a.hasOwnProperty(c)&&this.setLayout(c,a[c]);else this._layout[a]=b},s.getLayout=function(a){return this._layout[a]},s.getItemLayout=function(a){return this._itemLayouts[a]},s.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?m.extend(this._itemLayouts[a]||{},b):b},s.clearItemLayouts=function(){this._itemLayouts.length=0},s.getItemVisual=function(a,b,c){var d=this._itemVisuals[a],e=d&&d[b];return null!=e||c?e:this.getVisual(b)},s.setItemVisual=function(a,b,c){var d=this._itemVisuals[a]||{};if(this._itemVisuals[a]=d,o(b))for(var e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);else d[b]=c},s.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var t=function(a){a.seriesIndex=this.seriesIndex,a.dataIndex=this.dataIndex,a.dataType=this.dataType};s.setItemGraphicEl=function(a,b){var c=this.hostModel;b&&(b.dataIndex=a,b.dataType=this.dataType,b.seriesIndex=c&&c.seriesIndex,"group"===b.type&&b.traverse(t,b)),this._graphicEls[a]=b},s.getItemGraphicEl=function(a){return this._graphicEls[a]},s.eachItemGraphicEl=function(a,b){m.each(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})},s.cloneShallow=function(){var a=m.map(this.dimensions,this.getDimensionInfo,this),b=new r(a,this.hostModel);return b._storage=this._storage,q(b,this),b.indices=this.indices.slice(),this._extent&&(b._extent=m.extend({},this._extent)),b},s.wrapMethod=function(a,b){var c=this[a];"function"==typeof c&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var a=c.apply(this,arguments);return b.apply(this,[a].concat(m.slice(arguments)))})},s.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],s.CHANGABLE_METHODS=["filterSelf"],a.exports=r}).call(b,function(){return this}())},function(a,b){function c(a){return a}function d(a,b,d,e){this._old=a,this._new=b,this._oldKeyGetter=d||c,this._newKeyGetter=e||c}function e(a,b,c,d){for(var e=0;e<a.length;e++){var f=d(a[e],e),g=b[f];null==g?(c.push(f),b[f]=e):(g.length||(b[f]=g=[g]),g.push(e))}}d.prototype={constructor:d,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var a,b=this._old,c=this._new,d=this._oldKeyGetter,f=this._newKeyGetter,g={},h={},i=[],j=[];for(e(b,g,i,d),e(c,h,j,f),a=0;a<b.length;a++){var k=i[a],l=h[k];if(null!=l){var m=l.length;m?(1===m&&(h[k]=null),l=l.unshift()):h[k]=null,this._update&&this._update(l,a)}else this._remove&&this._remove(a)}for(var a=0;a<j.length;a++){var k=j[a];if(h.hasOwnProperty(k)){var l=h[k];if(null==l)continue;if(l.length)for(var n=0,m=l.length;m>n;n++)this._add&&this._add(l[n]);else this._add&&this._add(l)}}}},a.exports=d},function(a,b,c){var d=c(4),e=c(1),f=e.PRIORITY;c(101),c(104),e.registerVisual(d.curry(c(110),"line","circle","line")),e.registerLayout(d.curry(c(111),"line")),e.registerProcessor(f.PROCESSOR.STATISTIC,d.curry(c(112),"line")),c(113)},function(a,b,c){var d=c(102),e=c(28);a.exports=e.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,b){var c=a.coordinateSystem;if("polar"!==c&&"cartesian2d"!==c)throw new Error("Line not support coordinateSystem besides cartesian and polar");return d(a.data,this,b)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}})},function(a,b,c){function d(a){for(var b=0;b<a.length&&null==a[b];)b++;return a[b]}function e(a){var b=d(a);return null!=b&&!l.isArray(o(b))}function f(a,b,c){if(a=a||[],!l.isArray(a))throw new Error("Invalid data.");var d=b.get("coordinateSystem"),f=q[d],g=n.get(d),h=f&&f(a,b,c),r=h&&h.dimensions;r||(r=g&&g.dimensions||["x","y"],r=k(r,a,r.concat(["value"])));var s=h?h.categoryIndex:-1,t=new j(r,b),u=i(h,a),v={},w=s>=0&&e(a)?function(a,b,c,d){return m.isDataItemOption(a)&&(t.hasItemOption=!0),d===s?c:p(o(a),r[d])}:function(a,b,c,d){var e=o(a),f=p(e&&e[d],r[d]);m.isDataItemOption(a)&&(t.hasItemOption=!0);var g=h&&h.categoryAxesModels;return g&&g[b]&&"string"==typeof f&&(v[b]=v[b]||g[b].getCategories(),f=l.indexOf(v[b],f),0>f&&!isNaN(f)&&(f=+f)),f};return t.hasItemOption=!1,t.initData(a,u,w),t}function g(a){return"category"!==a&&"time"!==a}function h(a){return"category"===a?"ordinal":"time"===a?"time":"float"}function i(a,b){var c,d=[],e=a&&a.dimensions[a.categoryIndex];if(e&&(c=a.categoryAxesModels[e.name]),c){var f=c.getCategories();if(f){var g=b.length;if(l.isArray(b[0])&&b[0].length>1){d=[];for(var h=0;g>h;h++)d[h]=f[b[h][a.categoryIndex||0]]}else d=f.slice(0)}}return d}var j=c(98),k=c(103),l=c(4),m=c(5),n=c(26),o=m.getDataItemValue,p=m.converDataValue,q={cartesian2d:function(a,b,c){var d=l.map(["xAxis","yAxis"],function(a){return c.queryComponents({mainType:a,index:b.get(a+"Index"),id:b.get(a+"Id")})[0]}),e=d[0],f=d[1];if(!e)throw new Error('xAxis "'+l.retrieve(b.get("xAxisIndex"),b.get("xAxisId"),0)+'" not found');if(!f)throw new Error('yAxis "'+l.retrieve(b.get("xAxisIndex"),b.get("yAxisId"),0)+'" not found');var i=e.get("type"),j=f.get("type"),m=[{name:"x",type:h(i),stackable:g(i)},{name:"y",type:h(j),stackable:g(j)}],n="category"===i,o="category"===j;k(m,a,["x","y","z"]);var p={};return n&&(p.x=e),o&&(p.y=f),{dimensions:m,categoryIndex:n?0:o?1:-1,categoryAxesModels:p}},singleAxis:function(a,b,c){var d=c.queryComponents({mainType:"singleAxis",index:b.get("singleAxisIndex"),id:b.get("singleAxisId")})[0];if(!d)throw new Error("singleAxis should be specified.");var e=d.get("type"),f="category"===e,i=[{name:"single",type:h(e),stackable:g(e)}];k(i,a);var j={};return f&&(j.single=d),{dimensions:i,categoryIndex:f?0:-1,categoryAxesModels:j}},polar:function(a,b,c){var d=c.queryComponents({mainType:"polar",index:b.get("polarIndex"),id:b.get("polarId")})[0],e=d.findAxisModel("angleAxis"),f=d.findAxisModel("radiusAxis");if(!e)throw new Error("angleAxis option not found");if(!f)throw new Error("radiusAxis option not found");var i=f.get("type"),j=e.get("type"),l=[{name:"radius",type:h(i),stackable:g(i)},{name:"angle",type:h(j),stackable:g(j)}],m="category"===j,n="category"===i;k(l,a,["radius","angle","value"]);var o={};return n&&(o.radius=f),m&&(o.angle=e),{dimensions:l,categoryIndex:m?1:n?0:-1,categoryAxesModels:o}},geo:function(a,b,c){return{dimensions:k([{name:"lng"},{name:"lat"}],a,["lng","lat","value"])}}};a.exports=f},function(a,b,c){function d(a,b,c,d){if(!b)return a;var h=e(b[0]),i=f.isArray(h)&&h.length||1;c=c||[],d=d||"extra";for(var j=0;i>j;j++)if(!a[j]){var k=c[j]||d+(j-c.length);a[j]=g(b,j)?{type:"ordinal",name:k}:k}return a}function e(a){return f.isArray(a)?a:f.isObject(a)?a.value:a}var f=c(4),g=d.guessOrdinal=function(a,b){for(var c=0,d=a.length;d>c;c++){var g=e(a[c]);if(!f.isArray(g))return!1;var g=g[b];if(null!=g&&isFinite(g))return!1;if(f.isString(g)&&"-"!==g)return!0}return!1};a.exports=d},function(a,b,c){function d(a,b){if(a.length===b.length){for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(d[0]!==e[0]||d[1]!==e[1])return}return!0}}function e(a){return"number"==typeof a?a:a?.3:0}function f(a){var b=a.getGlobalExtent();if(a.onBand){var c=a.getBandWidth()/2-1,d=b[1]>b[0]?1:-1;b[0]+=d*c,b[1]-=d*c}return b}function g(a){return a>=0?1:-1}function h(a,b){var c=a.getBaseAxis(),d=a.getOtherAxis(c),e=c.onZero?0:d.scale.getExtent()[0],f=d.dim,h="x"===f||"radius"===f?1:0;return b.mapArray([f],function(d,i){for(var j,k=b.stackedOn;k&&g(k.get(f,i))===g(d);){j=k;break}var l=[];return l[h]=b.get(c.dim,i),l[1-h]=j?j.get(f,i,!0):e,a.dataToPoint(l)},!0)}function i(a,b,c){var d=f(a.getAxis("x")),e=f(a.getAxis("y")),g=a.getBaseAxis().isHorizontal(),h=Math.min(d[0],d[1]),i=Math.min(e[0],e[1]),j=Math.max(d[0],d[1])-h,k=Math.max(e[0],e[1])-i,l=c.get("lineStyle.normal.width")||2,m=c.get("clipOverflow")?l/2:Math.max(j,k);g?(i-=m,k+=2*m):(h-=m,j+=2*m);var n=new r.Rect({shape:{x:h,y:i,width:j,height:k}});return b&&(n.shape[g?"width":"height"]=0,r.initProps(n,{shape:{width:j,height:k}},c)),n}function j(a,b,c){var d=a.getAngleAxis(),e=a.getRadiusAxis(),f=e.getExtent(),g=d.getExtent(),h=Math.PI/180,i=new r.Sector({shape:{cx:a.cx,cy:a.cy,r0:f[0],r:f[1],startAngle:-g[0]*h,endAngle:-g[1]*h,clockwise:d.inverse}});return b&&(i.shape.endAngle=-g[0]*h,r.initProps(i,{shape:{endAngle:-g[1]*h}},c)),i}function k(a,b,c){return"polar"===a.type?j(a,b,c):i(a,b,c)}function l(a,b,c){for(var d=b.getBaseAxis(),e="x"===d.dim||"radius"===d.dim?0:1,f=[],g=0;g<a.length-1;g++){var h=a[g+1],i=a[g];f.push(i);var j=[];switch(c){case"end":j[e]=h[e],j[1-e]=i[1-e],f.push(j);break;case"middle":var k=(i[e]+h[e])/2,l=[];j[e]=l[e]=k,j[1-e]=i[1-e],l[1-e]=h[1-e],f.push(j),f.push(l);break;default:j[e]=i[e],j[1-e]=h[1-e],f.push(j)}}return a[g]&&f.push(a[g]),f}function m(a,b){var c=a.getVisual("visualMeta");if(c&&c.length&&a.count()){for(var d,e=c.length-1;e>=0;e--)if(c[e].dimension<2){d=c[e];break}if(d&&"cartesian2d"===b.type){var f=d.dimension,g=a.dimensions[f],h=b.getAxis(g),i=n.map(d.stops,function(a){return{coord:h.toGlobalCoord(h.dataToCoord(a.value)),color:a.color}}),j=i.length,k=d.outerColors.slice();j&&i[0].coord>i[j-1].coord&&(i.reverse(),k.reverse());var l=10,m=i[0].coord-l,o=i[j-1].coord+l,p=o-m;if(.001>p)return"transparent";n.each(i,function(a){a.offset=(a.coord-m)/p}),i.push({offset:j?i[j-1].offset:.5,color:k[1]||"transparent"}),i.unshift({offset:j?i[0].offset:.5,color:k[0]||"transparent"});var q=new r.LinearGradient(0,0,0,0,i,!0);return q[g]=m,q[g+"2"]=o,q}}}var n=c(4),o=c(105),p=c(106),q=c(108),r=c(43),s=c(5),t=c(109),u=c(42);a.exports=u.extend({type:"line",init:function(){var a=new r.Group,b=new o;this.group.add(b.group),this._symbolDraw=b,this._lineGroup=a},render:function(a,b,c){var f=a.coordinateSystem,g=this.group,i=a.getData(),j=a.getModel("lineStyle.normal"),o=a.getModel("areaStyle.normal"),p=i.mapArray(i.getItemLayout,!0),q="polar"===f.type,r=this._coordSys,s=this._symbolDraw,t=this._polyline,u=this._polygon,v=this._lineGroup,w=a.get("animation"),x=!o.isEmpty(),y=h(f,i),z=a.get("showSymbol"),A=z&&!q&&!a.get("showAllSymbol")&&this._getSymbolIgnoreFunc(i,f),B=this._data;B&&B.eachItemGraphicEl(function(a,b){a.__temp&&(g.remove(a),B.setItemGraphicEl(b,null))}),z||s.remove(),g.add(v);var C=!q&&a.get("step");t&&r.type===f.type&&C===this._step?(x&&!u?u=this._newPolygon(p,y,f,w):u&&!x&&(v.remove(u),u=this._polygon=null),v.setClipPath(k(f,!1,a)),z&&s.updateData(i,A),i.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),d(this._stackedOnPoints,y)&&d(this._points,p)||(w?this._updateAnimation(i,y,f,c,C):(C&&(p=l(p,f,C),y=l(y,f,C)),t.setShape({points:p}),u&&u.setShape({points:p,stackedOnPoints:y})))):(z&&s.updateData(i,A),C&&(p=l(p,f,C),y=l(y,f,C)),t=this._newPolyline(p,f,w),x&&(u=this._newPolygon(p,y,f,w)),v.setClipPath(k(f,!0,a)));var D=m(i,f)||i.getVisual("color");t.useStyle(n.defaults(j.getLineStyle(),{fill:"none",stroke:D,lineJoin:"bevel"}));var E=a.get("smooth");if(E=e(a.get("smooth")),t.setShape({smooth:E,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")}),u){var F=i.stackedOn,G=0;if(u.useStyle(n.defaults(o.getAreaStyle(),{fill:D,opacity:.7,lineJoin:"bevel"})),F){var H=F.hostModel;G=e(H.get("smooth"))}u.setShape({smooth:E,stackedOnSmooth:G,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")})}this._data=i,this._coordSys=f,this._stackedOnPoints=y,this._points=p,this._step=C},dispose:function(){},highlight:function(a,b,c,d){var e=a.getData(),f=s.queryDataIndex(e,d);if(!(f instanceof Array)&&null!=f&&f>=0){var g=e.getItemGraphicEl(f);if(!g){var h=e.getItemLayout(f);if(!h)return;g=new p(e,f),g.position=h,g.setZ(a.get("zlevel"),a.get("z")),g.ignore=isNaN(h[0])||isNaN(h[1]),g.__temp=!0,e.setItemGraphicEl(f,g),g.stopSymbolAnimation(!0),this.group.add(g)}g.highlight()}else u.prototype.highlight.call(this,a,b,c,d)},downplay:function(a,b,c,d){var e=a.getData(),f=s.queryDataIndex(e,d);if(null!=f&&f>=0){var g=e.getItemGraphicEl(f);g&&(g.__temp?(e.setItemGraphicEl(f,null),this.group.remove(g)):g.downplay())}else u.prototype.downplay.call(this,a,b,c,d)},_newPolyline:function(a){var b=this._polyline;return b&&this._lineGroup.remove(b),b=new t.Polyline({shape:{points:a},silent:!0,z2:10}),this._lineGroup.add(b),this._polyline=b,b},_newPolygon:function(a,b){var c=this._polygon;return c&&this._lineGroup.remove(c),c=new t.Polygon({shape:{points:a,stackedOnPoints:b},silent:!0}),this._lineGroup.add(c),this._polygon=c,c},_getSymbolIgnoreFunc:function(a,b){var c=b.getAxesByScale("ordinal")[0];return c&&c.isLabelIgnored?n.bind(c.isLabelIgnored,c):void 0},_updateAnimation:function(a,b,c,d,e){var f=this._polyline,g=this._polygon,h=a.hostModel,i=q(this._data,a,this._stackedOnPoints,b,this._coordSys,c),j=i.current,k=i.stackedOnCurrent,m=i.next,n=i.stackedOnNext;e&&(j=l(i.current,c,e),k=l(i.stackedOnCurrent,c,e),m=l(i.next,c,e),n=l(i.stackedOnNext,c,e)),f.shape.__points=i.current,f.shape.points=j,r.updateProps(f,{shape:{points:m}},h),g&&(g.setShape({points:j,stackedOnPoints:k}),r.updateProps(g,{shape:{points:m,stackedOnPoints:n}},h));for(var o=[],p=i.status,s=0;s<p.length;s++){var t=p[s].cmd;if("="===t){var u=a.getItemGraphicEl(p[s].idx1);u&&o.push({el:u,ptIdx:s})}}f.animators&&f.animators.length&&f.animators[0].during(function(){for(var a=0;a<o.length;a++){var b=o[a].el;b.attr("position",f.shape.__points[o[a].ptIdx])}})},remove:function(a){var b=this.group,c=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),c&&c.eachItemGraphicEl(function(a,d){a.__temp&&(b.remove(a),c.setItemGraphicEl(d,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(a,b,c){function d(a){this.group=new f.Group,this._symbolCtor=a||g}function e(a,b,c){var d=a.getItemLayout(b);return d&&!isNaN(d[0])&&!isNaN(d[1])&&!(c&&c(b))&&"none"!==a.getItemVisual(b,"symbol")}var f=c(43),g=c(106),h=d.prototype;h.updateData=function(a,b){var c=this.group,d=a.hostModel,g=this._data,h=this._symbolCtor,i={itemStyle:d.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:d.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:d.get("symbolRotate"),symbolOffset:d.get("symbolOffset"),hoverAnimation:d.get("hoverAnimation"),labelModel:d.getModel("label.normal"),hoverLabelModel:d.getModel("label.emphasis")};a.diff(g).add(function(d){var f=a.getItemLayout(d);if(e(a,d,b)){var g=new h(a,d,i);g.attr("position",f),a.setItemGraphicEl(d,g),c.add(g)}}).update(function(j,k){var l=g.getItemGraphicEl(k),m=a.getItemLayout(j);return e(a,j,b)?(l?(l.updateData(a,j,i),f.updateProps(l,{position:m},d)):(l=new h(a,j),l.attr("position",m)),c.add(l),void a.setItemGraphicEl(j,l)):void c.remove(l)}).remove(function(a){var b=g.getItemGraphicEl(a);b&&b.fadeOut(function(){c.remove(b)})}).execute(),this._data=a},h.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(b,c){var d=a.getItemLayout(c);b.attr("position",d)})},h.remove=function(a){var b=this.group,c=this._data;c&&(a?c.eachItemGraphicEl(function(a){a.fadeOut(function(){b.remove(a)})}):b.removeAll())},a.exports=d},function(a,b,c){function d(a,b){var c=a.getItemVisual(b,"symbolSize");return c instanceof Array?c.slice():[+c,+c]}function e(a){return[a[0]/2,a[1]/2]}function f(a,b,c){j.Group.call(this),this.updateData(a,b,c)}function g(a,b){this.parent.drift(a,b)}var h=c(4),i=c(107),j=c(43),k=c(7),l=f.prototype;l._createSymbol=function(a,b,c,d){this.removeAll();var f=b.hostModel,h=b.getItemVisual(c,"color"),k=i.createSymbol(a,-1,-1,2,2,h);k.attr({z2:100,culling:!0,scale:[0,0]}),k.drift=g,j.initProps(k,{scale:e(d)},f,c),this._symbolType=a,this.add(k)},l.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)},l.getSymbolPath=function(){return this.childAt(0)},l.getScale=function(){return this.childAt(0).scale},l.highlight=function(){this.childAt(0).trigger("emphasis")},l.downplay=function(){this.childAt(0).trigger("normal")},l.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a,c.z=b},l.setDraggable=function(a){var b=this.childAt(0);b.draggable=a,b.cursor=a?"move":"pointer"},l.updateData=function(a,b,c){this.silent=!1;var f=a.getItemVisual(b,"symbol")||"circle",g=a.hostModel,h=d(a,b);if(f!==this._symbolType)this._createSymbol(f,a,b,h);else{var i=this.childAt(0);j.updateProps(i,{scale:e(h)},g,b)}this._updateCommon(a,b,h,c),this._seriesModel=g};var m=["itemStyle","normal"],n=["itemStyle","emphasis"],o=["label","normal"],p=["label","emphasis"];l._updateCommon=function(a,b,c,d){var f=this.childAt(0),g=a.hostModel,i=a.getItemVisual(b,"color");"image"!==f.type&&f.useStyle({strokeNoScale:!0}),d=d||null;var l=d&&d.itemStyle,q=d&&d.hoverItemStyle,r=d&&d.symbolRotate,s=d&&d.symbolOffset,t=d&&d.labelModel,u=d&&d.hoverLabelModel,v=d&&d.hoverAnimation;if(!d||a.hasItemOption){var w=a.getItemModel(b);l=w.getModel(m).getItemStyle(["color"]),q=w.getModel(n).getItemStyle(),r=w.getShallow("symbolRotate"),s=w.getShallow("symbolOffset"),t=w.getModel(o),u=w.getModel(p),v=w.getShallow("hoverAnimation")}else q=h.extend({},q);var x=f.style;f.attr("rotation",(r||0)*Math.PI/180||0),s&&f.attr("position",[k.parsePercent(s[0],c[0]),k.parsePercent(s[1],c[1])]),f.setColor(i),f.setStyle(l);var y=a.getItemVisual(b,"opacity");null!=y&&(x.opacity=y);for(var z,A,B=a.dimensions.slice();B.length&&(z=B.pop(),A=a.getDimensionInfo(z).type,"ordinal"===A||"time"===A););null!=z&&t.getShallow("show")?(j.setText(x,t,i),x.text=h.retrieve(g.getFormattedLabel(b,"normal"),a.get(z,b))):x.text="",null!=z&&u.getShallow("show")?(j.setText(q,u,i),q.text=h.retrieve(g.getFormattedLabel(b,"emphasis"),a.get(z,b))):q.text="",f.off("mouseover").off("mouseout").off("emphasis").off("normal"),f.hoverStyle=q,j.setHoverStyle(f);var C=e(c);if(v&&g.isAnimationEnabled()){var D=function(){var a=C[1]/C[0];this.animateTo({scale:[Math.max(1.1*C[0],C[0]+3),Math.max(1.1*C[1],C[1]+3*a)]},400,"elasticOut")},E=function(){this.animateTo({scale:C},400,"elasticOut")};f.on("mouseover",D).on("mouseout",E).on("emphasis",D).on("normal",E)}},l.fadeOut=function(a){var b=this.childAt(0);this.silent=!0,b.style.text="",j.updateProps(b,{scale:[0,0]},this._seriesModel,this.dataIndex,a)},h.inherits(f,j.Group),a.exports=f},function(a,b,c){var d=c(43),e=c(9),f=d.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d+f),a.lineTo(c-e,d+f),a.closePath()}}),g=d.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d),a.lineTo(c,d+f),a.lineTo(c-e,d),a.closePath()}}),h=d.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width/5*3,f=Math.max(e,b.height),g=e/2,h=g*g/(f-g),i=d-f+g+h,j=Math.asin(h/g),k=Math.cos(j)*g,l=Math.sin(j),m=Math.cos(j);a.arc(c,i,g,Math.PI-j,2*Math.PI+j);var n=.6*g,o=.7*g;a.bezierCurveTo(c+k-l*n,i+h+m*n,c,d-o,c,d),a.bezierCurveTo(c,d-o,c-k+l*n,i+h+m*n,c-k,i+h),a.closePath()}}),i=d.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.height,d=b.width,e=b.x,f=b.y,g=d/3*2;a.moveTo(e,f),a.lineTo(e+g,f+c),a.lineTo(e,f+c/4*3),a.lineTo(e-g,f+c),a.lineTo(e,f),a.closePath()}}),j={line:d.Line,rect:d.Rect,roundRect:d.Rect,square:d.Rect,circle:d.Circle,diamond:g,pin:h,arrow:i,triangle:f},k={line:function(a,b,c,d,e){e.x1=a,e.y1=b+d/2,e.x2=a+c,e.y2=b+d/2},rect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d},roundRect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d,e.r=Math.min(c,d)/4},square:function(a,b,c,d,e){var f=Math.min(c,d);e.x=a,e.y=b,e.width=f,e.height=f},circle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.r=Math.min(c,d)/2},diamond:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d},pin:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},arrow:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},triangle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d}},l={};for(var m in j)j.hasOwnProperty(m)&&(l[m]=new j[m]);var n=d.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style,b=this.shape;"pin"===b.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textVerticalAlign="middle")},buildPath:function(a,b,c){var d=b.symbolType,e=l[d];"none"!==b.symbolType&&(e||(d="rect",e=l[d]),k[d](b.x,b.y,b.width,b.height,e.shape),e.buildPath(a,e.shape,c))}}),o=function(a){if("image"!==this.type){var b=this.style,c=this.shape;c&&"line"===c.symbolType?b.stroke=a:this.__isEmptyBrush?(b.stroke=a,b.fill="#fff"):(b.fill&&(b.fill=a),b.stroke&&(b.stroke=a)),this.dirty(!1)}},p={createSymbol:function(a,b,c,f,g,h){var i=0===a.indexOf("empty");i&&(a=a.substr(5,1).toLowerCase()+a.substr(6));var j;return j=0===a.indexOf("image://")?new d.Image({style:{image:a.slice(8),x:b,y:c,width:f,height:g}}):0===a.indexOf("path://")?d.makePath(a.slice(7),{},new e(b,c,f,g)):new n({shape:{symbolType:a,x:b,y:c,width:f,height:g}}),j.__isEmptyBrush=i,j.setColor=o,j.setColor(h),j}};a.exports=p},function(a,b){function c(a){return a>=0?1:-1}function d(a,b,d){for(var e,f=a.getBaseAxis(),g=a.getOtherAxis(f),h=f.onZero?0:g.scale.getExtent()[0],i=g.dim,j="x"===i||"radius"===i?1:0,k=b.stackedOn,l=b.get(i,d);k&&c(k.get(i,d))===c(l);){e=k;break}var m=[];return m[j]=b.get(f.dim,d),m[1-j]=e?e.get(i,d,!0):h,a.dataToPoint(m)}function e(a,b){var c=[];return b.diff(a).add(function(a){c.push({cmd:"+",idx:a})}).update(function(a,b){c.push({cmd:"=",idx:b,idx1:a})}).remove(function(a){c.push({cmd:"-",idx:a})}).execute(),c}a.exports=function(a,b,c,f,g,h){for(var i=e(a,b),j=[],k=[],l=[],m=[],n=[],o=[],p=[],q=h.dimensions,r=0;r<i.length;r++){var s=i[r],t=!0;switch(s.cmd){case"=":var u=a.getItemLayout(s.idx),v=b.getItemLayout(s.idx1);(isNaN(u[0])||isNaN(u[1]))&&(u=v.slice()),j.push(u),k.push(v),l.push(c[s.idx]),m.push(f[s.idx1]),p.push(b.getRawIndex(s.idx1));break;case"+":var w=s.idx;j.push(g.dataToPoint([b.get(q[0],w,!0),b.get(q[1],w,!0)])),k.push(b.getItemLayout(w).slice()),l.push(d(g,b,w)),m.push(f[w]),p.push(b.getRawIndex(w));break;case"-":var w=s.idx,x=a.getRawIndex(w);x!==w?(j.push(a.getItemLayout(w)),k.push(h.dataToPoint([a.get(q[0],w,!0),a.get(q[1],w,!0)])),l.push(c[w]),m.push(d(h,a,w)),p.push(x)):t=!1}t&&(n.push(s),o.push(o.length))}o.sort(function(a,b){return p[a]-p[b]});for(var y=[],z=[],A=[],B=[],C=[],r=0;r<o.length;r++){var w=o[r];y[r]=j[w],z[r]=k[w],A[r]=l[w],B[r]=m[w],C[r]=n[w]}return{current:y,next:z,stackedOnCurrent:A,stackedOnNext:B,status:C}}},function(a,b,c){function d(a){return isNaN(a[0])||isNaN(a[1])}function e(a,b,c,e,f,g,p,q,r,s,t){for(var u=0,v=c,w=0;e>w;w++){var x=b[v];if(v>=f||0>v)break;if(d(x)){if(t){v+=g;continue}break}if(v===c)a[g>0?"moveTo":"lineTo"](x[0],x[1]),l(n,x);else if(r>0){var y=v+g,z=b[y];if(t)for(;z&&d(b[y]);)y+=g,z=b[y];var A=.5,B=b[u],z=b[y];if(!z||d(z))l(o,x);else{d(z)&&!t&&(z=x),h.sub(m,z,B);var C,D;if("x"===s||"y"===s){var E="x"===s?0:1;C=Math.abs(x[E]-B[E]),D=Math.abs(x[E]-z[E])}else C=h.dist(x,B),D=h.dist(x,z);A=D/(D+C),k(o,x,m,-r*(1-A))}i(n,n,q),j(n,n,p),i(o,o,q),j(o,o,p),a.bezierCurveTo(n[0],n[1],o[0],o[1],x[0],x[1]),k(n,x,m,r*A)}else a.lineTo(x[0],x[1]);u=v,v+=g}return w}function f(a,b){var c=[1/0,1/0],d=[-(1/0),-(1/0)];if(b)for(var e=0;e<a.length;e++){var f=a[e];f[0]<c[0]&&(c[0]=f[0]),f[1]<c[1]&&(c[1]=f[1]),f[0]>d[0]&&(d[0]=f[0]),f[1]>d[1]&&(d[1]=f[1])}return{min:b?c:d,max:b?d:c}}var g=c(45),h=c(10),i=h.min,j=h.max,k=h.scaleAndAdd,l=h.copy,m=[],n=[],o=[];a.exports={Polyline:g.extend({type:"ec-polyline",shape:{points:[],
smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(a,b){var c=b.points,g=0,h=c.length,i=f(c,b.smoothConstraint);if(b.connectNulls){for(;h>0&&d(c[h-1]);h--);for(;h>g&&d(c[g]);g++);}for(;h>g;)g+=e(a,c,g,h,h,1,i.min,i.max,b.smooth,b.smoothMonotone,b.connectNulls)+1}}),Polygon:g.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(a,b){var c=b.points,g=b.stackedOnPoints,h=0,i=c.length,j=b.smoothMonotone,k=f(c,b.smoothConstraint),l=f(g,b.smoothConstraint);if(b.connectNulls){for(;i>0&&d(c[i-1]);i--);for(;i>h&&d(c[h]);h++);}for(;i>h;){var m=e(a,c,h,i,i,1,k.min,k.max,b.smooth,j,b.connectNulls);e(a,g,h+m-1,m,i,-1,l.min,l.max,b.stackedOnSmooth,j,b.connectNulls),h+=m+1,a.closePath()}}})}},function(a,b){a.exports=function(a,b,c,d,e){d.eachRawSeriesByType(a,function(a){var e=a.getData(),f=a.get("symbol")||b,g=a.get("symbolSize");e.setVisual({legendSymbol:c||f,symbol:f,symbolSize:g}),d.isSeriesFiltered(a)||("function"==typeof g&&e.each(function(b){var c=a.getRawValue(b),d=a.getDataParams(b);e.setItemVisual(b,"symbolSize",g(c,d))}),e.each(function(a){var b=e.getItemModel(a),c=b.getShallow("symbol",!0),d=b.getShallow("symbolSize",!0);null!=c&&e.setItemVisual(a,"symbol",c),null!=d&&e.setItemVisual(a,"symbolSize",d)}))})}},function(a,b){a.exports=function(a,b){b.eachSeriesByType(a,function(a){var b=a.getData(),c=a.coordinateSystem;if(c){var d=c.dimensions;"singleAxis"===c.type?b.each(d[0],function(a,d){b.setItemLayout(d,isNaN(a)?[NaN,NaN]:c.dataToPoint(a))}):b.each(d,function(a,d,e){b.setItemLayout(e,isNaN(a)||isNaN(d)?[NaN,NaN]:c.dataToPoint([a,d]))},!0)}})}},function(a,b){var c={average:function(a){for(var b=0,c=0,d=0;d<a.length;d++)isNaN(a[d])||(b+=a[d],c++);return 0===c?NaN:b/c},sum:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c]||0;return b},max:function(a){for(var b=-(1/0),c=0;c<a.length;c++)a[c]>b&&(b=a[c]);return b},min:function(a){for(var b=1/0,c=0;c<a.length;c++)a[c]<b&&(b=a[c]);return b},nearest:function(a){return a[0]}},d=function(a,b){return Math.round(a.length/2)};a.exports=function(a,b,e){b.eachSeriesByType(a,function(a){var b=a.getData(),e=a.get("sampling"),f=a.coordinateSystem;if("cartesian2d"===f.type&&e){var g=f.getBaseAxis(),h=f.getOtherAxis(g),i=g.getExtent(),j=i[1]-i[0],k=Math.round(b.count()/j);if(k>1){var l;"string"==typeof e?l=c[e]:"function"==typeof e&&(l=e),l&&(b=b.downSample(h.dim,1/k,l,d),a.setData(b))}}},this)}},function(a,b,c){var d=c(43),e=c(4),f=c(1);c(114),c(131),f.extendComponentView({type:"grid",render:function(a,b){this.group.removeAll(),a.get("show")&&this.group.add(new d.Rect({shape:a.coordinateSystem.getRect(),style:e.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),f.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})})},function(a,b,c){function d(a,b,c){return a.getCoordSysModel()===b}function e(a){var b,c=a.model,d=c.getFormattedLabels(),e=c.getModel("axisLabel.textStyle"),f=1,g=d.length;g>40&&(f=Math.ceil(g/40));for(var h=0;g>h;h+=f)if(!a.isLabelIgnored(h)){var i=e.getTextRect(d[h]);b?b.union(i):b=i}return b}function f(a,b,c){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(a,b,c),this._model=a}function g(a,b){var c=a.getExtent(),d=c[0]+c[1];a.toGlobalCoord="x"===a.dim?function(a){return a+b}:function(a){return d-a+b},a.toLocalCoord="x"===a.dim?function(a){return a-b}:function(a){return d-a+b}}function h(a,b){return l.map(s,function(b){var c=a.getReferringComponents(b)[0];if(!c)throw new Error(b+' "'+l.retrieve(a.get(b+"Index"),a.get(b+"Id"),0)+'" not found');return c})}function i(a){return"cartesian2d"===a.get("coordinateSystem")}var j=c(21),k=c(115),l=c(4),m=c(121),n=c(123),o=l.each,p=k.ifAxisCrossZero,q=k.niceScaleExtent;c(126);var r=f.prototype;r.type="grid",r.getRect=function(){return this._rect},r.update=function(a,b){function c(a){var b=d[a];for(var c in b)if(b.hasOwnProperty(c)){var e=b[c];if(e&&("category"===e.type||!p(e)))return!0}return!1}var d=this._axesMap;this._updateScale(a,this._model),o(d.x,function(a){q(a,a.model)}),o(d.y,function(a){q(a,a.model)}),o(d.x,function(a){c("y")&&(a.onZero=!1)}),o(d.y,function(a){c("x")&&(a.onZero=!1)}),this.resize(this._model,b)},r.resize=function(a,b){function c(){o(f,function(a){var b=a.isHorizontal(),c=b?[0,d.width]:[0,d.height],e=a.inverse?1:0;a.setExtent(c[e],c[1-e]),g(a,b?d.x:d.y)})}var d=j.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._rect=d;var f=this._axesList;c(),a.get("containLabel")&&(o(f,function(a){if(!a.model.get("axisLabel.inside")){var b=e(a);if(b){var c=a.isHorizontal()?"height":"width",f=a.model.get("axisLabel.margin");d[c]-=b[c]+f,"top"===a.position?d.y+=b.height+f:"left"===a.position&&(d.x+=b.width+f)}}}),c())},r.getAxis=function(a,b){var c=this._axesMap[a];if(null!=c){if(null==b)for(var d in c)if(c.hasOwnProperty(d))return c[d];return c[b]}},r.getCartesian=function(a,b){if(null!=a&&null!=b){var c="x"+a+"y"+b;return this._coordsMap[c]}for(var d=0,e=this._coordsList;d<e.length;d++)if(e[d].getAxis("x").index===a||e[d].getAxis("y").index===b)return e[d]},r.convertToPixel=function(a,b,c){var d=this._findConvertTarget(a,b);return d.cartesian?d.cartesian.dataToPoint(c):d.axis?d.axis.toGlobalCoord(d.axis.dataToCoord(c)):null},r.convertFromPixel=function(a,b,c){var d=this._findConvertTarget(a,b);return d.cartesian?d.cartesian.pointToData(c):d.axis?d.axis.coordToData(d.axis.toLocalCoord(c)):null},r._findConvertTarget=function(a,b){var c,d,e=b.seriesModel,f=b.xAxisModel||e&&e.getReferringComponents("xAxis")[0],g=b.yAxisModel||e&&e.getReferringComponents("yAxis")[0],h=b.gridModel,i=this._coordsList;if(e)c=e.coordinateSystem,l.indexOf(i,c)<0&&(c=null);else if(f&&g)c=this.getCartesian(f.componentIndex,g.componentIndex);else if(f)d=this.getAxis("x",f.componentIndex);else if(g)d=this.getAxis("y",g.componentIndex);else if(h){var j=h.coordinateSystem;j===this&&(c=this._coordsList[0])}return{cartesian:c,axis:d}},r.containPoint=function(a){var b=this._coordsList[0];return b?b.containPoint(a):void 0},r._initCartesian=function(a,b,c){function e(c){return function(e,i){if(d(e,a,b)){var j=e.get("position");"x"===c?"top"!==j&&"bottom"!==j&&(j="bottom",f[j]&&(j="top"===j?"bottom":"top")):"left"!==j&&"right"!==j&&(j="left",f[j]&&(j="left"===j?"right":"left")),f[j]=!0;var l=new n(c,k.createScaleByModel(e),[0,0],e.get("type"),j),m="category"===l.type;l.onBand=m&&e.get("boundaryGap"),l.inverse=e.get("inverse"),l.onZero=e.get("axisLine.onZero"),e.axis=l,l.model=e,l.grid=this,l.index=i,this._axesList.push(l),g[c][i]=l,h[c]++}}}var f={left:!1,right:!1,top:!1,bottom:!1},g={x:{},y:{}},h={x:0,y:0};return b.eachComponent("xAxis",e("x"),this),b.eachComponent("yAxis",e("y"),this),h.x&&h.y?(this._axesMap=g,void o(g.x,function(a,b){o(g.y,function(c,d){var e="x"+b+"y"+d,f=new m(e);f.grid=this,this._coordsMap[e]=f,this._coordsList.push(f),f.addAxis(a),f.addAxis(c)},this)},this)):(this._axesMap={},void(this._axesList=[]))},r._updateScale=function(a,b){function c(a,b,c){o(c.coordDimToDataDim(b.dim),function(c){b.scale.unionExtentFromData(a,c)})}l.each(this._axesList,function(a){a.scale.setExtent(1/0,-(1/0))}),a.eachSeries(function(e){if(i(e)){var f=h(e,a),g=f[0],j=f[1];if(!d(g,b,a)||!d(j,b,a))return;var k=this.getCartesian(g.componentIndex,j.componentIndex),l=e.getData(),m=k.getAxis("x"),n=k.getAxis("y");"list"===l.type&&(c(l,m,e),c(l,n,e))}},this)};var s=["xAxis","yAxis"];f.create=function(a,b){var c=[];return a.eachComponent("grid",function(d,e){var g=new f(d,a,b);g.name="grid_"+e,g.resize(d,b),d.coordinateSystem=g,c.push(g)}),a.eachSeries(function(b){if(i(b)){var c=h(b,a),d=c[0],e=c[1],f=d.getCoordSysModel();if(!f)throw new Error('Grid "'+l.retrieve(d.get("gridIndex"),d.get("gridId"),0)+'" not found');if(d.getCoordSysModel()!==e.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid");var g=f.coordinateSystem;b.coordinateSystem=g.getCartesian(d.componentIndex,e.componentIndex)}}),c},f.dimensions=m.prototype.dimensions,c(26).register("cartesian2d",f),a.exports=f},function(a,b,c){var d=c(116),e=c(118);c(119),c(120);var f=c(117),g=c(7),h=c(4),i=c(8),j={};j.getScaleExtent=function(a,b){var c,d,e,f=a.scale,i=f.type,j=b.getMin(),k=b.getMax(),l=null!=j,m=null!=k,n=f.getExtent();return"ordinal"===i?c=(b.get("data")||[]).length:(d=b.get("boundaryGap"),h.isArray(d)||(d=[d||0,d||0]),d[0]=g.parsePercent(d[0],1),d[1]=g.parsePercent(d[1],1),e=n[1]-n[0]),null==j&&(j="ordinal"===i?c?0:NaN:n[0]-d[0]*e),null==k&&(k="ordinal"===i?c?c-1:NaN:n[1]+d[1]*e),"dataMin"===j&&(j=n[0]),"dataMax"===k&&(k=n[1]),(null==j||!isFinite(j))&&(j=NaN),(null==k||!isFinite(k))&&(k=NaN),a.setBlank(h.eqNaN(j)||h.eqNaN(k)),b.getNeedCrossZero()&&(j>0&&k>0&&!l&&(j=0),0>j&&0>k&&!m&&(k=0)),[j,k]},j.niceScaleExtent=function(a,b){var c=a.scale,d=j.getScaleExtent(a,b),e=null!=b.getMin(),f=null!=b.getMax(),g=b.get("splitNumber");"log"===c.type&&(c.base=b.get("logBase")),c.setExtent(d[0],d[1]),c.niceExtent(g,e,f);var h=b.get("minInterval");if(isFinite(h)&&!e&&!f&&"interval"===c.type){var i=c.getInterval(),k=Math.max(Math.abs(i),h)/i;d=c.getExtent();var l=(d[1]+d[0])/2;c.setExtent(k*(d[0]-l)+l,k*(d[1]-l)+l),c.niceExtent(g)}var i=b.get("interval");null!=i&&c.setInterval&&c.setInterval(i)},j.createScaleByModel=function(a,b){if(b=b||a.get("type"))switch(b){case"category":return new d(a.getCategories(),[1/0,-(1/0)]);case"value":return new e;default:return(f.getClass(b)||e).create(a)}},j.ifAxisCrossZero=function(a){var b=a.scale.getExtent(),c=b[0],d=b[1];return!(c>0&&d>0||0>c&&0>d)},j.getAxisLabelInterval=function(a,b,c,d){var e,f=0,g=0,h=1;b.length>40&&(h=Math.floor(b.length/40));for(var j=0;j<a.length;j+=h){var k=a[j],l=i.getBoundingRect(b[j],c,"center","top");l[d?"x":"y"]+=k,l[d?"width":"height"]*=1.3,e?e.intersect(l)?(g++,f=Math.max(f,g)):(e.union(l),g=0):e=l.clone()}return 0===f&&h>1?h:(f+1)*h-1},j.getFormattedLabels=function(a,b){var c=a.scale,d=c.getTicksLabels(),e=c.getTicks();return"string"==typeof b?(b=function(a){return function(b){return a.replace("{value}",null!=b?b:"")}}(b),h.map(d,b)):"function"==typeof b?h.map(e,function(d,e){return b("category"===a.type?c.getLabel(d):d,e)},this):d},a.exports=j},function(a,b,c){var d=c(4),e=c(117),f=e.prototype,g=e.extend({type:"ordinal",init:function(a,b){this._data=a,this._extent=b||[0,a.length-1]},parse:function(a){return"string"==typeof a?d.indexOf(this._data,a):Math.round(a)},contain:function(a){return a=this.parse(a),f.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return f.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(f.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];)a.push(c),c++;return a},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,b){this.unionExtent(a.getDataExtent(b,!1))},niceTicks:d.noop,niceExtent:d.noop});g.create=function(){return new g},a.exports=g},function(a,b,c){function d(){this._extent=[1/0,-(1/0)],this._interval=0,this.init&&this.init.apply(this,arguments)}var e=c(13),f=d.prototype;f.parse=function(a){return a},f.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]},f.normalize=function(a){var b=this._extent;return b[1]===b[0]?.5:(a-b[0])/(b[1]-b[0])},f.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]},f.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1])},f.unionExtentFromData=function(a,b){this.unionExtent(a.getDataExtent(b,!0))},f.getExtent=function(){return this._extent.slice()},f.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a),isNaN(b)||(c[1]=b)},f.getTicksLabels=function(){for(var a=[],b=this.getTicks(),c=0;c<b.length;c++)a.push(this.getLabel(b[c]));return a},e.enableClassExtend(d),e.enableClassManagement(d,{registerWhenExtend:!0}),a.exports=d},function(a,b,c){var d=c(7),e=c(6),f=c(117),g=Math.floor,h=Math.ceil,i=d.getPrecisionSafe,j=d.round,k=f.extend({type:"interval",_interval:0,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a)),isNaN(b)||(c[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1]),k.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(a){this._interval=a,this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var a=this._interval,b=this._extent,c=[],d=1e4;if(a){var e=this._niceExtent,f=i(a)+2;b[0]<e[0]&&c.push(b[0]);for(var g=e[0];g<=e[1];)if(c.push(g),g=j(g+a,f),c.length>d)return[];b[1]>(c.length?c[c.length-1]:e[1])&&c.push(b[1])}return c},getTicksLabels:function(){for(var a=[],b=this.getTicks(),c=0;c<b.length;c++)a.push(this.getLabel(b[c]));return a},getLabel:function(a){return e.addCommas(a)},niceTicks:function(a){a=a||5;var b=this._extent,c=b[1]-b[0];if(isFinite(c)){0>c&&(c=-c,b.reverse());var e=j(d.nice(c/a,!0),Math.max(i(b[0]),i(b[1]))+2),f=i(e)+2,k=[j(h(b[0]/e)*e,f),j(g(b[1]/e)*e,f)];this._interval=e,this._niceExtent=k}},niceExtent:function(a,b,c){var d=this._extent;if(d[0]===d[1])if(0!==d[0]){var e=d[0];c?d[0]-=e/2:(d[1]+=e/2,d[0]-=e/2)}else d[1]=1;var f=d[1]-d[0];isFinite(f)||(d[0]=0,d[1]=1),this.niceTicks(a);var i=this._interval;b||(d[0]=j(g(d[0]/i)*i)),c||(d[1]=j(h(d[1]/i)*i))}});k.create=function(){return new k},a.exports=k},function(a,b,c){var d=c(4),e=c(7),f=c(6),g=c(118),h=g.prototype,i=Math.ceil,j=Math.floor,k=1e3,l=60*k,m=60*l,n=24*m,o=function(a,b,c,d){for(;d>c;){var e=c+d>>>1;a[e][2]<b?c=e+1:d=e}return c},p=g.extend({type:"time",getLabel:function(a){var b=this._stepLvl,c=new Date(a);return f.formatTime(b[0],c)},niceExtent:function(a,b,c){var d=this._extent;if(d[0]===d[1]&&(d[0]-=n,d[1]+=n),d[1]===-(1/0)&&d[0]===1/0){var f=new Date;d[1]=new Date(f.getFullYear(),f.getMonth(),f.getDate()),d[0]=d[1]-n}this.niceTicks(a);var g=this._interval;b||(d[0]=e.round(j(d[0]/g)*g)),c||(d[1]=e.round(i(d[1]/g)*g))},niceTicks:function(a){a=a||10;var b=this._extent,c=b[1]-b[0],d=c/a,f=q.length,g=o(q,d,0,f),h=q[Math.min(g,f-1)],k=h[2];if("year"===h[0]){var l=c/k,m=e.nice(l/a,!0);k*=m}var n=[i(b[0]/k)*k,j(b[1]/k)*k];this._stepLvl=h,this._interval=k,this._niceExtent=n},parse:function(a){return+e.parseDate(a)}});d.each(["contain","normalize"],function(a){p.prototype[a]=function(b){return h[a].call(this,this.parse(b))}});var q=[["hh:mm:ss",1,k],["hh:mm:ss",5,5*k],["hh:mm:ss",10,10*k],["hh:mm:ss",15,15*k],["hh:mm:ss",30,30*k],["hh:mm\nMM-dd",1,l],["hh:mm\nMM-dd",5,5*l],["hh:mm\nMM-dd",10,10*l],["hh:mm\nMM-dd",15,15*l],["hh:mm\nMM-dd",30,30*l],["hh:mm\nMM-dd",1,m],["hh:mm\nMM-dd",2,2*m],["hh:mm\nMM-dd",6,6*m],["hh:mm\nMM-dd",12,12*m],["MM-dd\nyyyy",1,n],["week",7,7*n],["month",1,31*n],["quarter",3,380*n/4],["half-year",6,380*n/2],["year",1,380*n]];p.create=function(){return new p},a.exports=p},function(a,b,c){function d(a,b){return l(a,k(b))}var e=c(4),f=c(117),g=c(7),h=c(118),i=f.prototype,j=h.prototype,k=g.getPrecisionSafe,l=g.round,m=Math.floor,n=Math.ceil,o=Math.pow,p=Math.log,q=f.extend({type:"log",base:10,$constructor:function(){f.apply(this,arguments),this._originalScale=new h},getTicks:function(){var a=this._originalScale,b=this._extent,c=a.getExtent();return e.map(j.getTicks.call(this),function(e){var f=g.round(o(this.base,e));return f=e===b[0]&&a.__fixMin?d(f,c[0]):f,f=e===b[1]&&a.__fixMax?d(f,c[1]):f},this)},getLabel:j.getLabel,scale:function(a){return a=i.scale.call(this,a),o(this.base,a)},setExtent:function(a,b){var c=this.base;a=p(a)/p(c),b=p(b)/p(c),j.setExtent.call(this,a,b)},getExtent:function(){var a=this.base,b=i.getExtent.call(this);b[0]=o(a,b[0]),b[1]=o(a,b[1]);var c=this._originalScale,e=c.getExtent();return c.__fixMin&&(b[0]=d(b[0],e[0])),c.__fixMax&&(b[1]=d(b[1],e[1])),b},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=p(a[0])/p(b),a[1]=p(a[1])/p(b),i.unionExtent.call(this,a)},unionExtentFromData:function(a,b){this.unionExtent(a.getDataExtent(b,!0,function(a){return a>0}))},niceTicks:function(a){a=a||10;var b=this._extent,c=b[1]-b[0];if(!(c===1/0||0>=c)){var d=g.quantity(c),e=a/c*d;for(.5>=e&&(d*=10);!isNaN(d)&&Math.abs(d)<1&&Math.abs(d)>0;)d*=10;var f=[g.round(n(b[0]/d)*d),g.round(m(b[1]/d)*d)];this._interval=d,this._niceExtent=f}},niceExtent:function(a,b,c){j.niceExtent.call(this,a,b,c);var d=this._originalScale;d.__fixMin=b,d.__fixMax=c}});e.each(["contain","normalize"],function(a){q.prototype[a]=function(b){return b=p(b)/p(this.base),i[a].call(this,b)}}),q.create=function(){return new q},a.exports=q},function(a,b,c){function d(a){f.call(this,a)}var e=c(4),f=c(122);d.prototype={constructor:d,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoints:function(a,b){return a.mapArray(["x","y"],function(a,b){return this.dataToPoint([a,b])},b,this)},dataToPoint:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return[c.toGlobalCoord(c.dataToCoord(a[0],b)),d.toGlobalCoord(d.dataToCoord(a[1],b))]},pointToData:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return[c.coordToData(c.toLocalCoord(a[0]),b),d.coordToData(d.toLocalCoord(a[1]),b)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}},e.inherits(d,f),a.exports=d},function(a,b,c){function d(a){return this._axes[a]}var e=c(4),f=function(a){this._axes={},this._dimList=[],this.name=a||""};f.prototype={constructor:f,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return e.map(this._dimList,d,this)},getAxesByScale:function(a){return a=a.toLowerCase(),e.filter(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a,this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,b){for(var c=this._dimList,d=a instanceof Array?[]:{},e=0;e<c.length;e++){var f=c[e],g=this._axes[f];d[f]=g[b](a[f])}return d}},a.exports=f},function(a,b,c){var d=c(4),e=c(124),f=c(125),g=function(a,b,c,d,f){e.call(this,a,b,c),this.type=d||"value",this.position=f||"bottom"};g.prototype={constructor:g,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),a},getLabelInterval:function(){var a=this._labelInterval;return a||(a=this._labelInterval=f(this)),a},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}},toLocalCoord:null,toGlobalCoord:null},d.inherits(g,e),a.exports=g},function(a,b,c){function d(a,b){var c=a[1]-a[0],d=b,e=c/d/2;a[0]+=e,a[1]-=e}var e=c(7),f=e.linearMap,g=c(4),h=[0,1],i=function(a,b,c){this.dim=a,this.scale=b,this._extent=c||[0,0],this.inverse=!1,this.onBand=!1};i.prototype={constructor:i,contain:function(a){var b=this._extent,c=Math.min(b[0],b[1]),d=Math.max(b[0],b[1]);return a>=c&&d>=a},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){var a=this._extent.slice();return a},getPixelPrecision:function(a){return e.getPixelPrecision(a||this.scale.getExtent(),this._extent)},setExtent:function(a,b){var c=this._extent;c[0]=a,c[1]=b},dataToCoord:function(a,b){var c=this._extent,e=this.scale;return a=e.normalize(a),this.onBand&&"ordinal"===e.type&&(c=c.slice(),d(c,e.count())),f(a,h,c,b)},coordToData:function(a,b){var c=this._extent,e=this.scale;this.onBand&&"ordinal"===e.type&&(c=c.slice(),d(c,e.count()));var g=f(a,c,h,b);return this.scale.scale(g)},getTicksCoords:function(a){if(this.onBand&&!a){for(var b=this.getBands(),c=[],d=0;d<b.length;d++)c.push(b[d][0]);return b[d-1]&&c.push(b[d-1][1]),c}return g.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return g.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var a=this.getExtent(),b=[],c=this.scale.count(),d=a[0],e=a[1],f=e-d,g=0;c>g;g++)b.push([f*g/c+d,f*(g+1)/c+d]);return b},getBandWidth:function(){var a=this._extent,b=this.scale.getExtent(),c=b[1]-b[0]+(this.onBand?1:0);0===c&&(c=1);var d=Math.abs(a[1]-a[0]);return Math.abs(d)/c},isBlank:function(){return this._isBlank},setBlank:function(a){this._isBlank=a}},a.exports=i},function(a,b,c){var d=c(4),e=c(115);a.exports=function(a){var b=a.model,c=b.getModel("axisLabel"),f=c.get("interval");return"category"!==a.type||"auto"!==f?"auto"===f?0:f:e.getAxisLabelInterval(d.map(a.scale.getTicks(),a.dataToCoord,a),b.getFormattedLabels(),c.getModel("textStyle").getFont(),a.isHorizontal())}},function(a,b,c){c(127);var d=c(19);a.exports=d.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(a,b,c){function d(a,b){return b.type||(b.data?"category":"value")}var e=c(19),f=c(4),g=c(128),h=e.extend({type:"cartesian2dAxis",axis:null,init:function(){h.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){h.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){h.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});f.merge(h.prototype,c(130));var i={offset:0};g("x",h,d,i),g("y",h,d,i),a.exports=h},function(a,b,c){var d=c(129),e=c(4),f=c(19),g=c(21),h=["value","category","time","log"];a.exports=function(a,b,c,i){e.each(h,function(f){b.extend({type:a+"Axis."+f,mergeDefaultAndTheme:function(b,d){var h=this.layoutMode,i=h?g.getLayoutParams(b):{},j=d.getTheme();e.merge(b,j.get(f+"Axis")),e.merge(b,this.getDefaultOption()),b.type=c(a,b),h&&g.mergeLayoutParam(b,i,h)},defaultOption:e.mergeAll([{},d[f+"Axis"],i],!0)})}),f.registerSubTypeDefaulter(a+"Axis",e.curry(c,a))}},function(a,b,c){var d=c(4),e={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},f=d.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},e),g=d.merge({boundaryGap:[0,0],splitNumber:5},e),h=d.defaults({scale:!0,min:"dataMin",max:"dataMax"},g),i=d.defaults({logBase:10},g);i.scale=!0,a.exports={categoryAxis:f,valueAxis:g,timeAxis:h,logAxis:i}},function(a,b,c){function d(a){return e.isObject(a)&&null!=a.value?a.value:a}var e=c(4),f=c(115);a.exports={getFormattedLabels:function(){return f.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&e.map(this.get("data"),d)},getMin:function(a){var b=this.option,c=a||null==b.rangeStart?b.min:b.rangeStart;return null==c||"dataMin"===c||e.eqNaN(c)||(c=this.axis.scale.parse(c)),c},getMax:function(a){var b=this.option,c=a||null==b.rangeEnd?b.max:b.rangeEnd;return null==c||"dataMax"===c||e.eqNaN(c)||(c=this.axis.scale.parse(c)),c},getNeedCrossZero:function(){var a=this.option;return null!=a.rangeStart||null!=a.rangeEnd?!1:!a.scale},getCoordSysModel:e.noop,setRange:function(a,b){this.option.rangeStart=a,this.option.rangeEnd=b},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}},function(a,b,c){c(127),c(132)},function(a,b,c){function d(a,b){function c(a,b){var c=d.getAxis(a);return c.toGlobalCoord(c.dataToCoord(0))}var d=a.coordinateSystem,e=b.axis,f={},g=e.position,h=e.onZero?"onZero":g,i=e.dim,j=d.getRect(),k=[j.x,j.x+j.width,j.y,j.y+j.height],l=b.get("offset")||0,m={x:{top:k[2]-l,bottom:k[3]+l},y:{left:k[0]-l,right:k[1]+l}};m.x.onZero=Math.max(Math.min(c("y"),m.x.bottom),m.x.top),m.y.onZero=Math.max(Math.min(c("x"),m.y.right),m.y.left),f.position=["y"===i?m.y[h]:k[0],"x"===i?m.x[h]:k[3]],f.rotation=Math.PI/2*("x"===i?0:1);var n={top:-1,bottom:1,left:-1,right:1};f.labelDirection=f.tickDirection=f.nameDirection=n[g],e.onZero&&(f.labelOffset=m[i][g]-m[i].onZero),b.getModel("axisTick").get("inside")&&(f.tickDirection=-f.tickDirection),b.getModel("axisLabel").get("inside")&&(f.labelDirection=-f.labelDirection);var o=b.getModel("axisLabel").get("rotate");return f.labelRotation="top"===h?-o:o,f.labelInterval=e.getLabelInterval(),f.z2=1,f}var e=c(4),f=c(43),g=c(133),h=g.ifIgnoreOnTick,i=g.getInterval,j=["axisLine","axisLabel","axisTick","axisName"],k=["splitArea","splitLine"],l=c(1).extendComponentView({type:"axis",render:function(a,b){this.group.removeAll();var c=this._axisGroup;if(this._axisGroup=new f.Group,this.group.add(this._axisGroup),a.get("show")){var h=a.getCoordSysModel(),i=d(h,a),l=new g(a,i);e.each(j,l.add,l),this._axisGroup.add(l.getGroup()),e.each(k,function(b){a.get(b+".show")&&this["_"+b](a,h,i.labelInterval)},this),f.groupTransition(c,this._axisGroup,a)}},_splitLine:function(a,b,c){var d=a.axis;if(!d.isBlank()){var g=a.getModel("splitLine"),j=g.getModel("lineStyle"),k=j.get("color"),l=i(g,c);k=e.isArray(k)?k:[k];for(var m=b.coordinateSystem.getRect(),n=d.isHorizontal(),o=0,p=d.getTicksCoords(),q=d.scale.getTicks(),r=[],s=[],t=j.getLineStyle(),u=0;u<p.length;u++)if(!h(d,u,l)){var v=d.toGlobalCoord(p[u]);n?(r[0]=v,r[1]=m.y,s[0]=v,s[1]=m.y+m.height):(r[0]=m.x,r[1]=v,s[0]=m.x+m.width,s[1]=v);var w=o++%k.length;this._axisGroup.add(new f.Line(f.subPixelOptimizeLine({anid:"line_"+q[u],shape:{x1:r[0],y1:r[1],x2:s[0],y2:s[1]},style:e.defaults({stroke:k[w]},t),silent:!0})))}}},_splitArea:function(a,b,c){var d=a.axis;if(!d.isBlank()){var g=a.getModel("splitArea"),j=g.getModel("areaStyle"),k=j.get("color"),l=b.coordinateSystem.getRect(),m=d.getTicksCoords(),n=d.scale.getTicks(),o=d.toGlobalCoord(m[0]),p=d.toGlobalCoord(m[0]),q=0,r=i(g,c),s=j.getAreaStyle();k=e.isArray(k)?k:[k];for(var t=1;t<m.length;t++)if(!h(d,t,r)){var u,v,w,x,y=d.toGlobalCoord(m[t]);d.isHorizontal()?(u=o,v=l.y,w=y-u,x=l.height):(u=l.x,v=p,w=l.width,x=y-v);var z=q++%k.length;this._axisGroup.add(new f.Rect({anid:"area_"+n[t],shape:{x:u,y:v,width:w,height:x},style:e.defaults({fill:k[z]},s),silent:!0})),o=u+w,p=v+x}}}});l.extend({type:"xAxis"}),l.extend({type:"yAxis"})},function(a,b,c){function d(a){var b={componentType:a.mainType};return b[a.mainType+"Index"]=a.componentIndex,b}function e(a,b,c){var d,e,f=m(b-a.rotation);return n(f)?(e=c>0?"top":"bottom",d="center"):n(f-r)?(e=c>0?"bottom":"top",d="center"):(e="middle",d=f>0&&r>f?c>0?"right":"left":c>0?"left":"right"),{rotation:f,textAlign:d,verticalAlign:e}}function f(a,b,c,d){var e,f,g=m(c-a.rotation),h=d[0]>d[1],i="start"===b&&!h||"start"!==b&&h;return n(g-r/2)?(f=i?"bottom":"top",e="center"):n(g-1.5*r)?(f=i?"top":"bottom",e="center"):(f="middle",e=1.5*r>g&&g>r/2?i?"left":"right":i?"right":"left"),{rotation:g,textAlign:e,verticalAlign:f}}function g(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}var h=c(4),i=c(6),j=c(43),k=c(12),l=c(7),m=l.remRadian,n=l.isRadianAroundZero,o=c(10),p=o.applyTransform,q=h.retrieve,r=Math.PI,s=function(a,b){this.opt=b,this.axisModel=a,h.defaults(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new j.Group;var c=new j.Group({position:b.position.slice(),rotation:b.rotation});c.updateTransform(),this._transform=c.transform,this._dumbGroup=c};s.prototype={constructor:s,hasBuilder:function(a){return!!t[a]},add:function(a){t[a].call(this)},getGroup:function(){return this.group}};var t={axisLine:function(){var a=this.opt,b=this.axisModel;if(b.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),d=this._transform,e=[c[0],0],f=[c[1],0];d&&(p(e,e,d),p(f,f,d)),this.group.add(new j.Line(j.subPixelOptimizeLine({anid:"line",shape:{x1:e[0],y1:e[1],x2:f[0],y2:f[1]},style:h.extend({lineCap:"round"},b.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var a=this.axisModel,b=a.axis;if(a.get("axisTick.show")&&!b.isBlank())for(var c=a.getModel("axisTick"),d=this.opt,e=c.getModel("lineStyle"),f=c.get("length"),g=v(c,d.labelInterval),i=b.getTicksCoords(c.get("alignWithLabel")),k=b.scale.getTicks(),l=[],m=[],n=this._transform,o=0;o<i.length;o++)if(!u(b,o,g)){var q=i[o];l[0]=q,l[1]=0,m[0]=q,m[1]=d.tickDirection*f,n&&(p(l,l,n),p(m,m,n)),this.group.add(new j.Line(j.subPixelOptimizeLine({anid:"tick_"+k[o],shape:{x1:l[0],y1:l[1],x2:m[0],y2:m[1]},style:h.defaults(e.getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){function a(a,b){var c=a&&a.getBoundingRect().clone(),d=b&&b.getBoundingRect().clone();return c&&d?(c.applyTransform(a.getLocalTransform()),d.applyTransform(b.getLocalTransform()),c.intersect(d)):void 0}var b=this.opt,c=this.axisModel,f=c.axis,i=q(b.axisLabelShow,c.get("axisLabel.show"));if(i&&!f.isBlank()){var l=c.getModel("axisLabel"),m=l.getModel("textStyle"),n=l.get("margin"),o=f.scale.getTicks(),p=c.getFormattedLabels(),s=q(b.labelRotation,l.get("rotate"))||0;s=s*r/180;var t=e(b,s,b.labelDirection),v=c.get("data"),w=[],x=g(c),y=c.get("triggerEvent");if(h.each(o,function(a,e){if(!u(f,e,b.labelInterval)){var g=m;v&&v[a]&&v[a].textStyle&&(g=new k(v[a].textStyle,m,c.ecModel));var h=g.getTextColor()||c.get("axisLine.lineStyle.color"),i=f.dataToCoord(a),l=[i,b.labelOffset+b.labelDirection*n],o=f.scale.getLabel(a),q=new j.Text({anid:"label_"+a,style:{text:p[e],textAlign:g.get("align",!0)||t.textAlign,textVerticalAlign:g.get("baseline",!0)||t.verticalAlign,textFont:g.getFont(),fill:"function"==typeof h?h(o):h},position:l,rotation:t.rotation,silent:x,z2:10});y&&(q.eventData=d(c),q.eventData.targetType="axisLabel",q.eventData.value=o),this._dumbGroup.add(q),q.updateTransform(),w.push(q),this.group.add(q),q.decomposeTransform()}},this),null!=c.getMin()){var z=w[0],A=w[1];a(z,A)&&(z.ignore=!0)}if(null!=c.getMax()){var B=w[w.length-1],C=w[w.length-2];a(C,B)&&(B.ignore=!0)}}},axisName:function(){var a=this.opt,b=this.axisModel,c=q(a.axisName,b.get("name"));if(c){var k,l=b.get("nameLocation"),m=a.nameDirection,n=b.getModel("nameTextStyle"),o=b.get("nameGap")||0,p=this.axisModel.axis.getExtent(),s=p[0]>p[1]?-1:1,t=["start"===l?p[0]-s*o:"end"===l?p[1]+s*o:(p[0]+p[1])/2,"middle"===l?a.labelOffset+m*o:0],u=b.get("nameRotate");null!=u&&(u=u*r/180);var v;"middle"===l?k=e(a,null!=u?u:a.rotation,m):(k=f(a,l,u||0,p),v=a.axisNameAvailableWidth,null!=v&&(v=Math.abs(v/Math.sin(k.rotation)),!isFinite(v)&&(v=null)));var w=n.getFont(),x=b.get("nameTruncate",!0)||{},y=x.ellipsis,z=q(x.maxWidth,v),A=null!=y&&null!=z?i.truncateText(c,z,w,y,{minChar:2,placeholder:x.placeholder}):c,B=b.get("tooltip",!0),C=b.mainType,D={componentType:C,name:c,$vars:["name"]};D[C+"Index"]=b.componentIndex;var E=new j.Text({anid:"name",__fullText:c,__truncatedText:A,style:{text:A,textFont:w,fill:n.getTextColor()||b.get("axisLine.lineStyle.color"),textAlign:k.textAlign,textVerticalAlign:k.verticalAlign},position:t,rotation:k.rotation,silent:g(b),z2:1,tooltip:B&&B.show?h.extend({content:c,
formatter:function(){return c},formatterParams:D},B):null});b.get("triggerEvent")&&(E.eventData=d(b),E.eventData.targetType="axisName",E.eventData.name=c),this._dumbGroup.add(E),E.updateTransform(),this.group.add(E),E.decomposeTransform()}}},u=s.ifIgnoreOnTick=function(a,b,c){var d,e=a.scale;return"ordinal"===e.type&&("function"==typeof c?(d=e.getTicks()[b],!c(d,e.getLabel(d))):b%(c+1))},v=s.getInterval=function(a,b){var c=a.get("interval");return(null==c||"auto"==c)&&(c=b),c};a.exports=s},function(a,b,c){var d=c(4);c(114),c(135),c(137);var e=c(140),f=c(1);f.registerLayout(d.curry(e,"bar")),f.registerVisual(function(a){a.eachSeriesByType("bar",function(a){var b=a.getData();b.setVisual("legendSymbol","roundRect")})}),c(113)},function(a,b,c){a.exports=c(136).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"})},function(a,b,c){var d=c(28),e=c(102);a.exports=d.extend({type:"series.__base_bar__",getInitialData:function(a,b){var c=a.coordinateSystem;if("cartesian2d"!==c)throw new Error("Bar only support cartesian2d coordinateSystem");return e(a.data,this,b)},getMarkerPosition:function(a){var b=this.coordinateSystem;if(b){var c=b.dataToPoint(a,!0),d=this.getData(),e=d.getLayout("offset"),f=d.getLayout("size"),g=b.getBaseAxis().isHorizontal()?0:1;return c[g]+=e+f/2,c}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}})},function(a,b,c){function d(a,b,c,d,e,f,g){var h=new j.Rect({shape:i.extend({},d)});if(f){var k=h.shape,l=e?"height":"width",m={};k[l]=0,m[l]=d[l],j[g?"updateProps":"initProps"](h,{shape:m},f,b)}return h}function e(a,b,c){c.style.text="",j.updateProps(c,{shape:{width:0}},b,a,function(){c.parent&&c.parent.remove(c)})}function f(a,b,c){var d=a.getItemLayout(b),e=h(c,d),f=d.width>0?1:-1,g=d.height>0?1:-1;return{x:d.x+f*e/2,y:d.y+g*e/2,width:d.width-f*e,height:d.height-g*e}}function g(a,b,c,d,e,f,g){var h=b.getItemVisual(c,"color"),l=b.getItemVisual(c,"opacity"),m=d.getModel("itemStyle.normal"),n=d.getModel("itemStyle.emphasis").getBarItemStyle();a.setShape("r",m.get("barBorderRadius")||0),a.useStyle(i.defaults({fill:h,opacity:l},m.getBarItemStyle()));var o=g?e.height>0?"bottom":"top":e.width>0?"left":"right";k.setLabel(a.style,n,d,h,f,c,o),j.setHoverStyle(a,n)}function h(a,b){var c=a.get(l)||0;return Math.min(c,Math.abs(b.width),Math.abs(b.height))}var i=c(4),j=c(43),k=c(138),l=["itemStyle","normal","barBorderWidth"];i.extend(c(12).prototype,c(139));var m=c(1).extendChartView({type:"bar",render:function(a,b,c){var d=a.get("coordinateSystem");return"cartesian2d"===d&&this._renderOnCartesian(a,b,c),this.group},dispose:i.noop,_renderOnCartesian:function(a,b,c){var h=this.group,i=a.getData(),k=this._data,l=a.coordinateSystem,m=l.getBaseAxis(),n=m.isHorizontal(),o=a.isAnimationEnabled()?a:null;i.diff(k).add(function(b){if(i.hasValue(b)){var c=i.getItemModel(b),e=f(i,b,c),j=d(i,b,c,e,n,o);i.setItemGraphicEl(b,j),h.add(j),g(j,i,b,c,e,a,n)}}).update(function(b,c){var e=k.getItemGraphicEl(c);if(!i.hasValue(b))return void h.remove(e);var l=i.getItemModel(b),m=f(i,b,l);e?j.updateProps(e,{shape:m},o,b):e=d(i,b,l,m,n,o,!0),i.setItemGraphicEl(b,e),h.add(e),g(e,i,b,l,m,a,n)}).remove(function(a){var b=k.getItemGraphicEl(a);b&&e(a,o,b)}).execute(),this._data=i},remove:function(a,b){var c=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(b){e(b.dataIndex,a,b)}):c.removeAll()}});a.exports=m},function(a,b,c){function d(a,b,c,d,e){f.setText(a,b,c),a.text=d,"outside"===a.textPosition&&(a.textPosition=e)}var e=c(4),f=c(43),g={};g.setLabel=function(a,b,c,f,g,h,i){var j=c.getModel("label.normal"),k=c.getModel("label.emphasis");j.get("show")?d(a,j,f,e.retrieve(g.getFormattedLabel(h,"normal"),g.getRawValue(h)),i):a.text="",k.get("show")?d(b,k,f,e.retrieve(g.getFormattedLabel(h,"emphasis"),g.getRawValue(h)),i):b.text=""},a.exports=g},function(a,b,c){var d=c(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);a.exports={getBarItemStyle:function(a){var b=d.call(this,a);if(this.getBorderLineDash){var c=this.getBorderLineDash();c&&(b.lineDash=c)}return b}}},function(a,b,c){function d(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function e(a){return a.dim+a.index}function f(a,b){var c={};h.each(a,function(a,b){var f=a.getData(),g=a.coordinateSystem,h=g.getBaseAxis(),i=h.getExtent(),k="category"===h.type?h.getBandWidth():Math.abs(i[1]-i[0])/f.count(),l=c[e(h)]||{bandWidth:k,remainedWidth:k,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},m=l.stacks;c[e(h)]=l;var n=d(a);m[n]||l.autoWidthCount++,m[n]=m[n]||{width:0,maxWidth:0};var o=j(a.get("barWidth"),k),p=j(a.get("barMaxWidth"),k),q=a.get("barGap"),r=a.get("barCategoryGap");o&&!m[n].width&&(o=Math.min(l.remainedWidth,o),m[n].width=o,l.remainedWidth-=o),p&&(m[n].maxWidth=p),null!=q&&(l.gap=q),null!=r&&(l.categoryGap=r)});var f={};return h.each(c,function(a,b){f[b]={};var c=a.stacks,d=a.bandWidth,e=j(a.categoryGap,d),g=j(a.gap,1),i=a.remainedWidth,k=a.autoWidthCount,l=(i-e)/(k+(k-1)*g);l=Math.max(l,0),h.each(c,function(a,b){var c=a.maxWidth;!a.width&&c&&l>c&&(c=Math.min(c,i),i-=c,a.width=c,k--)}),l=(i-e)/(k+(k-1)*g),l=Math.max(l,0);var m,n=0;h.each(c,function(a,b){a.width||(a.width=l),m=a,n+=a.width*(1+g)}),m&&(n-=m.width*g);var o=-n/2;h.each(c,function(a,c){f[b][c]=f[b][c]||{offset:o,width:a.width},o+=a.width*(1+g)})}),f}function g(a,b,c){var g=f(h.filter(b.getSeriesByType(a),function(a){return!b.isSeriesFiltered(a)&&a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type})),i={},j={};b.eachSeriesByType(a,function(a){var b=a.getData(),c=a.coordinateSystem,f=c.getBaseAxis(),h=d(a),k=g[e(f)][h],l=k.offset,m=k.width,n=c.getOtherAxis(f),o=a.get("barMinHeight")||0,p=f.onZero?n.toGlobalCoord(n.dataToCoord(0)):n.getGlobalExtent()[0],q=c.dataToPoints(b,!0);i[h]=i[h]||[],j[h]=j[h]||[],b.setLayout({offset:l,size:m}),b.each(n.dim,function(a,c){if(!isNaN(a)){i[h][c]||(i[h][c]={p:p,n:p},j[h][c]={p:p,n:p});var d,e,f,g,k=a>=0?"p":"n",r=q[c],s=i[h][c][k],t=j[h][c][k];n.isHorizontal()?(d=s,e=r[1]+l,f=r[0]-t,g=m,j[h][c][k]+=f,Math.abs(f)<o&&(f=(0>f?-1:1)*o),i[h][c][k]+=f):(d=r[0]+l,e=s,f=m,g=r[1]-t,j[h][c][k]+=g,Math.abs(g)<o&&(g=(0>=g?-1:1)*o),i[h][c][k]+=g),b.setItemLayout(c,{x:d,y:e,width:f,height:g})}},!0)},this)}var h=c(4),i=c(7),j=i.parsePercent;a.exports=g},function(a,b,c){var d=c(4),e=c(1);c(142),c(144),c(145)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),e.registerVisual(d.curry(c(146),"pie")),e.registerLayout(d.curry(c(147),"pie")),e.registerProcessor(d.curry(c(149),"pie"))},function(a,b,c){var d=c(98),e=c(4),f=c(5),g=c(103),h=c(143),i=c(1).extendSeriesModel({type:"series.pie",init:function(a){i.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(a.data),this._defaultLabelLine(a)},mergeOption:function(a){i.superCall(this,"mergeOption",a),this.updateSelectedMap(this.option.data)},getInitialData:function(a,b){var c=g(["value"],a.data),e=new d(c,this);return e.initData(a.data),e},getDataParams:function(a){var b=this.getData(),c=i.superCall(this,"getDataParams",a),d=b.getSum("value");return c.percent=d?+(b.get("value",a)/d*100).toFixed(2):0,c.$vars.push("percent"),c},_defaultLabelLine:function(a){f.defaultEmphasis(a.labelLine,["show"]);var b=a.labelLine.normal,c=a.labelLine.emphasis;b.show=b.show&&a.label.normal.show,c.show=c.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});e.mixin(i,h),a.exports=i},function(a,b,c){var d=c(4);a.exports={updateSelectedMap:function(a){this._selectTargetMap=d.reduce(a||[],function(a,b){return a[b.name]=b,a},{})},select:function(a){var b=this._selectTargetMap,c=b[a],e=this.get("selectedMode");"single"===e&&d.each(b,function(a){a.selected=!1}),c&&(c.selected=!0)},unSelect:function(a){var b=this._selectTargetMap[a];b&&(b.selected=!1)},toggleSelected:function(a){var b=this._selectTargetMap[a];return null!=b?(this[b.selected?"unSelect":"select"](a),b.selected):void 0},isSelected:function(a){var b=this._selectTargetMap[a];return b&&b.selected}}},function(a,b,c){function d(a,b,c,d){var f=b.getData(),g=this.dataIndex,h=f.getName(g),i=b.get("selectedOffset");d.dispatchAction({type:"pieToggleSelect",from:a,name:h,seriesId:b.id}),f.each(function(a){e(f.getItemGraphicEl(a),f.getItemLayout(a),b.isSelected(f.getName(a)),i,c)})}function e(a,b,c,d,e){var f=(b.startAngle+b.endAngle)/2,g=Math.cos(f),h=Math.sin(f),i=c?d:0,j=[g*i,h*i];e?a.animate().when(200,{position:j}).start("bounceOut"):a.attr("position",j)}function f(a,b){function c(){f.ignore=f.hoverIgnore,g.ignore=g.hoverIgnore}function d(){f.ignore=f.normalIgnore,g.ignore=g.normalIgnore}h.Group.call(this);var e=new h.Sector({z2:2}),f=new h.Polyline,g=new h.Text;this.add(e),this.add(f),this.add(g),this.updateData(a,b,!0),this.on("emphasis",c).on("normal",d).on("mouseover",c).on("mouseout",d)}function g(a,b,c,d,e){var f=d.getModel("textStyle"),g="inside"===e||"inner"===e;return{fill:f.getTextColor()||(g?"#fff":a.getItemVisual(b,"color")),opacity:a.getItemVisual(b,"opacity"),textFont:f.getFont(),text:i.retrieve(a.hostModel.getFormattedLabel(b,c),a.getName(b))}}var h=c(43),i=c(4),j=f.prototype;j.updateData=function(a,b,c){function d(){g.stopAnimation(!0),g.animateTo({shape:{r:l.r+10}},300,"elasticOut")}function f(){g.stopAnimation(!0),g.animateTo({shape:{r:l.r}},300,"elasticOut")}var g=this.childAt(0),j=a.hostModel,k=a.getItemModel(b),l=a.getItemLayout(b),m=i.extend({},l);if(m.label=null,c){g.setShape(m);var n=j.getShallow("animationType");"scale"===n?(g.shape.r=l.r0,h.initProps(g,{shape:{r:l.r}},j,b)):(g.shape.endAngle=l.startAngle,h.updateProps(g,{shape:{endAngle:l.endAngle}},j,b))}else h.updateProps(g,{shape:m},j,b);var o=k.getModel("itemStyle"),p=a.getItemVisual(b,"color");g.useStyle(i.defaults({lineJoin:"bevel",fill:p},o.getModel("normal").getItemStyle())),g.hoverStyle=o.getModel("emphasis").getItemStyle(),e(this,a.getItemLayout(b),k.get("selected"),j.get("selectedOffset"),j.get("animation")),g.off("mouseover").off("mouseout").off("emphasis").off("normal"),k.get("hoverAnimation")&&j.isAnimationEnabled()&&g.on("mouseover",d).on("mouseout",f).on("emphasis",d).on("normal",f),this._updateLabel(a,b),h.setHoverStyle(this)},j._updateLabel=function(a,b){var c=this.childAt(1),d=this.childAt(2),e=a.hostModel,f=a.getItemModel(b),i=a.getItemLayout(b),j=i.label,k=a.getItemVisual(b,"color");h.updateProps(c,{shape:{points:j.linePoints||[[j.x,j.y],[j.x,j.y],[j.x,j.y]]}},e,b),h.updateProps(d,{style:{x:j.x,y:j.y}},e,b),d.attr({style:{textVerticalAlign:j.verticalAlign,textAlign:j.textAlign,textFont:j.font},rotation:j.rotation,origin:[j.x,j.y],z2:10});var l=f.getModel("label.normal"),m=f.getModel("label.emphasis"),n=f.getModel("labelLine.normal"),o=f.getModel("labelLine.emphasis"),p=l.get("position")||m.get("position");d.setStyle(g(a,b,"normal",l,p)),d.ignore=d.normalIgnore=!l.get("show"),d.hoverIgnore=!m.get("show"),c.ignore=c.normalIgnore=!n.get("show"),c.hoverIgnore=!o.get("show"),c.setStyle({stroke:k,opacity:a.getItemVisual(b,"opacity")}),c.setStyle(n.getModel("lineStyle").getLineStyle()),d.hoverStyle=g(a,b,"emphasis",m,p),c.hoverStyle=o.getModel("lineStyle").getLineStyle();var q=n.get("smooth");q&&q===!0&&(q=.4),c.setShape({smooth:q})},i.inherits(f,h.Group);var k=c(42).extend({type:"pie",init:function(){var a=new h.Group;this._sectorGroup=a},render:function(a,b,c,e){if(!e||e.from!==this.uid){var g=a.getData(),h=this._data,j=this.group,k=b.get("animation"),l=!h,m=a.get("animationType"),n=i.curry(d,this.uid,a,k,c),o=a.get("selectedMode");if(g.diff(h).add(function(a){var b=new f(g,a);l&&"scale"!==m&&b.eachChild(function(a){a.stopAnimation(!0)}),o&&b.on("click",n),g.setItemGraphicEl(a,b),j.add(b)}).update(function(a,b){var c=h.getItemGraphicEl(b);c.updateData(g,a),c.off("click"),o&&c.on("click",n),j.add(c),g.setItemGraphicEl(a,c)}).remove(function(a){var b=h.getItemGraphicEl(a);j.remove(b)}).execute(),k&&l&&g.count()>0&&"scale"!==m){var p=g.getItemLayout(0),q=Math.max(c.getWidth(),c.getHeight())/2,r=i.bind(j.removeClipPath,j);j.setClipPath(this._createClipPath(p.cx,p.cy,q,p.startAngle,p.clockwise,r,a))}this._data=g}},dispose:function(){},_createClipPath:function(a,b,c,d,e,f,g){var i=new h.Sector({shape:{cx:a,cy:b,r0:0,r:c,startAngle:d,endAngle:d,clockwise:e}});return h.initProps(i,{shape:{endAngle:d+(e?1:-1)*Math.PI*2}},g,f),i},containPoint:function(a,b){var c=b.getData(),d=c.getItemLayout(0);if(d){var e=a[0]-d.cx,f=a[1]-d.cy,g=Math.sqrt(e*e+f*f);return g<=d.r&&g>=d.r0}}});a.exports=k},function(a,b,c){var d=c(1),e=c(4);a.exports=function(a,b){e.each(b,function(b){b.update="updateView",d.registerAction(b,function(c,d){var e={};return d.eachComponent({mainType:"series",subType:a,query:c},function(a){a[b.method]&&a[b.method](c.name);var d=a.getData();d.each(function(b){var c=d.getName(b);e[c]=a.isSelected(c)||!1})}),{name:c.name,selected:e}})})}},function(a,b){a.exports=function(a,b){var c={};b.eachRawSeriesByType(a,function(a){var d=a.getRawData(),e={};if(!b.isSeriesFiltered(a)){var f=a.getData();f.each(function(a){var b=f.getRawIndex(a);e[b]=a}),d.each(function(b){var g=e[b],h=null!=g&&f.getItemVisual(g,"color",!0);if(h)d.setItemVisual(b,"color",h);else{var i=d.getItemModel(b),j=i.get("itemStyle.normal.color")||a.getColorFromPalette(d.getName(b),c);d.setItemVisual(b,"color",j),null!=g&&f.setItemVisual(g,"color",j)}})}})}},function(a,b,c){var d=c(7),e=d.parsePercent,f=c(148),g=c(4),h=2*Math.PI,i=Math.PI/180;a.exports=function(a,b,c,j){b.eachSeriesByType(a,function(a){var b=a.get("center"),j=a.get("radius");g.isArray(j)||(j=[0,j]),g.isArray(b)||(b=[b,b]);var k=c.getWidth(),l=c.getHeight(),m=Math.min(k,l),n=e(b[0],k),o=e(b[1],l),p=e(j[0],m/2),q=e(j[1],m/2),r=a.getData(),s=-a.get("startAngle")*i,t=a.get("minAngle")*i,u=r.getSum("value"),v=Math.PI/(u||r.count())*2,w=a.get("clockwise"),x=a.get("roseType"),y=a.get("stillShowZeroSum"),z=r.getDataExtent("value");z[0]=0;var A=h,B=0,C=s,D=w?1:-1;if(r.each("value",function(a,b){var c;if(isNaN(a))return void r.setItemLayout(b,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:n,cy:o,r0:p,r:x?NaN:q});c="area"!==x?0===u&&y?v:a*v:h/(r.count()||1),t>c?(c=t,A-=t):B+=a;var e=C+D*c;r.setItemLayout(b,{angle:c,startAngle:C,endAngle:e,clockwise:w,cx:n,cy:o,r0:p,r:x?d.linearMap(a,z,[p,q]):q}),C=e},!0),h>A)if(.001>=A){var E=h/r.count();r.each(function(a){var b=r.getItemLayout(a);b.startAngle=s+D*a*E,b.endAngle=s+D*(a+1)*E})}else v=A/B,C=s,r.each("value",function(a,b){var c=r.getItemLayout(b),d=c.angle===t?t:a*v;c.startAngle=C,c.endAngle=C+D*d,C+=D*d});f(a,q,k,l)})}},function(a,b,c){function d(a,b,c,d,e,f,g){function h(b,c,d,e){for(var f=b;c>f;f++)if(a[f].y+=d,f>b&&c>f+1&&a[f+1].y>a[f].y+a[f].height)return void i(f,d/2);i(c-1,d/2)}function i(b,c){for(var d=b;d>=0&&(a[d].y-=c,!(d>0&&a[d].y>a[d-1].y+a[d-1].height));d--);}function j(a,b,c,d,e,f){for(var g=f>0?b?Number.MAX_VALUE:0:b?Number.MAX_VALUE:0,h=0,i=a.length;i>h;h++)if("center"!==a[h].position){var j=Math.abs(a[h].y-d),k=a[h].len,l=a[h].len2,m=e+k>j?Math.sqrt((e+k+l)*(e+k+l)-j*j):Math.abs(a[h].x-c);b&&m>=g&&(m=g-10),!b&&g>=m&&(m=g+10),a[h].x=c+m*f,g=m}}a.sort(function(a,b){return a.y-b.y});for(var k,l=0,m=a.length,n=[],o=[],p=0;m>p;p++)k=a[p].y-l,0>k&&h(p,m,-k,e),l=a[p].y+a[p].height;0>g-l&&i(m-1,l-g);for(var p=0;m>p;p++)a[p].y>=c?o.push(a[p]):n.push(a[p]);j(n,!1,b,c,d,e),j(o,!0,b,c,d,e)}function e(a,b,c,e,f,g){for(var h=[],i=[],j=0;j<a.length;j++)a[j].x<b?h.push(a[j]):i.push(a[j]);d(i,b,c,e,1,f,g),d(h,b,c,e,-1,f,g);for(var j=0;j<a.length;j++){var k=a[j].linePoints;if(k){var l=k[1][0]-k[2][0];a[j].x<b?k[2][0]=a[j].x+3:k[2][0]=a[j].x-3,k[1][1]=k[2][1]=a[j].y,k[1][0]=k[2][0]+l}}}var f=c(8);a.exports=function(a,b,c,d){var g,h,i=a.getData(),j=[],k=!1;i.each(function(c){var d,e,l,m,n=i.getItemLayout(c),o=i.getItemModel(c),p=o.getModel("label.normal"),q=p.get("position")||o.get("label.emphasis.position"),r=o.getModel("labelLine.normal"),s=r.get("length"),t=r.get("length2"),u=(n.startAngle+n.endAngle)/2,v=Math.cos(u),w=Math.sin(u);g=n.cx,h=n.cy;var x="inside"===q||"inner"===q;if("center"===q)d=n.cx,e=n.cy,m="center";else{var y=(x?(n.r+n.r0)/2*v:n.r*v)+g,z=(x?(n.r+n.r0)/2*w:n.r*w)+h;if(d=y+3*v,e=z+3*w,!x){var A=y+v*(s+b-n.r),B=z+w*(s+b-n.r),C=A+(0>v?-1:1)*t,D=B;d=C+(0>v?-5:5),e=D,l=[[y,z],[A,B],[C,D]]}m=x?"center":v>0?"left":"right"}var E=p.getModel("textStyle").getFont(),F=p.get("rotate")?0>v?-u+Math.PI:-u:0,G=a.getFormattedLabel(c,"normal")||i.getName(c),H=f.getBoundingRect(G,E,m,"top");k=!!F,n.label={x:d,y:e,position:q,height:H.height,len:s,len2:t,linePoints:l,textAlign:m,verticalAlign:"middle",font:E,rotation:F},x||j.push(n.label)}),!k&&a.get("avoidLabelOverlap")&&e(j,g,h,b,c,d)}},function(a,b){a.exports=function(a,b){var c=b.findComponents({mainType:"legend"});c&&c.length&&b.eachSeriesByType(a,function(a){var b=a.getData();b.filterSelf(function(a){for(var d=b.getName(a),e=0;e<c.length;e++)if(!c[e].isSelected(d))return!1;return!0},this)},this)}},function(a,b,c){var d=c(4),e=c(1);c(151),c(152),e.registerVisual(d.curry(c(110),"scatter","circle",null)),e.registerLayout(d.curry(c(111),"scatter")),c(113)},function(a,b,c){var d=c(102),e=c(28);a.exports=e.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(a,b){var c=d(a.data,this,b);return c},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})},function(a,b,c){var d=c(105),e=c(153);c(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new d,this._largeSymbolDraw=new e},render:function(a,b,c){var d=a.getData(),e=this._largeSymbolDraw,f=this._normalSymbolDraw,g=this.group,h=a.get("large")&&d.count()>a.get("largeThreshold")?e:f;this._symbolDraw=h,h.updateData(d),g.add(h.group),g.remove(h===e?f.group:e.group)},updateLayout:function(a){this._symbolDraw.updateLayout(a)},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b,!0)},dispose:function(){}})},function(a,b,c){function d(){this.group=new e.Group,this._symbolEl=new g({})}var e=c(43),f=c(107),g=e.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(a,b){for(var c=b.points,d=b.sizes,e=this.symbolProxy,f=e.shape,g=0;g<c.length;g++){var h=c[g],i=d[g];i[0]<4?a.rect(h[0]-i[0]/2,h[1]-i[1]/2,i[0],i[1]):(f.x=h[0]-i[0]/2,f.y=h[1]-i[1]/2,f.width=i[0],f.height=i[1],e.buildPath(a,f,!0))}},findDataIndex:function(a,b){for(var c=this.shape,d=c.points,e=c.sizes,f=d.length-1;f>=0;f--){var g=d[f],h=e[f],i=g[0]-h[0]/2,j=g[1]-h[1]/2;if(a>=i&&b>=j&&a<=i+h[0]&&b<=j+h[1])return f}return-1}}),h=d.prototype;h.updateData=function(a){this.group.removeAll();var b=this._symbolEl,c=a.hostModel;b.setShape({points:a.mapArray(a.getItemLayout),sizes:a.mapArray(function(b){var c=a.getItemVisual(b,"symbolSize");return c instanceof Array||(c=[c,c]),c})}),b.symbolProxy=f.createSymbol(a.getVisual("symbol"),0,0,0,0),b.setColor=b.symbolProxy.setColor,b.useStyle(c.getModel("itemStyle.normal").getItemStyle(["color"]));var d=a.getVisual("color");d&&b.setColor(d),b.seriesIndex=c.seriesIndex,b.on("mousemove",function(a){b.dataIndex=null;var c=b.findDataIndex(a.offsetX,a.offsetY);c>0&&(b.dataIndex=c)}),this.group.add(b)},h.updateLayout=function(a){var b=a.getData();this._symbolEl.setShape({points:b.mapArray(b.getItemLayout)})},h.remove=function(){this.group.removeAll()},a.exports=d},function(a,b,c){var d=c(4),e=c(1);c(155),c(160),c(161),e.registerVisual(d.curry(c(146),"radar")),e.registerVisual(d.curry(c(110),"radar","circle",null)),e.registerLayout(c(162)),e.registerProcessor(d.curry(c(149),"radar")),e.registerPreprocessor(c(163))},function(a,b,c){c(156),c(158),c(159)},function(a,b,c){function d(a,b,c){this._model=a,this.dimensions=[],this._indicatorAxes=e.map(a.getIndicatorModels(),function(a,b){var c="indicator_"+b,d=new f(c,new g);return d.name=a.get("name"),d.model=a,a.axis=d,this.dimensions.push(c),d},this),this.resize(a,c),this.cx,this.cy,this.r,this.startAngle}var e=c(4),f=c(157),g=c(118),h=c(7),i=c(115);d.prototype.getIndicatorAxes=function(){return this._indicatorAxes},d.prototype.dataToPoint=function(a,b){var c=this._indicatorAxes[b];return this.coordToPoint(c.dataToCoord(a),b)},d.prototype.coordToPoint=function(a,b){var c=this._indicatorAxes[b],d=c.angle,e=this.cx+a*Math.cos(d),f=this.cy-a*Math.sin(d);return[e,f]},d.prototype.pointToData=function(a){var b=a[0]-this.cx,c=a[1]-this.cy,d=Math.sqrt(b*b+c*c);b/=d,c/=d;for(var e,f=Math.atan2(-c,b),g=1/0,h=-1,i=0;i<this._indicatorAxes.length;i++){var j=this._indicatorAxes[i],k=Math.abs(f-j.angle);g>k&&(e=j,h=i,g=k)}return[h,+(e&&e.coodToData(d))]},d.prototype.resize=function(a,b){var c=a.get("center"),d=b.getWidth(),f=b.getHeight(),g=Math.min(d,f)/2;this.cx=h.parsePercent(c[0],d),this.cy=h.parsePercent(c[1],f),this.startAngle=a.get("startAngle")*Math.PI/180,this.r=h.parsePercent(a.get("radius"),g),e.each(this._indicatorAxes,function(a,b){a.setExtent(0,this.r);var c=this.startAngle+b*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),a.angle=c},this)},d.prototype.update=function(a,b){function c(a){var b=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),c=a/b;return 2===c?c=5:c*=2,c*b}var d=this._indicatorAxes,f=this._model;e.each(d,function(a){a.scale.setExtent(1/0,-(1/0))}),a.eachSeriesByType("radar",function(b,c){if("radar"===b.get("coordinateSystem")&&a.getComponent("radar",b.get("radarIndex"))===f){var g=b.getData();e.each(d,function(a){a.scale.unionExtentFromData(g,a.dim)})}},this);var g=f.get("splitNumber");e.each(d,function(a,b){var d=i.getScaleExtent(a,a.model);i.niceScaleExtent(a,a.model);var e=a.model,f=a.scale,j=e.getMin(),k=e.getMax(),l=f.getInterval();if(null!=j&&null!=k)f.setInterval((k-j)/g);else if(null!=j){var m;do m=j+l*g,f.setExtent(+j,m),f.setInterval(l),l=c(l);while(m<d[1]&&isFinite(m)&&isFinite(d[1]))}else if(null!=k){var n;do n=k-l*g,f.setExtent(n,+k),f.setInterval(l),l=c(l);while(n>d[0]&&isFinite(n)&&isFinite(d[0]))}else{var o=f.getTicks().length-1;o>g&&(l=c(l));var p=Math.round((d[0]+d[1])/2/l)*l,q=Math.round(g/2);f.setExtent(h.round(p-q*l),h.round(p+(g-q)*l)),f.setInterval(l)}})},d.dimensions=[],d.create=function(a,b){var c=[];return a.eachComponent("radar",function(e){var f=new d(e,a,b);c.push(f),e.coordinateSystem=f}),a.eachSeriesByType("radar",function(a){"radar"===a.get("coordinateSystem")&&(a.coordinateSystem=c[a.get("radarIndex")||0])}),c},c(26).register("radar",d),a.exports=d},function(a,b,c){function d(a,b,c){f.call(this,a,b,c),this.type="value",this.angle=0,this.name="",this.model}var e=c(4),f=c(124);e.inherits(d,f),a.exports=d},function(a,b,c){function d(a,b){return h.defaults({show:b},a)}var e=c(129),f=e.valueAxis,g=c(12),h=c(4),i=c(130),j=c(1).extendComponentModel({type:"radar",optionUpdated:function(){var a=this.get("boundaryGap"),b=this.get("splitNumber"),c=this.get("scale"),d=this.get("axisLine"),e=this.get("axisTick"),f=this.get("axisLabel"),j=this.get("name.textStyle"),k=this.get("name.show"),l=this.get("name.formatter"),m=this.get("nameGap"),n=this.get("triggerEvent"),o=h.map(this.get("indicator")||[],function(o){if(null!=o.max&&o.max>0&&!o.min?o.min=0:null!=o.min&&o.min<0&&!o.max&&(o.max=0),o=h.merge(h.clone(o),{boundaryGap:a,splitNumber:b,scale:c,axisLine:d,axisTick:e,axisLabel:f,name:o.text,nameLocation:"end",nameGap:m,nameTextStyle:j,triggerEvent:n},!1),k||(o.name=""),"string"==typeof l){var p=o.name;o.name=l.replace("{value}",null!=p?p:"")}else"function"==typeof l&&(o.name=l(o.name,o));var q=h.extend(new g(o,null,this.ecModel),i);return q.mainType="radar",q.componentIndex=this.componentIndex,q},this);this.getIndicatorModels=function(){return o}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:h.merge({lineStyle:{color:"#bbb"}},f.axisLine),axisLabel:d(f.axisLabel,!1),axisTick:d(f.axisTick,!1),splitLine:d(f.splitLine,!0),splitArea:d(f.splitArea,!0),indicator:[]}});a.exports=j},function(a,b,c){var d=c(133),e=c(4),f=c(43),g=["axisLine","axisLabel","axisTick","axisName"];a.exports=c(1).extendComponentView({type:"radar",render:function(a,b,c){var d=this.group;d.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},_buildAxes:function(a){var b=a.coordinateSystem,c=b.getIndicatorAxes(),f=e.map(c,function(a){var c=new d(a.model,{position:[b.cx,b.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return c});e.each(f,function(a){e.each(g,a.add,a),this.group.add(a.getGroup())},this)},_buildSplitLineAndArea:function(a){function b(a,b,c){var d=c%b.length;return a[d]=a[d]||[],d}var c=a.coordinateSystem,d=c.getIndicatorAxes();if(d.length){var g=a.get("shape"),h=a.getModel("splitLine"),i=a.getModel("splitArea"),j=h.getModel("lineStyle"),k=i.getModel("areaStyle"),l=h.get("show"),m=i.get("show"),n=j.get("color"),o=k.get("color");n=e.isArray(n)?n:[n],o=e.isArray(o)?o:[o];var p=[],q=[];if("circle"===g)for(var r=d[0].getTicksCoords(),s=c.cx,t=c.cy,u=0;u<r.length;u++){if(l){var v=b(p,n,u);p[v].push(new f.Circle({shape:{cx:s,cy:t,r:r[u]}}))}if(m&&u<r.length-1){var v=b(q,o,u);q[v].push(new f.Ring({shape:{cx:s,cy:t,r0:r[u],r:r[u+1]}}))}}else for(var w=-1,x=e.map(d,function(a,b){var d=a.getTicksCoords();return w=Math.max(d.length-1,w),e.map(d,function(a){return c.coordToPoint(a,b)})}),y=[],u=0;w>=u;u++){for(var z=[],A=0;A<d.length;A++)z.push(x[A][u]);if(z[0]&&z.push(z[0].slice()),l){var v=b(p,n,u);p[v].push(new f.Polyline({shape:{points:z}}))}if(m&&y){var v=b(q,o,u-1);q[v].push(new f.Polygon({shape:{points:z.concat(y)}}))}y=z.slice().reverse()}var B=j.getLineStyle(),C=k.getAreaStyle();e.each(q,function(a,b){this.group.add(f.mergePath(a,{style:e.defaults({stroke:"none",fill:o[b%o.length]},C),silent:!0}))},this),e.each(p,function(a,b){this.group.add(f.mergePath(a,{style:e.defaults({fill:"none",stroke:n[b%n.length]},B),silent:!0}))},this)}}})},function(a,b,c){var d=c(28),e=c(98),f=c(103),g=c(4),h=c(6).encodeHTML,i=d.extend({type:"series.radar",dependencies:["radar"],init:function(a){i.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(a,b){var c=a.data||[],d=f([],c,[],"indicator_"),g=new e(d,this);return g.initData(c),g},formatTooltip:function(a){var b=this.getRawValue(a),c=this.coordinateSystem,d=c.getIndicatorAxes(),e=this.getData().getName(a);return h(""===e?this.name:e)+"<br/>"+g.map(d,function(a,c){return h(a.name+" : "+b[c])}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});a.exports=i},function(a,b,c){function d(a){return f.isArray(a)||(a=[+a,+a]),a}var e=c(43),f=c(4),g=c(107);a.exports=c(1).extendChartView({type:"radar",render:function(a,b,c){function h(a,b){var c=a.getItemVisual(b,"symbol")||"circle",e=a.getItemVisual(b,"color");if("none"!==c){var f=g.createSymbol(c,-.5,-.5,1,1,e);return f.attr({style:{strokeNoScale:!0},z2:100,scale:d(a.getItemVisual(b,"symbolSize"))}),f}}function i(b,c,d,f,g,i){d.removeAll();for(var j=0;j<c.length-1;j++){var k=h(f,g);k&&(k.__dimIdx=j,b[j]?(k.attr("position",b[j]),e[i?"initProps":"updateProps"](k,{position:c[j]},a,g)):k.attr("position",c[j]),d.add(k))}}function j(a){return f.map(a,function(a){return[k.cx,k.cy]})}var k=a.coordinateSystem,l=this.group,m=a.getData(),n=this._data;m.diff(n).add(function(b){var c=m.getItemLayout(b);if(c){var d=new e.Polygon,f=new e.Polyline,g={shape:{points:c}};d.shape.points=j(c),f.shape.points=j(c),e.initProps(d,g,a,b),e.initProps(f,g,a,b);var h=new e.Group,k=new e.Group;h.add(f),h.add(d),h.add(k),i(f.shape.points,c,k,m,b,!0),m.setItemGraphicEl(b,h)}}).update(function(b,c){var d=n.getItemGraphicEl(c),f=d.childAt(0),g=d.childAt(1),h=d.childAt(2),j={shape:{points:m.getItemLayout(b)}};j.shape.points&&(i(f.shape.points,j.shape.points,h,m,b,!1),e.updateProps(f,j,a),e.updateProps(g,j,a),m.setItemGraphicEl(b,d))}).remove(function(a){l.remove(n.getItemGraphicEl(a))}).execute(),m.eachItemGraphicEl(function(b,c){function d(){j.attr("ignore",r)}function g(){j.attr("ignore",q)}var h=m.getItemModel(c),i=b.childAt(0),j=b.childAt(1),k=b.childAt(2),n=m.getItemVisual(c,"color");l.add(b),i.useStyle(f.defaults(h.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:n})),i.hoverStyle=h.getModel("lineStyle.emphasis").getLineStyle();var o=h.getModel("areaStyle.normal"),p=h.getModel("areaStyle.emphasis"),q=o.isEmpty()&&o.parentModel.isEmpty(),r=p.isEmpty()&&p.parentModel.isEmpty();r=r&&q,j.ignore=q,j.useStyle(f.defaults(o.getAreaStyle(),{fill:n,opacity:.7})),j.hoverStyle=p.getAreaStyle();var s=h.getModel("itemStyle.normal").getItemStyle(["color"]),t=h.getModel("itemStyle.emphasis").getItemStyle(),u=h.getModel("label.normal"),v=h.getModel("label.emphasis");k.eachChild(function(b){b.setStyle(s),b.hoverStyle=f.clone(t);var d=m.get(m.dimensions[b.__dimIdx],c);e.setText(b.style,u,n),b.setStyle({text:u.get("show")?f.retrieve(a.getFormattedLabel(c,"normal",null,b.__dimIdx),d):""}),e.setText(b.hoverStyle,v,n),b.hoverStyle.text=v.get("show")?f.retrieve(a.getFormattedLabel(c,"emphasis",null,b.__dimIdx),d):""}),b.off("mouseover").off("mouseout").off("normal").off("emphasis"),b.on("emphasis",d).on("mouseover",d).on("normal",g).on("mouseout",g),e.setHoverStyle(b)}),this._data=m},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}})},function(a,b){a.exports=function(a){a.eachSeriesByType("radar",function(a){function b(a,b){d[b]=d[b]||[],d[b][f]=e.dataToPoint(a,f)}var c=a.getData(),d=[],e=a.coordinateSystem;if(e){for(var f=0;f<e.getIndicatorAxes().length;f++){var g=c.dimensions[f];c.each(g,b)}c.each(function(a){d[a][0]&&d[a].push(d[a][0].slice()),c.setItemLayout(a,d[a])})}})}},function(a,b,c){var d=c(4);a.exports=function(a){var b=a.polar;if(b){d.isArray(b)||(b=[b]);var c=[];d.each(b,function(b,e){b.indicator?(b.type&&!b.shape&&(b.shape=b.type),a.radar=a.radar||[],d.isArray(a.radar)||(a.radar=[a.radar]),a.radar.push(b)):c.push(b)}),a.polar=c}d.each(a.series,function(a){"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}},function(a,b,c){var d=c(1),e=d.PRIORITY;c(165),c(175),c(179),c(166),d.registerLayout(c(181)),d.registerVisual(c(182)),d.registerProcessor(e.PROCESSOR.STATISTIC,c(183)),d.registerPreprocessor(c(184)),c(145)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(a,b,c){var d=c(98),e=c(28),f=c(4),g=c(103),h=c(6),i=h.encodeHTML,j=h.addCommas,k=c(143),l=c(166),m=e.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(a){a=this._fillOption(a,this.getMapType()),this.option=a,m.superApply(this,"init",arguments),this.updateSelectedMap(a.data)},getInitialData:function(a){var b=g(["value"],a.data||[]),c=new d(b,this);return c.initData(a.data),c},mergeOption:function(a){a.data&&(a=this._fillOption(a,this.getMapType())),m.superCall(this,"mergeOption",a),this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var a=this.option.geoIndex;
return null!=a?this.dependentModels.geo[a]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(a,b){return a=f.extend({},a),a.data=l.getFilledRegions(a.data,b),a},getRawValue:function(a){return this.getData().get("value",a)},getRegionModel:function(a){var b=this.getData();return b.getItemModel(b.indexOfName(a))},formatTooltip:function(a){for(var b=this.getData(),c=j(this.getRawValue(a)),d=b.getName(a),e=this.seriesGroup,f=[],g=0;g<e.length;g++){var h=e[g].originalData.indexOfName(d);isNaN(e[g].originalData.get("value",h))||f.push(i(e[g].name))}return f.join(", ")+"<br />"+i(d+" : "+c)},getTooltipPosition:function(a){if(null!=a){var b=this.getData().getName(a),c=this.coordinateSystem,d=c.getRegion(b);return d&&c.dataToPoint(d.center)}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});f.mixin(m,k),a.exports=m},function(a,b,c){function d(a,b){var c,d=this.getBoundingRect(),e=a.get("layoutCenter"),f=a.get("layoutSize"),h=b.getWidth(),j=b.getHeight(),k=a.get("aspectScale")||.75,l=d.width/d.height*k,m=!1;e&&f&&(e=[i.parsePercent(e[0],h),i.parsePercent(e[1],j)],f=i.parsePercent(f,Math.min(h,j)),isNaN(e[0])||isNaN(e[1])||isNaN(f)||(m=!0));var n;if(m){var n={};l>1?(n.width=f,n.height=f/l):(n.height=f,n.width=f*l),n.y=e[1]-n.height/2,n.x=e[0]-n.width/2}else c=a.getBoxLayoutParams(),c.aspect=l,n=g.getLayoutRect(c,{width:h,height:j});this.setViewRect(n.x,n.y,n.width,n.height),this.setCenter(a.get("center")),this.setZoom(a.get("zoom"))}function e(a,b){h.each(b.get("geoCoord"),function(b,c){a.addGeoCoord(c,b)})}var f=c(167),g=c(21),h=c(4),i=c(7),j={},k=function(a){},l={dimensions:f.prototype.dimensions,create:function(a,b){var c=[];a.eachComponent("geo",function(a,g){var h=a.get("map"),i=j[h];i||k(h);var l=new f(h+g,h,i&&i.geoJson,i&&i.specialAreas,a.get("nameMap"));l.zoomLimit=a.get("scaleLimit"),c.push(l),e(l,a),a.coordinateSystem=l,l.model=a,l.resize=d,l.resize(a,b)}),a.eachSeries(function(a){var b=a.get("coordinateSystem");if("geo"===b){var d=a.get("geoIndex")||0;a.coordinateSystem=c[d]}});var g={};return a.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var b=a.getMapType();g[b]=g[b]||[],g[b].push(a)}}),h.each(g,function(a,g){var i=j[g];i||k(a[0].get("map"));var l=h.map(a,function(a){return a.get("nameMap")}),m=new f(g,g,i&&i.geoJson,i&&i.specialAreas,h.mergeAll(l));m.zoomLimit=h.retrieve.apply(null,h.map(a,function(a){return a.get("scaleLimit")})),c.push(m),m.resize=d,m.resize(a[0],b),h.each(a,function(a){a.coordinateSystem=m,e(m,a)})}),c},registerMap:function(a,b,c){b.geoJson&&!b.features&&(c=b.specialAreas,b=b.geoJson),"string"==typeof b&&(b="undefined"!=typeof JSON&&JSON.parse?JSON.parse(b):new Function("return ("+b+");")()),j[a]={geoJson:b,specialAreas:c}},getMap:function(a){return j[a]},getFilledRegions:function(a,b){var c=(a||[]).slice(),d=l.getMap(b),e=d&&d.geoJson;if(!e)return k(b),a;for(var f={},g=e.features,h=0;h<c.length;h++)f[c[h].name]=c[h];for(var h=0;h<g.length;h++){var i=g[h].properties.name;f[i]||c.push({name:i})}return c}},m=c(1);m.registerMap=l.registerMap,m.getMap=l.getMap,m.loadMap=function(){},m.registerCoordinateSystem("geo",l),a.exports=l},function(a,b,c){function d(a,b,c,d,e){i.call(this,a),this.map=b,this._nameCoordMap={},this.loadGeoJson(c,d,e)}function e(a,b,c,d){var e=c.geoModel,f=c.seriesModel,g=e?e.coordinateSystem:f?f.coordinateSystem||(f.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return g===this?g[a](d):null}var f=c(168),g=c(4),h=c(9),i=c(171),j=[c(172),c(173),c(174)];d.prototype={constructor:d,type:"geo",dimensions:["lng","lat"],containCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++)if(b[c].contain(a))return!0;return!1},loadGeoJson:function(a,b,c){try{this.regions=a?f(a):[]}catch(d){throw"Invalid geoJson format\n"+d}b=b||{},c=c||{};for(var e=this.regions,h={},i=0;i<e.length;i++){var k=e[i].name;k=c[k]||k,e[i].name=k,h[k]=e[i],this.addGeoCoord(k,e[i].center);var l=b[k];l&&e[i].transformTo(l.left,l.top,l.width,l.height)}this._regionsMap=h,this._rect=null,g.each(j,function(a){a(this)},this)},transformTo:function(a,b,c,d){var e=this.getBoundingRect();e=e.clone(),e.y=-e.y-e.height;var f=this._viewTransform;f.transform=e.calculateTransform(new h(a,b,c,d)),f.decomposeTransform();var g=f.scale;g[1]=-g[1],f.updateTransform(),this._updateTransform()},getRegion:function(a){return this._regionsMap[a]},getRegionByCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++)if(b[c].contain(a))return b[c]},addGeoCoord:function(a,b){this._nameCoordMap[a]=b},getGeoCoord:function(a){return this._nameCoordMap[a]},getBoundingRect:function(){if(this._rect)return this._rect;for(var a,b=this.regions,c=0;c<b.length;c++){var d=b[c].getBoundingRect();a=a||d.clone(),a.union(d)}return this._rect=a||new h(0,0,0,0)},dataToPoints:function(a){var b=[];return a.mapArray(["lng","lat"],function(a,c){return b[0]=a,b[1]=c,this.dataToPoint(b)},this)},dataToPoint:function(a){return"string"==typeof a&&(a=this.getGeoCoord(a)),a?i.prototype.dataToPoint.call(this,a):void 0},convertToPixel:g.curry(e,"dataToPoint"),convertFromPixel:g.curry(e,"pointToData")},g.mixin(d,i),a.exports=d},function(a,b,c){function d(a){if(!a.UTF8Encoding)return a;for(var b=a.features,c=0;c<b.length;c++)for(var d=b[c],f=d.geometry,g=f.coordinates,h=f.encodeOffsets,i=0;i<g.length;i++){var j=g[i];if("Polygon"===f.type)g[i]=e(j,h[i]);else if("MultiPolygon"===f.type)for(var k=0;k<j.length;k++){var l=j[k];j[k]=e(l,h[i][k])}}return a.UTF8Encoding=!1,a}function e(a,b){for(var c=[],d=b[0],e=b[1],f=0;f<a.length;f+=2){var g=a.charCodeAt(f)-64,h=a.charCodeAt(f+1)-64;g=g>>1^-(1&g),h=h>>1^-(1&h),g+=d,h+=e,d=g,e=h,c.push([g/1024,h/1024])}return c}function f(a){for(var b=[],c=0;c<a.length;c++)for(var d=0;d<a[c].length;d++)b.push(a[c][d]);return b}var g=c(4),h=c(169);a.exports=function(a){return d(a),g.map(g.filter(a.features,function(a){return a.geometry&&a.properties}),function(a){var b=a.properties,c=a.geometry,d=c.coordinates;return"MultiPolygon"===c.type&&(d=f(d)),new h(b.name,d,b.cp)})}},function(a,b,c){function d(a,b,c){if(this.name=a,this.contours=b,c)c=[c[0],c[1]];else{var d=this.getBoundingRect();c=[d.x+d.width/2,d.y+d.height/2]}this.center=c}var e=c(170),f=c(9),g=c(51),h=c(10);d.prototype={constructor:d,getBoundingRect:function(){var a=this._rect;if(a)return a;for(var b=Number.MAX_VALUE,c=[b,b],d=[-b,-b],e=[],i=[],j=this.contours,k=0;k<j.length;k++)g.fromPoints(j[k],e,i),h.min(c,c,e),h.max(d,d,i);return 0===k&&(c[0]=c[1]=d[0]=d[1]=0),this._rect=new f(c[0],c[1],d[0]-c[0],d[1]-c[1])},contain:function(a){var b=this.getBoundingRect(),c=this.contours;if(b.contain(a[0],a[1]))for(var d=0,f=c.length;f>d;d++)if(e.contain(c[d],a[0],a[1]))return!0;return!1},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),g=e.width/e.height;c?d||(d=c/g):c=g*d;for(var i=new f(a,b,c,d),j=e.calculateTransform(i),k=this.contours,l=0;l<k.length;l++)for(var m=0;m<k[l].length;m++)h.applyTransform(k[l][m],k[l][m],j);e=this._rect,e.copy(i),this.center=[e.x+e.width/2,e.y+e.height/2]}},a.exports=d},function(a,b,c){function d(a,b){return Math.abs(a-b)<g}function e(a,b,c){var e=0,g=a[0];if(!g)return!1;for(var h=1;h<a.length;h++){var i=a[h];e+=f(g[0],g[1],i[0],i[1],b,c),g=i}var j=a[0];return d(g[0],j[0])&&d(g[1],j[1])||(e+=f(g[0],g[1],j[0],j[1],b,c)),0!==e}var f=c(58),g=1e-8;a.exports={contain:e}},function(a,b,c){function d(){i.call(this)}function e(a){this.name=a,this.zoomLimit,i.call(this),this._roamTransform=new d,this._viewTransform=new d,this._center,this._zoom}function f(a,b,c,d){var e=c.seriesModel,f=e?e.coordinateSystem:null;return f===this?f[a](d):null}var g=c(10),h=c(11),i=c(34),j=c(4),k=c(9),l=g.applyTransform;j.mixin(d,i),e.prototype={constructor:e,type:"view",dimensions:["x","y"],setBoundingRect:function(a,b,c,d){return this._rect=new k(a,b,c,d),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(a,b,c,d){this.transformTo(a,b,c,d),this._viewRect=new k(a,b,c,d)},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),f=this._viewTransform;f.transform=e.calculateTransform(new k(a,b,c,d)),f.decomposeTransform(),this._updateTransform()},setCenter:function(a){a&&(this._center=a,this._updateCenterAndZoom())},setZoom:function(a){a=a||1;var b=this.zoomLimit;b&&(null!=b.max&&(a=Math.min(b.max,a)),null!=b.min&&(a=Math.max(b.min,a))),this._zoom=a,this._updateCenterAndZoom()},getDefaultCenter:function(){var a=this.getBoundingRect(),b=a.x+a.width/2,c=a.y+a.height/2;return[b,c]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var a=this._viewTransform.getLocalTransform(),b=this._roamTransform,c=this.getDefaultCenter(),d=this.getCenter(),e=this.getZoom();d=g.applyTransform([],d,a),c=g.applyTransform([],c,a),b.origin=d,b.position=[c[0]-d[0],c[1]-d[1]],b.scale=[e,e],this._updateTransform()},_updateTransform:function(){var a=this._roamTransform,b=this._viewTransform;b.parent=a,a.updateTransform(),b.updateTransform(),b.transform&&h.copy(this.transform||(this.transform=[]),b.transform),this.transform?(this.invTransform=this.invTransform||[],h.invert(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},dataToPoint:function(a){var b=this.transform;return b?l([],a,b):[a[0],a[1]]},pointToData:function(a){var b=this.invTransform;return b?l([],a,b):[a[0],a[1]]},convertToPixel:j.curry(f,"dataToPoint"),convertFromPixel:j.curry(f,"pointToData"),containPoint:function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])}},j.mixin(e,i),a.exports=e},function(a,b,c){for(var d=c(169),e=[126,25],f=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],g=0;g<f.length;g++)for(var h=0;h<f[g].length;h++)f[g][h][0]/=10.5,f[g][h][1]/=-14,f[g][h][0]+=e[0],f[g][h][1]+=e[1];a.exports=function(a){"china"===a.map&&a.regions.push(new d("南海诸岛",f,e))}},function(a,b,c){var d=c(4),e={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};a.exports=function(a){d.each(a.regions,function(a){var b=e[a.name];if(b){var c=a.center;c[0]+=b[0]/10.5,c[1]+=-b[1]/14}})}},function(a,b,c){var d=c(4),e={Russia:[100,60],"United States of America":[-99,38]};a.exports=function(a){d.each(a.regions,function(a){var b=e[a.name];if(b){var c=a.center;c[0]=b[0],c[1]=b[1]}})}},function(a,b,c){var d=c(43),e=c(176);c(1).extendChartView({type:"map",render:function(a,b,c,d){if(!d||"mapToggleSelect"!==d.type||d.from!==this.uid){var f=this.group;if(f.removeAll(),!a.getHostGeoModel()){if(d&&"geoRoam"===d.type&&"series"===d.componentType&&d.seriesId===a.id){var g=this._mapDraw;g&&f.add(g.group)}else if(a.needsDrawMap){var g=this._mapDraw||new e(c,!0);f.add(g.group),g.draw(a,b,c,this,d),this._mapDraw=g}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&b.getComponent("legend")&&this._renderSymbols(a,b,c)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(a,b,c){var e=a.originalData,f=this.group;e.each("value",function(b,c){if(!isNaN(b)){var g=e.getItemLayout(c);if(g&&g.point){var h=g.point,i=g.offset,j=new d.Circle({style:{fill:a.getData().getVisual("color")},shape:{cx:h[0]+9*i,cy:h[1],r:3},silent:!0,z2:10});if(!i){var k=a.mainSeries.getData(),l=e.getName(c),m=l,n=k.indexOfName(l),o=e.getItemModel(c),p=o.getModel("label.normal"),q=o.getModel("label.emphasis"),r=p.getModel("textStyle"),s=q.getModel("textStyle"),t=k.getItemGraphicEl(n);j.setStyle({textPosition:"bottom"});var u=function(){j.setStyle({text:q.get("show")?m:"",textFill:s.getTextColor(),textFont:s.getFont()})},v=function(){j.setStyle({text:p.get("show")?m:"",textFill:r.getTextColor(),textFont:r.getFont()})};t.on("mouseover",u).on("mouseout",v).on("emphasis",u).on("normal",v),v()}f.add(j)}}})}})},function(a,b,c){function d(a,b){var c=a.getItemStyle(),d=a.get("areaColor");return null!=d&&(c.fill=d),c}function e(a,b,c,d,e){c.off("click"),c.off("mousedown"),b.get("selectedMode")&&(c.on("mousedown",function(){a._mouseDownFlag=!0}),c.on("click",function(g){if(a._mouseDownFlag){a._mouseDownFlag=!1;for(var h=g.target;!h.__region;)h=h.parent;if(h){var i=h.__region,j={type:("geo"===b.mainType?"geo":"map")+"ToggleSelect",name:i.name,from:e.uid};j[b.mainType+"Id"]=b.id,d.dispatchAction(j),f(b,c)}}}))}function f(a,b){b.eachChild(function(b){b.__region&&b.trigger(a.isSelected(b.__region.name)?"emphasis":"normal")})}function g(a,b){var c=new i.Group;this._controller=new h(a.getZr(),b?c:null,null),this.group=c,this._updateGroup=b,this._mouseDownFlag}var h=c(177),i=c(43),j=c(4);g.prototype={constructor:g,draw:function(a,b,c,g,h){var k="geo"===a.mainType,l=a.getData&&a.getData();k&&b.eachComponent({mainType:"series",subType:"map"},function(b){l||b.getHostGeoModel()!==a||(l=b.getData())});var m=a.coordinateSystem,n=this.group,o=m.scale,p={position:m.position,scale:o};!n.childAt(0)||h?n.attr(p):i.updateProps(n,p,a),n.removeAll();var q=["itemStyle","normal"],r=["itemStyle","emphasis"],s=["label","normal"],t=["label","emphasis"];j.each(m.regions,function(b){var c=new i.Group,e=new i.CompoundPath({shape:{paths:[]}});c.add(e);var f,g=a.getRegionModel(b.name)||a,h=g.getModel(q),m=g.getModel(r),p=d(h,o),u=d(m,o),v=g.getModel(s),w=g.getModel(t);if(l){f=l.indexOfName(b.name);var x=l.getItemVisual(f,"color",!0);x&&(p.fill=x)}var y=v.getModel("textStyle"),z=w.getModel("textStyle");j.each(b.contours,function(a){var b=new i.Polygon({shape:{points:a}});e.shape.paths.push(b)}),e.setStyle(p),e.style.strokeNoScale=!0,e.culling=!0;var A=v.get("show"),B=w.get("show"),C=l&&isNaN(l.get("value",f)),D=l&&l.getItemLayout(f);if(k||C&&(A||B)||D&&D.showLabel){var E=l?f:b.name,F=a.getFormattedLabel(E,"normal"),G=a.getFormattedLabel(E,"emphasis"),H=new i.Text({style:{text:A?F||b.name:"",fill:y.getTextColor(),textFont:y.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:B?G||b.name:"",fill:z.getTextColor(),textFont:z.getFont()},position:b.center.slice(),scale:[1/o[0],1/o[1]],z2:10,silent:!0});c.add(H)}if(l)l.setItemGraphicEl(f,c);else{var g=a.getRegionModel(b.name);e.eventData={componentType:"geo",geoIndex:a.componentIndex,name:b.name,region:g&&g.option||{}}}c.__region=b,i.setHoverStyle(c,u,{hoverSilentOnTouch:!!a.get("selectedMode")}),n.add(c)}),this._updateController(a,b,c),e(this,a,n,c,g),f(a,n)},remove:function(){this.group.removeAll(),this._controller.dispose()},_updateController:function(a,b,c){function d(){var b={type:"geoRoam",componentType:g};return b[g+"Id"]=a.id,b}var e=a.coordinateSystem,f=this._controller;f.zoomLimit=a.get("scaleLimit"),f.zoom=e.getZoom(),f.enable(a.get("roam")||!1);var g=a.mainType;f.off("pan").on("pan",function(a,b){this._mouseDownFlag=!1,c.dispatchAction(j.extend(d(),{dx:a,dy:b}))},this),f.off("zoom").on("zoom",function(a,b,e){if(this._mouseDownFlag=!1,c.dispatchAction(j.extend(d(),{zoom:a,originX:b,originY:e})),this._updateGroup){var f=this.group,g=f.scale;f.traverse(function(a){"text"===a.type&&a.attr("scale",[1/g[0],1/g[1]])})}},this),f.setContainsPoint(function(a,b){return e.getViewRectAfterRoam().contain(a,b)})}},a.exports=g},function(a,b,c){function d(a){if(!a.target||!a.target.draggable){var b=a.offsetX,c=a.offsetY;this.containsPoint&&this.containsPoint(b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function e(a){if(this._dragging&&(m.stop(a.event),"pinch"!==a.gestureEvent)){if(n.isTaken(this._zr,"globalPan"))return;var b=a.offsetX,c=a.offsetY,d=this._x,e=this._y,f=b-d,g=c-e;this._x=b,this._y=c;var h=this.target;if(h){var i=h.position;i[0]+=f,i[1]+=g,h.dirty()}m.stop(a.event),this.trigger("pan",f,g,d,e,b,c)}}function f(a){this._dragging=!1}function g(a){var b=a.wheelDelta>0?1.1:1/1.1;i.call(this,a,b,a.offsetX,a.offsetY)}function h(a){if(!n.isTaken(this._zr,"globalPan")){var b=a.pinchScale>1?1.1:1/1.1;i.call(this,a,b,a.pinchX,a.pinchY)}}function i(a,b,c,d){if(this.containsPoint&&this.containsPoint(c,d)){m.stop(a.event);var e=this.target,f=this.zoomLimit;if(e){var g=e.position,h=e.scale,i=this.zoom=this.zoom||1;if(i*=b,f){var j=f.min||0,k=f.max||1/0;i=Math.max(Math.min(k,i),j)}var l=i/this.zoom;this.zoom=i,g[0]-=(c-g[0])*(l-1),g[1]-=(d-g[1])*(l-1),h[0]*=l,h[1]*=l,e.dirty()}this.trigger("zoom",b,c,d)}}function j(a,b){this.target=b,this.containsPoint,this.zoomLimit,this.zoom,this._zr=a;var c=l.bind,i=c(d,this),j=c(e,this),m=c(f,this),n=c(g,this),o=c(h,this);k.call(this),this.setContainsPoint=function(a){this.containsPoint=a},this.enable=function(b){this.disable(),null==b&&(b=!0),(b===!0||"move"===b||"pan"===b)&&(a.on("mousedown",i),a.on("mousemove",j),a.on("mouseup",m)),(b===!0||"scale"===b||"zoom"===b)&&(a.on("mousewheel",n),a.on("pinch",o))},this.disable=function(){a.off("mousedown",i),a.off("mousemove",j),a.off("mouseup",m),a.off("mousewheel",n),a.off("pinch",o)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}var k=c(33),l=c(4),m=c(88),n=c(178);l.mixin(j,k),a.exports=j},function(a,b,c){function d(a){return a[e]||(a[e]={})}var e="\x00_ec_interaction_mutex",f={take:function(a,b,c){var e=d(a);e[b]=c},release:function(a,b,c){var e=d(a),f=e[b];f===c&&(e[b]=null)},isTaken:function(a,b){return!!d(a)[b]}};c(1).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),a.exports=f},function(a,b,c){var d=c(4),e=c(180),f=c(1);f.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(a,b){var c=a.componentType||"series";b.eachComponent({mainType:c,query:a},function(b){var f=b.coordinateSystem;if("geo"===f.type){var g=e.updateCenterAndZoom(f,a,b.get("scaleLimit"));b.setCenter&&b.setCenter(g.center),b.setZoom&&b.setZoom(g.zoom),"series"===c&&d.each(b.seriesGroup,function(a){a.setCenter(g.center),a.setZoom(g.zoom)})}})})},function(a,b){var c={};c.updateCenterAndZoom=function(a,b,c){var d=a.getZoom(),e=a.getCenter(),f=b.zoom,g=a.dataToPoint(e);if(null!=b.dx&&null!=b.dy){g[0]-=b.dx,g[1]-=b.dy;var e=a.pointToData(g);a.setCenter(e)}if(null!=f){if(c){var h=c.min||0,i=c.max||1/0;f=Math.max(Math.min(d*f,i),h)/d}a.scale[0]*=f,a.scale[1]*=f;var j=a.position,k=(b.originX-j[0])*(f-1),l=(b.originY-j[1])*(f-1);j[0]-=k,j[1]-=l,a.updateTransform();var e=a.pointToData(g);a.setCenter(e),a.setZoom(f*d)}return{center:a.getCenter(),zoom:a.getZoom()}},a.exports=c},function(a,b,c){var d=c(4);a.exports=function(a){var b={};a.eachSeriesByType("map",function(c){var e=c.getMapType();if(!c.getHostGeoModel()&&!b[e]){var f={};d.each(c.seriesGroup,function(b){var c=b.coordinateSystem,d=b.originalData;b.get("showLegendSymbol")&&a.getComponent("legend")&&d.each("value",function(a,b){var e=d.getName(b),g=c.getRegion(e);if(g&&!isNaN(a)){var h=f[e]||0,i=c.dataToPoint(g.center);f[e]=h+1,d.setItemLayout(b,{point:i,offset:h})}})});var g=c.getData();g.each(function(a){var b=g.getName(a),c=g.getItemLayout(a)||{};c.showLabel=!f[b],g.setItemLayout(a,c)}),b[e]=!0}})}},function(a,b){a.exports=function(a){a.eachSeriesByType("map",function(a){var b=a.get("color"),c=a.getModel("itemStyle.normal"),d=c.get("areaColor"),e=c.get("color")||b[a.seriesIndex%b.length];a.getData().setVisual({areaColor:d,color:e})})}},function(a,b,c){function d(a,b){var c={},d=["value"];return e.each(a,function(a){a.each(d,function(b,d){var e=a.getName(d);c[e]=c[e]||[],isNaN(b)||c[e].push(b)})}),a[0].map(d,function(d,e){for(var f=a[0].getName(e),g=0,h=1/0,i=-(1/0),j=c[f].length,k=0;j>k;k++)h=Math.min(h,c[f][k]),i=Math.max(i,c[f][k]),g+=c[f][k];var l;return l="min"===b?h:"max"===b?i:"average"===b?g/j:g,0===j?NaN:l})}var e=c(4);a.exports=function(a){var b={};a.eachSeriesByType("map",function(a){var c=a.getHostGeoModel(),d=c?"o"+c.id:"i"+a.getMapType();(b[d]=b[d]||[]).push(a)}),e.each(b,function(a,b){for(var c=d(e.map(a,function(a){return a.getData()}),a[0].get("mapValueCalculation")),f=0;f<a.length;f++)a[f].originalData=a[f].getData();for(var f=0;f<a.length;f++)a[f].seriesGroup=a,a[f].needsDrawMap=0===f&&!a[f].getHostGeoModel(),a[f].setData(c.cloneShallow()),a[f].mainSeries=a[0]})}},function(a,b,c){var d=c(4);a.exports=function(a){var b=[];d.each(a.series,function(a){"map"===a.type&&b.push(a)}),d.each(b,function(a){a.map=a.map||a.mapType,d.defaults(a,a.mapLocation)})}},function(a,b,c){var d=c(1);c(186),c(190),c(193),d.registerVisual(c(194)),d.registerLayout(c(196))},function(a,b,c){function d(a,b){var c=0;h.each(a.children,function(a){d(a,b);var e=a.value;h.isArray(e)&&(e=e[0]),c+=e});var e=a.value;b>=0&&(h.isArray(e)?e=e[0]:a.value=new Array(b)),(null==e||isNaN(e))&&(e=c),0>e&&(e=0),b>=0?a.value[0]=e:a.value=e}function e(a,b){var c=b.get("color");if(c){a=a||[];var d;if(h.each(a,function(a){var b=new i(a),c=b.get("color");(b.get("itemStyle.normal.color")||c&&"none"!==c)&&(d=!0)}),!d){var e=a[0]||(a[0]={});e.color=c.slice()}return a}}var f=c(28),g=c(187),h=c(4),i=c(12),j=c(6),k=c(189),l=j.encodeHTML,m=j.addCommas;a.exports=f.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(a,b){var c=a.data||[],f=a.name;null==f&&(f=a.name);var i={name:f,children:a.data},j=(c[0]||{}).value;d(i,h.isArray(j)?j.length:-1);var k=a.levels||[];return k=a.levels=e(k,b),g.createTree(i,this,k).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a),d=m(h.isArray(c)?c[0]:c),e=b.getName(a);return l(e+": "+d)},getDataParams:function(a){var b=f.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(a);return b.treePathInfo=k.wrapTreePathInfo(c,this),b},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{},h.extend(this.layoutInfo,a)},mapIdToIndex:function(a){var b=this._idIndexMap;b||(b=this._idIndexMap={},this._idIndexMapCount=0);var c=b[a];return null==c&&(b[a]=c=this._idIndexMapCount++),c},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getData().tree.root;(!a||a!==b&&!b.contains(a))&&(this._viewRoot=b)}})},function(a,b,c){function d(a,b){this.root,this.data,this._nodes=[],this.hostModel=a,this.levelModels=f.map(b||[],function(b){return new g(b,a,a.ecModel)})}function e(a,b){var c=b.children;a.parentNode!==b&&(c.push(a),a.parentNode=b)}var f=c(4),g=c(12),h=c(98),i=c(188),j=c(103),k=function(a,b){this.name=a||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=b};k.prototype={constructor:k,isRemoved:function(){return this.dataIndex<0},eachNode:function(a,b,c){"function"==typeof a&&(c=b,b=a,a=null),a=a||{},f.isString(a)&&(a={order:a});var d,e=a.order||"preorder",g=this[a.attr||"children"];"preorder"===e&&(d=b.call(c,this));for(var h=0;!d&&h<g.length;h++)g[h].eachNode(a,b,c);"postorder"===e&&b.call(c,this)},updateDepthAndHeight:function(a){var b=0;this.depth=a;for(var c=0;c<this.children.length;c++){var d=this.children[c];d.updateDepthAndHeight(a+1),d.height>b&&(b=d.height)}this.height=b+1},getNodeById:function(a){if(this.getId()===a)return this;for(var b=0,c=this.children,d=c.length;d>b;b++){var e=c[b].getNodeById(a);if(e)return e}},contains:function(a){if(a===this)return!0;for(var b=0,c=this.children,d=c.length;d>b;b++){var e=c[b].contains(a);if(e)return e}},getAncestors:function(a){for(var b=[],c=a?this:this.parentNode;c;)b.push(c),c=c.parentNode;return b.reverse(),b},getValue:function(a){var b=this.hostTree.data;return b.get(b.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(a){if(!(this.dataIndex<0)){var b=this.hostTree,c=b.data.getItemModel(this.dataIndex),d=this.getLevelModel();return c.getModel(a,(d||b.hostModel).getModel(a))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},getVisual:function(a,b){return this.hostTree.data.getItemVisual(this.dataIndex,a,b)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},d.prototype={constructor:d,type:"tree",eachNode:function(a,b,c){this.root.eachNode(a,b,c)},getNodeByDataIndex:function(a){var b=this.data.getRawIndex(a);return this._nodes[b]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){for(var a=this.data,b=this._nodes,c=0,d=b.length;d>c;c++)b[c].dataIndex=-1;for(var c=0,d=a.count();d>c;c++)b[a.getRawIndex(c)].dataIndex=c},clearLayouts:function(){this.data.clearItemLayouts()}},d.createTree=function(a,b,c){function f(a,b){l.push(a);var c=new k(a.name,g);b?e(c,b):g.root=c,g._nodes.push(c);var d=a.children;if(d)for(var h=0;h<d.length;h++)f(d[h],c)}var g=new d(b,c),l=[];f(a),g.root.updateDepthAndHeight(0);var m=j([{name:"value"}],l),n=new h(m,b);return n.initData(l),i({mainData:n,struct:g,structAttr:"tree"}),g.update(),g},a.exports=d},function(a,b,c){function d(a){var b=a.mainData,c=a.datas;c||(c={main:b},a.datasAttr={main:"data"}),a.datas=a.mainData=null,j(b,c,a),m(c,function(c){m(b.TRANSFERABLE_METHODS,function(b){c.wrapMethod(b,l.curry(e,a))})}),b.wrapMethod("cloneShallow",l.curry(g,a)),m(b.CHANGABLE_METHODS,function(c){b.wrapMethod(c,l.curry(f,a))}),l.assert(c[b.dataType]===b)}function e(a,b){if(i(this)){var c=l.extend({},this[n]);c[this.dataType]=b,j(b,c,a)}else k(b,this.dataType,this[o],a);return b}function f(a,b){return a.struct&&a.struct.update(this),b}function g(a,b){return m(b[n],function(c,d){c!==b&&k(c.cloneShallow(),d,b,a)}),b}function h(a){var b=this[o];return null==a||null==b?b:b[n][a]}function i(a){return a[o]===a}function j(a,b,c){a[n]={},m(b,function(b,d){k(b,d,a,c)})}function k(a,b,c,d){c[n][b]=a,a[o]=c,a.dataType=b,d.struct&&(a[d.structAttr]=d.struct,d.struct[d.datasAttr[b]]=a),a.getLinkedData=h}var l=c(4),m=l.each,n="\x00__link_datas",o="\x00__link_mainData";a.exports=d},function(a,b,c){var d=c(4),e={retrieveTargetInfo:function(a,b){if(a&&("treemapZoomToNode"===a.type||"treemapRootToNode"===a.type)){var c=b.getData().tree.root,d=a.targetNode;if(d&&c.contains(d))return{node:d};var e=a.targetNodeId;if(null!=e&&(d=c.getNodeById(e)))return{node:d}}},getPathToRoot:function(a){for(var b=[];a;)a=a.parentNode,a&&b.push(a);return b.reverse()},aboveViewRoot:function(a,b){var c=e.getPathToRoot(a);return d.indexOf(c,b)>=0},wrapTreePathInfo:function(a,b){for(var c=[];a;){var d=a.dataIndex;c.push({name:a.name,dataIndex:d,value:b.getRawValue(d)}),a=a.parentNode}return c.reverse(),c}};a.exports=e},function(a,b,c){function d(){return{nodeGroup:[],background:[],content:[]}}function e(a,b,c,d,e,i,j,k,l,m){function n(b){J.dataIndex=j.dataIndex,J.seriesIndex=a.seriesIndex;var c=A.borderWidth,d=Math.max(B-2*c,0),e=Math.max(C-2*c,0);J.culling=!0,J.setShape({x:c,y:c,width:d,height:e});var f=j.getVisual("color",!0);o(J,function(){var a={fill:f},b=j.getModel("itemStyle.emphasis").getItemStyle();p(a,b,f,d,e),J.setStyle(a),h.setHoverStyle(J,b)}),b.add(J)}function o(a,b){D?!a.invisible&&i.push(a):(b(),a.__tmWillVisible||(a.invisible=!1))}function p(b,c,d,e,f){var g=j.getModel(),h=g.get("name");if(A.isLeafRoot){var i=a.get("drillDownIcon",!0);h=i?i+" "+h:h}s(h,b,g,u,d,e,f),s(h,c,g,v,d,e,f)}function s(a,b,c,d,e,f,g){var i=c.getModel(d),j=i.getModel("textStyle");h.setText(b,i,e),b.textAlign=j.get("align"),b.textVerticalAlign=j.get("baseline");var k=j.getTextRect(a);!i.getShallow("show")||k.height>g?b.text="":k.width>f?b.text=j.get("ellipsis")?j.truncateText(a,f,null,{minChar:2}):"":b.text=a}function t(a,d,g,h){var i=null!=F&&c[a][F],j=e[a];return i?(c[a][F]=null,w(j,i,a)):D||(i=new d({z:f(g,h)}),i.__tmDepth=g,i.__tmStorageName=a,z(j,i,a)),b[a][E]=i}function w(a,b,c){var d=a[E]={};d.old="nodeGroup"===c?b.position.slice():g.extend({},b.shape)}function z(a,b,c){var f=a[E]={},g=j.parentNode;if(g&&(!d||"drillDown"===d.direction)){var h=0,i=0,k=e.background[g.getRawIndex()];!d&&k&&k.old&&(h=k.old.width,i=k.old.height),f.old="nodeGroup"===c?[0,i]:{x:h,y:i,width:0,height:0}}f.fadein="nodeGroup"!==c}if(j){var A=j.getLayout();if(A&&A.isInView){var B=A.width,C=A.height,D=A.invisible,E=j.getRawIndex(),F=k&&k.getRawIndex(),G=t("nodeGroup",q);if(G){if(l.add(G),G.attr("position",[A.x||0,A.y||0]),G.__tmNodeWidth=B,G.__tmNodeHeight=C,A.isAboveViewRoot)return G;var H=t("background",r,m,x);H&&(H.setShape({x:0,y:0,width:B,height:C}),o(H,function(){H.setStyle("fill",j.getVisual("borderColor",!0))}),G.add(H));var I=j.viewChildren;if(!I||!I.length){var J=t("content",r,m,y);J&&n(G)}return G}}}}function f(a,b){var c=a*w+b;return(c-1)/c}var g=c(4),h=c(43),i=c(99),j=c(189),k=c(191),l=c(177),m=c(9),n=c(11),o=c(192),p=g.bind,q=h.Group,r=h.Rect,s=g.each,t=3,u=["label","normal"],v=["label","emphasis"],w=10,x=1,y=2;a.exports=c(1).extendChartView({type:"treemap",init:function(a,b){this._containerGroup,this._storage=d(),this._oldTree,this._breadcrumb,this._controller,this._state="ready",this._mayClick},render:function(a,b,c,d){var e=b.findComponents({mainType:"series",subType:"treemap",query:d});if(!(g.indexOf(e,a)<0)){this.seriesModel=a,this.api=c,this.ecModel=b;var f=j.retrieveTargetInfo(d,a),h=d&&d.type,i=a.layoutInfo,k=!this._oldTree,l=this._storage,m="treemapRootToNode"===h&&f&&l?{rootNodeGroup:l.nodeGroup[f.node.getRawIndex()],direction:d.direction}:null,n=this._giveContainerGroup(i),o=this._doRender(n,a,m);k||h&&"treemapZoomToNode"!==h&&"treemapRootToNode"!==h?o.renderFinally():this._doAnimation(n,o,a,m),this._resetController(c),this._renderBreadcrumb(a,c,f)}},_giveContainerGroup:function(a){var b=this._containerGroup;
return b||(b=this._containerGroup=new q,this._initEvents(b),this.group.add(b)),b.attr("position",[a.x,a.y]),b},_doRender:function(a,b,c){function f(a,b,c,d,e){function h(a){return a.getId()}function j(g,h){var i=null!=g?a[g]:null,j=null!=h?b[h]:null,k=q(i,j,c,e);k&&f(i&&i.viewChildren||[],j&&j.viewChildren||[],k,d,e+1)}d?(b=a,s(a,function(a,b){!a.isRemoved()&&j(b,b)})):new i(b,a,h,h).add(j).update(j).remove(g.curry(j,null)).execute()}function h(a){var b=d();return a&&s(a,function(a,c){var d=b[c];s(a,function(a){a&&(d.push(a),a.__tmWillDelete=1)})}),b}function j(){s(r,function(a){s(a,function(a){a.parent&&a.parent.remove(a)})}),s(p,function(a){a.invisible=!0,a.dirty()})}var k=b.getData().tree,l=this._oldTree,m=d(),n=d(),o=this._storage,p=[],q=g.curry(e,b,n,o,c,m,p);f(k.root?[k.root]:[],l&&l.root?[l.root]:[],a,k===l||!l,0);var r=h(o);return this._oldTree=k,this._storage=n,{lastsForAnimation:m,willDeleteEls:r,renderFinally:j}},_doAnimation:function(a,b,c,d){if(c.get("animation")){var e=c.get("animationDurationUpdate"),f=c.get("animationEasing"),h=o.createWrap();s(b.willDeleteEls,function(a,b){s(a,function(a,c){if(!a.invisible){var g,i=a.parent;if(d&&"drillDown"===d.direction)g=i===d.rootNodeGroup?{shape:{x:0,y:0,width:i.__tmNodeWidth,height:i.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var j=0,k=0;i.__tmWillDelete||(j=i.__tmNodeWidth/2,k=i.__tmNodeHeight/2),g="nodeGroup"===b?{position:[j,k],style:{opacity:0}}:{shape:{x:j,y:k,width:0,height:0},style:{opacity:0}}}g&&h.add(a,g,e,f)}})}),s(this._storage,function(a,c){s(a,function(a,d){var i=b.lastsForAnimation[c][d],j={};i&&("nodeGroup"===c?i.old&&(j.position=a.position.slice(),a.attr("position",i.old)):(i.old&&(j.shape=g.extend({},a.shape),a.setShape(i.old)),i.fadein?(a.setStyle("opacity",0),j.style={opacity:1}):1!==a.style.opacity&&(j.style={opacity:1})),h.add(a,j,e,f))})},this),this._state="animating",h.done(p(function(){this._state="ready",b.renderFinally()},this)).start()}},_resetController:function(a){var b=this._controller;b||(b=this._controller=new l(a.getZr()),b.enable(this.seriesModel.get("roam")),b.on("pan",p(this._onPan,this)),b.on("zoom",p(this._onZoom,this)));var c=new m(0,0,a.getWidth(),a.getHeight());b.setContainsPoint(function(a,b){return c.contain(a,b)})},_clearController:function(){var a=this._controller;a&&(a.dispose(),a=null)},_onPan:function(a,b){if(this._mayClick=!1,"animating"!==this._state&&(Math.abs(a)>t||Math.abs(b)>t)){var c=this.seriesModel.getData().tree.root;if(!c)return;var d=c.getLayout();if(!d)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:d.x+a,y:d.y+b,width:d.width,height:d.height}})}},_onZoom:function(a,b,c){if(this._mayClick=!1,"animating"!==this._state){var d=this.seriesModel.getData().tree.root;if(!d)return;var e=d.getLayout();if(!e)return;var f=new m(e.x,e.y,e.width,e.height),g=this.seriesModel.layoutInfo;b-=g.x,c-=g.y;var h=n.create();n.translate(h,h,[-b,-c]),n.scale(h,h,[a,a]),n.translate(h,h,[b,c]),f.applyTransform(h),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},_initEvents:function(a){function b(a){var b=this.seriesModel.get("nodeClick",!0);if(b){var c=this.findTarget(a.offsetX,a.offsetY);if(c){var d=c.node;if(d.getLayout().isLeafRoot)this._rootToNode(c);else if("zoomToNode"===b)this._zoomToNode(c);else if("link"===b){var e=d.hostTree.data.getItemModel(d.dataIndex),f=e.get("link",!0),g=e.get("target",!0)||"blank";f&&window.open(f,g)}}}}a.on("mousedown",function(a){"ready"===this._state&&(this._mayClick=!0)},this),a.on("mouseup",function(a){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&b.call(this,a))},this)},_renderBreadcrumb:function(a,b,c){function d(b){"animating"!==this._state&&(j.aboveViewRoot(a.getViewRoot(),b)?this._rootToNode({node:b}):this._zoomToNode({node:b}))}c||(c=null!=a.get("leafDepth",!0)?{node:a.getViewRoot()}:this.findTarget(b.getWidth()/2,b.getHeight()/2),c||(c={node:a.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new k(this.group))).render(a,b,c.node,p(d,this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=d(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(a,b){var c,d=this.seriesModel.getViewRoot();return d.eachNode({attr:"viewChildren",order:"preorder"},function(d){var e=this._storage.background[d.getRawIndex()];if(e){var f=e.transformCoordToLocal(a,b),g=e.shape;if(!(g.x<=f[0]&&f[0]<=g.x+g.width&&g.y<=f[1]&&f[1]<=g.y+g.height))return!1;c={node:d,offsetX:f[0],offsetY:f[1]}}},this),c}})},function(a,b,c){function d(a){this.group=new g.Group,a.add(this.group)}function e(a,b,c,d,e,f){var g=[[e?a:a-m,b],[a+c,b],[a+c,b+d],[e?a:a-m,b+d]];return!f&&g.splice(2,0,[a+c+m,b+d/2]),!e&&g.push([a,b+d/2]),g}function f(a,b,c){a.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:b.componentIndex,seriesName:b.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:c&&c.dataIndex,name:c&&c.name},treePathInfo:c&&j.wrapTreePathInfo(c,b)}}var g=c(43),h=c(21),i=c(4),j=c(189),k=8,l=8,m=5;d.prototype={constructor:d,render:function(a,b,c,d){var e=a.getModel("breadcrumb"),f=this.group;if(f.removeAll(),e.get("show")&&c){var g=e.getModel("itemStyle.normal"),i=g.getModel("textStyle"),j={pos:{left:e.get("left"),right:e.get("right"),top:e.get("top"),bottom:e.get("bottom")},box:{width:b.getWidth(),height:b.getHeight()},emptyItemWidth:e.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(c,j,i),this._renderContent(a,j,g,i,d),h.positionElement(f,j.pos,j.box)}},_prepare:function(a,b,c){for(var d=a;d;d=d.parentNode){var e=d.getModel().get("name"),f=c.getTextRect(e),g=Math.max(f.width+2*k,b.emptyItemWidth);b.totalWidth+=g+l,b.renderList.push({node:d,text:e,width:g})}},_renderContent:function(a,b,c,d,j){for(var k=0,m=b.emptyItemWidth,n=a.get("breadcrumb.height"),o=h.getAvailableSize(b.pos,b.box),p=b.totalWidth,q=b.renderList,r=q.length-1;r>=0;r--){var s=q[r],t=s.node,u=s.width,v=s.text;p>o.width&&(p-=u-m,u=m,v="");var w=new g.Polygon({shape:{points:e(k,0,u,n,r===q.length-1,0===r)},style:i.defaults(c.getItemStyle(),{lineJoin:"bevel",text:v,textFill:d.getTextColor(),textFont:d.getFont()}),z:10,onclick:i.curry(j,t)});this.group.add(w),f(w,a,t),k+=u+l}},remove:function(){this.group.removeAll()}},a.exports=d},function(a,b,c){function d(){var a,b=[],c={};return{add:function(a,d,f,g,h){return e.isString(g)&&(h=g,g=0),c[a.id]?!1:(c[a.id]=1,b.push({el:a,target:d,time:f,delay:g,easing:h}),!0)},done:function(b){return a=b,this},start:function(){function d(){e--,e||(b.length=0,c={},a&&a())}for(var e=b.length,f=0,g=b.length;g>f;f++){var h=b[f];h.el.animateTo(h.target,h.time,h.delay,h.easing,d)}return this}}}var e=c(4);a.exports={createWrap:d}},function(a,b,c){for(var d=c(1),e=c(189),f=function(){},g=["treemapZoomToNode","treemapRender","treemapMove"],h=0;h<g.length;h++)d.registerAction({type:g[h],update:"updateView"},f);d.registerAction({type:"treemapRootToNode",update:"updateView"},function(a,b){function c(b,c){var d=e.retrieveTargetInfo(a,b);if(d){var f=b.getViewRoot();f&&(a.direction=e.aboveViewRoot(f,d.node)?"rollUp":"drillDown"),b.resetViewRoot(d.node)}}b.eachComponent({mainType:"series",subType:"treemap",query:a},c)})},function(a,b,c){function d(a,b,c,h,j,l){var m=a.getModel(),o=a.getLayout();if(o&&!o.invisible&&o.isInView){var q,r=a.getModel(p),s=c[a.depth],t=e(r,b,s,h),u=r.get("borderColor"),v=r.get("borderColorSaturation");null!=v&&(q=f(t,a),u=g(v,q)),a.setVisual("borderColor",u);var w=a.viewChildren;if(w&&w.length){var x=i(a,m,o,r,t,w);n.each(w,function(a,b){if(a.depth>=j.length||a===j[a.depth]){var e=k(m,t,a,b,x,l);d(a,e,c,h,j,l)}})}else q=f(t,a),a.setVisual("color",q)}}function e(a,b,c,d){var e=n.extend({},b);return n.each(["color","colorAlpha","colorSaturation"],function(f){var g=a.get(f,!0);null==g&&c&&(g=c[f]),null==g&&(g=b[f]),null==g&&(g=d.get(f)),null!=g&&(e[f]=g)}),e}function f(a){var b=h(a,"color");if(b){var c=h(a,"colorAlpha"),d=h(a,"colorSaturation");return d&&(b=m.modifyHSL(b,null,null,d)),c&&(b=m.modifyAlpha(b,c)),b}}function g(a,b){return null!=b?m.modifyHSL(b,null,null,a):null}function h(a,b){var c=a[b];return null!=c&&"none"!==c?c:void 0}function i(a,b,c,d,e,f){if(f&&f.length){var g=j(b,"color")||null!=e.color&&"none"!==e.color&&(j(b,"colorAlpha")||j(b,"colorSaturation"));if(g){var h=b.get("visualMin"),i=b.get("visualMax"),k=c.dataExtent.slice();null!=h&&h<k[0]&&(k[0]=h),null!=i&&i>k[1]&&(k[1]=i);var m=b.get("colorMappingBy"),n={type:g.name,dataExtent:k,visual:g.range};"color"!==n.type||"index"!==m&&"id"!==m?n.mappingMethod="linear":(n.mappingMethod="category",n.loop=!0);var o=new l(n);return o.__drColorMappingBy=m,o}}}function j(a,b){var c=a.get(b);return o(c)&&c.length?{name:b,range:c}:null}function k(a,b,c,d,e,f){var g=n.extend({},b);if(e){var h=e.type,i="color"===h&&e.__drColorMappingBy,j="index"===i?d:"id"===i?f.mapIdToIndex(c.getId()):c.getValue(a.get("visualDimension"));g[h]=e.mapValueToVisual(j)}return g}var l=c(195),m=c(39),n=c(4),o=n.isArray,p="itemStyle.normal";a.exports=function(a,b,c){var e={mainType:"series",subType:"treemap",query:c};a.eachComponent(e,function(a){var b=a.getData().tree,c=b.root,e=a.getModel(p);if(!c.isRemoved()){var f=n.map(b.levelModels,function(a){return a?a.get(p):null});d(c,{},f,e,a.getViewRoot().getAncestors(),a)}})}},function(a,b,c){function d(a){var b=a.pieceList;a.hasSpecialVisual=!1,o.each(b,function(b,c){b.originIndex=c,null!=b.visual&&(a.hasSpecialVisual=!0)})}function e(a){var b=a.categories,c=a.visual,d=a.categoryMap={};if(r(b,function(a,b){d[a]=b}),!o.isArray(c)){var e=[];o.isObject(c)?r(c,function(a,b){var c=d[b];e[null!=c?c:t]=a}):e[t]=c,c=a.visual=e}for(var f=b.length-1;f>=0;f--)null==c[f]&&(delete d[b[f]],b.pop())}function f(a,b){var c=a.visual,d=[];o.isObject(c)?r(c,function(a){d.push(a)}):null!=c&&d.push(c);var e={color:1,symbol:1};b||1!==d.length||e.hasOwnProperty(a.type)||(d[1]=d[0]),a.visual=d}function g(a){return{applyVisual:function(b,c,d){b=this.mapValueToVisual(b),d("color",a(c("color"),b))},_doMap:l([0,1])}}function h(a){var b=this.option.visual;return b[Math.round(q(a,[0,1],[0,b.length-1],!0))]||{}}function i(a){return function(b,c,d){d(a,this.mapValueToVisual(b))}}function j(a){var b=this.option.visual;return b[this.option.loop&&a!==t?a%b.length:a]}function k(){return this.option.visual[0]}function l(a){return{linear:function(b){return q(b,a,this.option.visual,!0)},category:j,piecewise:function(b,c){var d=m.call(this,c);return null==d&&(d=q(b,a,this.option.visual,!0)),d},fixed:k}}function m(a){var b=this.option,c=b.pieceList;if(b.hasSpecialVisual){var d=u.findPieceIndex(a,c),e=c[d];if(e&&e.visual)return e.visual[this.type]}}function n(a,b,c){return a?c>=b:c>b}var o=c(4),p=c(39),q=c(7).linearMap,r=o.each,s=o.isObject,t=-1,u=function(a){var b=a.mappingMethod,c=a.type,g=this.option=o.clone(a);this.type=c,this.mappingMethod=b,this._normalizeData=w[b];var h=v[c];this.applyVisual=h.applyVisual,this.getColorMapper=h.getColorMapper,this._doMap=h._doMap[b],"piecewise"===b?(f(g),d(g)):"category"===b?g.categories?e(g):f(g,!0):(o.assert("linear"!==b||g.dataExtent),f(g))};u.prototype={constructor:u,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return o.bind(this._normalizeData,this)}};var v=u.visualHandlers={color:{applyVisual:i("color"),getColorMapper:function(){var a=this.option,b=o.map(a.visual,p.parse);return o.bind("category"===a.mappingMethod?function(a,b){return!b&&(a=this._normalizeData(a)),j.call(this,a)}:function(a,c,d){var e=!!d;return!c&&(a=this._normalizeData(a)),d=p.fastMapToColor(a,b,d),e?d:o.stringify(d,"rgba")},this)},_doMap:{linear:function(a){return p.mapToColor(a,this.option.visual)},category:j,piecewise:function(a,b){var c=m.call(this,b);return null==c&&(c=p.mapToColor(a,this.option.visual)),c},fixed:k}},colorHue:g(function(a,b){return p.modifyHSL(a,b)}),colorSaturation:g(function(a,b){return p.modifyHSL(a,null,b)}),colorLightness:g(function(a,b){return p.modifyHSL(a,null,null,b)}),colorAlpha:g(function(a,b){return p.modifyAlpha(a,b)}),opacity:{applyVisual:i("opacity"),_doMap:l([0,1])},symbol:{applyVisual:function(a,b,c){var d=this.mapValueToVisual(a);if(o.isString(d))c("symbol",d);else if(s(d))for(var e in d)d.hasOwnProperty(e)&&c(e,d[e])},_doMap:{linear:h,category:j,piecewise:function(a,b){var c=m.call(this,b);return null==c&&(c=h.call(this,a)),c},fixed:k}},symbolSize:{applyVisual:i("symbolSize"),_doMap:l([0,1])}},w={linear:function(a){return q(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList,c=u.findPieceIndex(a,b,!0);return null!=c?q(c,[0,b.length-1],[0,1],!0):void 0},category:function(a){var b=this.option.categories?this.option.categoryMap[a]:a;return null==b?t:b},fixed:o.noop};u.listVisualTypes=function(){var a=[];return o.each(v,function(b,c){a.push(c)}),a},u.addVisualHandler=function(a,b){v[a]=b},u.isValidType=function(a){return v.hasOwnProperty(a)},u.eachVisual=function(a,b,c){o.isObject(a)?o.each(a,b,c):b.call(c,a)},u.mapVisual=function(a,b,c){var d,e=o.isArray(a)?[]:o.isObject(a)?{}:(d=!0,null);return u.eachVisual(a,function(a,f){var g=b.call(c,a,f);d?e=g:e[f]=g}),e},u.retrieveVisuals=function(a){var b,c={};return a&&r(v,function(d,e){a.hasOwnProperty(e)&&(c[e]=a[e],b=!0)}),b?c:null},u.prepareVisualTypes=function(a){if(s(a)){var b=[];r(a,function(a,c){b.push(c)}),a=b}else{if(!o.isArray(a))return[];a=a.slice()}return a.sort(function(a,b){return"color"===b&&"color"!==a&&0===a.indexOf("color")?1:-1}),a},u.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b},u.findPieceIndex=function(a,b,c){function d(b,c){var d=Math.abs(b-a);f>d&&(f=d,e=c)}for(var e,f=1/0,g=0,h=b.length;h>g;g++){var i=b[g].value;if(null!=i){if(i===a)return g;c&&d(i,g)}}for(var g=0,h=b.length;h>g;g++){var j=b[g],k=j.interval,l=j.close;if(k){if(k[0]===-(1/0)){if(n(l[1],a,k[1]))return g}else if(k[1]===1/0){if(n(l[0],k[0],a))return g}else if(n(l[0],k[0],a)&&n(l[1],a,k[1]))return g;c&&d(k[0],g),c&&d(k[1],g)}}return c?a===1/0?b.length-1:a===-(1/0)?0:e:void 0},a.exports=u},function(a,b,c){function d(a,b,c){var d={mainType:"series",subType:"treemap",query:c};a.eachComponent(d,function(a){var d=b.getWidth(),f=b.getHeight(),g=a.option,h=q.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),i=g.size||[],j=v(w(h.width,i[0]),d),k=v(w(h.height,i[1]),f),p=c&&c.type,t=r.retrieveTargetInfo(c,a),u="treemapRender"===p||"treemapMove"===p?c.rootRect:null,y=a.getViewRoot(),z=r.getPathToRoot(y);if("treemapMove"!==p){var A="treemapZoomToNode"===p?l(a,t,y,j,k):u?[u.width,u.height]:[j,k],B=g.sort;B&&"asc"!==B&&"desc"!==B&&(B="desc");var C={squareRatio:g.squareRatio,sort:B,leafDepth:g.leafDepth};y.hostTree.clearLayouts();var D={x:0,y:0,width:A[0],height:A[1],area:A[0]*A[1]};y.setLayout(D),e(y,C,!1,0);var D=y.getLayout();x(z,function(a,b){var c=(z[b+1]||y).getValue();a.setLayout(o.extend({dataExtent:[c,c],borderWidth:0},D))})}var E=a.getData().tree.root;E.setLayout(m(h,u,t),!0),a.setLayoutInfo(h),n(E,new s(-h.x,-h.y,d,f),z,y,0)})}function e(a,b,c,d){var g,h;if(!a.isRemoved()){var i=a.getLayout();g=i.width,h=i.height;var l=a.getModel("itemStyle.normal"),m=l.get("borderWidth"),n=l.get("gapWidth")/2,o=m-n,p=a.getModel();a.setLayout({borderWidth:m},!0),g=t(g-2*o,0),h=t(h-2*o,0);var q=g*h,r=f(a,p,q,b,c,d);if(r.length){var s={x:o,y:o,width:g,height:h},v=u(g,h),w=1/0,x=[];x.area=0;for(var y=0,z=r.length;z>y;){var A=r[y];x.push(A),x.area+=A.getLayout().area;var B=j(x,v,b.squareRatio);w>=B?(y++,w=B):(x.area-=x.pop().getLayout().area,k(x,v,s,n,!1),v=u(s.width,s.height),x.length=x.area=0,w=1/0)}if(x.length&&k(x,v,s,n,!0),!c){var C=p.get("childrenVisibleMin");null!=C&&C>q&&(c=!0)}for(var y=0,z=r.length;z>y;y++)e(r[y],b,c,d+1)}}}function f(a,b,c,d,e,f){var j=a.children||[],k=d.sort;"asc"!==k&&"desc"!==k&&(k=null);var l=null!=d.leafDepth&&d.leafDepth<=f;if(e&&!l)return a.viewChildren=[];j=o.filter(j,function(a){return!a.isRemoved()}),h(j,k);var m=i(b,j,k);if(0===m.sum)return a.viewChildren=[];if(m.sum=g(b,c,m.sum,k,j),0===m.sum)return a.viewChildren=[];for(var n=0,p=j.length;p>n;n++){var q=j[n].getValue()/m.sum*c;j[n].setLayout({area:q})}return l&&(j.length&&a.setLayout({isLeafRoot:!0},!0),j.length=0),a.viewChildren=j,a.setLayout({dataExtent:m.dataExtent},!0),j}function g(a,b,c,d,e){if(!d)return c;for(var f=a.get("visibleMin"),g=e.length,h=g,i=g-1;i>=0;i--){var j=e["asc"===d?g-i-1:i].getValue();f>j/c*b&&(h=i,c-=j)}return"asc"===d?e.splice(0,g-h):e.splice(h,g-h),c}function h(a,b){return b&&a.sort(function(a,c){return"asc"===b?a.getValue()-c.getValue():c.getValue()-a.getValue()}),a}function i(a,b,c){for(var d=0,e=0,f=b.length;f>e;e++)d+=b[e].getValue();var g,h=a.get("visualDimension");if(b&&b.length)if("value"===h&&c)g=[b[b.length-1].getValue(),b[0].getValue()],"asc"===c&&g.reverse();else{var g=[1/0,-(1/0)];x(b,function(a){var b=a.getValue(h);b<g[0]&&(g[0]=b),b>g[1]&&(g[1]=b)})}else g=[NaN,NaN];return{sum:d,dataExtent:g}}function j(a,b,c){for(var d,e=0,f=1/0,g=0,h=a.length;h>g;g++)d=a[g].getLayout().area,d&&(f>d&&(f=d),d>e&&(e=d));var i=a.area*a.area,j=b*b*c;return i?t(j*e/i,i/(j*f)):1/0}function k(a,b,c,d,e){var f=b===c.width?0:1,g=1-f,h=["x","y"],i=["width","height"],j=c[h[f]],k=b?a.area/b:0;(e||k>c[i[g]])&&(k=c[i[g]]);for(var l=0,m=a.length;m>l;l++){var n=a[l],o={},p=k?n.getLayout().area/k:0,q=o[i[g]]=t(k-2*d,0),r=c[h[f]]+c[i[f]]-j,s=l===m-1||p>r?r:p,v=o[i[f]]=t(s-2*d,0);o[h[g]]=c[h[g]]+u(d,q/2),o[h[f]]=j+u(d,v/2),j+=s,n.setLayout(o,!0)}c[h[g]]+=k,c[i[g]]-=k}function l(a,b,c,d,e){var f=(b||{}).node,g=[d,e];if(!f||f===c)return g;for(var h,i=d*e,j=i*a.option.zoomToNodeRatio;h=f.parentNode;){for(var k=0,l=h.children,m=0,n=l.length;n>m;m++)k+=l[m].getValue();var o=f.getValue();if(0===o)return g;j*=k/o;var q=h.getModel("itemStyle.normal").get("borderWidth");isFinite(q)&&(j+=4*q*q+4*q*Math.pow(j,.5)),j>p.MAX_SAFE_INTEGER&&(j=p.MAX_SAFE_INTEGER),f=h}i>j&&(j=i);var r=Math.pow(j/i,.5);return[d*r,e*r]}function m(a,b,c){if(b)return{x:b.x,y:b.y};var d={x:0,y:0};if(!c)return d;var e=c.node,f=e.getLayout();if(!f)return d;for(var g=[f.width/2,f.height/2],h=e;h;){var i=h.getLayout();g[0]+=i.x,g[1]+=i.y,h=h.parentNode}return{x:a.width/2-g[0],y:a.height/2-g[1]}}function n(a,b,c,d,e){var f=a.getLayout(),g=c[e],h=g&&g===a;if(!(g&&!h||e===c.length&&a!==d)){a.setLayout({isInView:!0,invisible:!h&&!b.intersect(f),isAboveViewRoot:h},!0);var i=new s(b.x-f.x,b.y-f.y,b.width,b.height);x(a.viewChildren||[],function(a){n(a,i,c,d,e+1)})}}var o=c(4),p=c(7),q=c(21),r=c(189),s=c(9),r=c(189),t=Math.max,u=Math.min,v=p.parsePercent,w=o.retrieve,x=o.each;a.exports=d},function(a,b,c){var d=c(1),e=c(4);c(198),c(201),c(206),d.registerProcessor(c(207)),d.registerVisual(e.curry(c(110),"graph","circle",null)),d.registerVisual(c(208)),d.registerVisual(c(209)),d.registerLayout(c(210)),d.registerLayout(c(213)),d.registerLayout(c(215)),d.registerCoordinateSystem("graphView",{create:c(217)})},function(a,b,c){var d=c(98),e=c(4),f=c(5),g=c(12),h=c(6),i=c(199),j=c(1).extendSeriesModel({type:"series.graph",init:function(a){j.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeOption:function(a){j.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(a){j.superApply(this,"mergeDefaultAndTheme",arguments),f.defaultEmphasis(a.edgeLabel,f.LABEL_OPTIONS)},getInitialData:function(a,b){function c(a,c){function d(a){return a=this.parsePath(a),a&&"label"===a[0]?h:this.parentModel}a.wrapMethod("getItemModel",function(a){var b=f._categoriesModels,c=a.getShallow("category"),d=b[c];return d&&(d.parentModel=a.parentModel,a.parentModel=d),a});var e=f.getModel("edgeLabel"),h=new g({label:e.option},e.parentModel,b);c.wrapMethod("getItemModel",function(a){return a.customizeGetParent(d),a})}var d=a.edges||a.links||[],e=a.data||a.nodes||[],f=this;return e&&d?i(e,d,this,!0,c).data:void 0},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(a,b,c){if("edge"===c){var d=this.getData(),e=this.getDataParams(a,c),f=d.graph.getEdgeByIndex(a),g=d.getName(f.node1.dataIndex),i=d.getName(f.node2.dataIndex),k=[];return null!=g&&k.push(g),null!=i&&k.push(i),k=h.encodeHTML(k.join(" > ")),e.value&&(k+=" : "+h.encodeHTML(e.value)),k}return j.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var a=e.map(this.option.categories||[],function(a){return null!=a.value?a:e.extend({value:0},a)}),b=new d(["value"],this);b.initData(a),this._categoriesData=b,this._categoriesModels=b.mapArray(function(a){return b.getItemModel(a,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},isAnimationEnabled:function(){return j.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});a.exports=j},function(a,b,c){var d=c(98),e=c(200),f=c(188),g=c(103),h=c(26),i=c(4),j=c(102);a.exports=function(a,b,c,k,l){for(var m=new e(k),n=0;n<a.length;n++)m.addNode(i.retrieve(a[n].id,a[n].name,n),n);for(var o=[],p=[],q=0,n=0;n<b.length;n++){var r=b[n],s=r.source,t=r.target;m.addEdge(s,t,q)&&(p.push(r),o.push(i.retrieve(r.id,s+" > "+t)),q++)}var u,v=c.get("coordinateSystem");if("cartesian2d"===v||"polar"===v)u=j(a,c,c.ecModel);else{var w=h.get(v),x=g((w&&"view"!==w.type?w.dimensions||[]:[]).concat(["value"]),a);u=new d(x,c),u.initData(a)}var y=new d(["value"],c);return y.initData(p,o),l&&l(u,y),f({mainData:u,struct:m,structAttr:"graph",datas:{node:u,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),m.update(),m}},function(a,b,c){function d(a,b){this.id=null==a?"":a,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==b?-1:b}function e(a,b,c){this.node1=a,this.node2=b,this.dataIndex=null==c?-1:c}var f=c(4),g=function(a){this._directed=a||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},h=g.prototype;h.type="graph",h.isDirected=function(){return this._directed},h.addNode=function(a,b){a=a||""+b;var c=this._nodesMap;if(!c[a]){var e=new d(a,b);return e.hostGraph=this,this.nodes.push(e),c[a]=e,e}},h.getNodeByIndex=function(a){var b=this.data.getRawIndex(a);return this.nodes[b]},h.getNodeById=function(a){return this._nodesMap[a]},h.addEdge=function(a,b,c){var f=this._nodesMap,g=this._edgesMap;if("number"==typeof a&&(a=this.nodes[a]),"number"==typeof b&&(b=this.nodes[b]),a instanceof d||(a=f[a]),b instanceof d||(b=f[b]),a&&b){var h=a.id+"-"+b.id;if(!g[h]){var i=new e(a,b,c);return i.hostGraph=this,this._directed&&(a.outEdges.push(i),b.inEdges.push(i)),a.edges.push(i),a!==b&&b.edges.push(i),this.edges.push(i),g[h]=i,i}}},h.getEdgeByIndex=function(a){var b=this.edgeData.getRawIndex(a);return this.edges[b]},h.getEdge=function(a,b){a instanceof d&&(a=a.id),b instanceof d&&(b=b.id);var c=this._edgesMap;return this._directed?c[a+"-"+b]:c[a+"-"+b]||c[b+"-"+a]},h.eachNode=function(a,b){for(var c=this.nodes,d=c.length,e=0;d>e;e++)c[e].dataIndex>=0&&a.call(b,c[e],e)},h.eachEdge=function(a,b){for(var c=this.edges,d=c.length,e=0;d>e;e++)c[e].dataIndex>=0&&c[e].node1.dataIndex>=0&&c[e].node2.dataIndex>=0&&a.call(b,c[e],e)},h.breadthFirstTraverse=function(a,b,c,e){if(b instanceof d||(b=this._nodesMap[b]),b){for(var f="out"===c?"outEdges":"in"===c?"inEdges":"edges",g=0;g<this.nodes.length;g++)this.nodes[g].__visited=!1;if(!a.call(e,b,null))for(var h=[b];h.length;)for(var i=h.shift(),j=i[f],g=0;g<j.length;g++){var k=j[g],l=k.node1===i?k.node2:k.node1;if(!l.__visited){if(a.call(l,l,i))return;h.push(l),l.__visited=!0}}}},h.update=function(){for(var a=this.data,b=this.edgeData,c=this.nodes,d=this.edges,e=0,f=c.length;f>e;e++)c[e].dataIndex=-1;for(var e=0,f=a.count();f>e;e++)c[a.getRawIndex(e)].dataIndex=e;b.filterSelf(function(a){var c=d[b.getRawIndex(a)];return c.node1.dataIndex>=0&&c.node2.dataIndex>=0});for(var e=0,f=d.length;f>e;e++)d[e].dataIndex=-1;for(var e=0,f=b.count();f>e;e++)d[b.getRawIndex(e)].dataIndex=e},h.clone=function(){for(var a=new g(this._directed),b=this.nodes,c=this.edges,d=0;d<b.length;d++)a.addNode(b[d].id,b[d].dataIndex);for(var d=0;d<c.length;d++){var e=c[d];a.addEdge(e.node1.id,e.node2.id,e.dataIndex)}return a},d.prototype={constructor:d,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(this.dataIndex<0)){var b=this.hostGraph,c=b.data.getItemModel(this.dataIndex);return c.getModel(a)}}},e.prototype.getModel=function(a){if(!(this.dataIndex<0)){var b=this.hostGraph,c=b.edgeData.getItemModel(this.dataIndex);return c.getModel(a)}};var i=function(a,b){return{getValue:function(c){var d=this[a][b];return d.get(d.getDimension(c||"value"),this.dataIndex)},setVisual:function(c,d){this.dataIndex>=0&&this[a][b].setItemVisual(this.dataIndex,c,d)},getVisual:function(c,d){return this[a][b].getItemVisual(this.dataIndex,c,d)},setLayout:function(c,d){this.dataIndex>=0&&this[a][b].setItemLayout(this.dataIndex,c,d)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}};f.mixin(d,i("hostGraph","data")),f.mixin(e,i("hostGraph","edgeData")),g.Node=d,g.Edge=e,a.exports=g},function(a,b,c){function d(a,b){return a.getVisual("opacity")||a.getModel().get(b)}var e=c(105),f=c(202),g=c(177),h=c(43),i=c(205),j=c(4),k=["itemStyle","normal","opacity"],l=["lineStyle","normal","opacity"];c(1).extendChartView({type:"graph",init:function(a,b){var c=new e,d=new f,h=this.group,i=new g(b.getZr(),h);h.add(c.group),h.add(d.group),this._symbolDraw=c,this._lineDraw=d,this._controller=i,this._firstRender=!0},render:function(a,b,c){var d=a.coordinateSystem;this._model=a,this._nodeScaleRatio=a.get("nodeScaleRatio");var e=this._symbolDraw,f=this._lineDraw,g=this.group;if("view"===d.type){var j={position:d.position,scale:d.scale};this._firstRender?g.attr(j):h.updateProps(g,j,a)}i(a.getGraph(),this._getNodeGlobalScale(a));var k=a.getData();e.updateData(k);var l=a.getEdgeData();f.updateData(l),this._updateNodeAndLinkScale(),this._updateController(a,c),clearTimeout(this._layoutTimeout);var m=a.forceLayout,n=a.get("force.layoutAnimation");m&&this._startForceLayoutIteration(m,n),k.eachItemGraphicEl(function(b,d){var e=k.getItemModel(d);b.off("drag").off("dragend");var f=k.getItemModel(d).get("draggable");f&&b.on("drag",function(){m&&(m.warmUp(),!this._layouting&&this._startForceLayoutIteration(m,n),m.setFixed(d),k.setItemLayout(d,b.position))},this).on("dragend",function(){m&&m.setUnfixed(d)},this),b.setDraggable(f&&m),b.off("mouseover",b.__focusNodeAdjacency),b.off("mouseout",b.__unfocusNodeAdjacency),e.get("focusNodeAdjacency")&&(b.on("mouseover",b.__focusNodeAdjacency=function(){c.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,dataIndex:b.dataIndex})}),b.on("mouseout",b.__unfocusNodeAdjacency=function(){c.dispatchAction({type:"unfocusNodeAdjacency",seriesId:a.id})}))},this);var o="circular"===a.get("layout")&&a.get("circular.rotateLabel"),p=k.getLayout("cx"),q=k.getLayout("cy");k.eachItemGraphicEl(function(a,b){var c=a.getSymbolPath();if(o){var d=k.getItemLayout(b),e=Math.atan2(d[1]-q,d[0]-p);0>e&&(e=2*Math.PI+e);var f=d[0]<p;f&&(e-=Math.PI);var g=f?"left":"right";c.setStyle({textRotation:e,textPosition:g}),c.hoverStyle&&(c.hoverStyle.textPosition=g)}else c.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose()},focusNodeAdjacency:function(a,b,c,e){function f(a,b){var c=d(a,b),e=a.getGraphicEl();null==c&&(c=1),e.traverse(function(a){a.trigger("normal"),"group"!==a.type&&a.setStyle("opacity",.1*c)})}function g(a,b){var c=d(a,b),e=a.getGraphicEl();e.traverse(function(a){a.trigger("emphasis"),"group"!==a.type&&a.setStyle("opacity",c)})}var h=this._model.getData(),i=e.dataIndex,m=h.getItemGraphicEl(i);if(m){var n=h.graph,o=m.dataType;if(null!==i&&"edge"!==o){n.eachNode(function(a){f(a,k)}),n.eachEdge(function(a){f(a,l)});var p=n.getNodeByIndex(i);g(p,k),j.each(p.edges,function(a){a.dataIndex<0||(g(a,l),g(a.node1,k),g(a.node2,k))})}}},unfocusNodeAdjacency:function(a,b,c,e){var f=this._model.getData().graph;f.eachNode(function(a){var b=d(a,k);a.getGraphicEl().traverse(function(a){a.trigger("normal"),"group"!==a.type&&a.setStyle("opacity",b)})}),f.eachEdge(function(a){var b=d(a,l);a.getGraphicEl().traverse(function(a){a.trigger("normal"),"group"!==a.type&&a.setStyle("opacity",b)})})},_startForceLayoutIteration:function(a,b){var c=this;!function d(){a.step(function(a){c.updateLayout(c._model),(c._layouting=!a)&&(b?c._layoutTimeout=setTimeout(d,16):d())})}()},_updateController:function(a,b){var c=this._controller,d=this.group;return c.setContainsPoint(function(a,b){var c=d.getBoundingRect();return c.applyTransform(d.transform),c.contain(a,b)}),"view"!==a.coordinateSystem.type?void c.disable():(c.enable(a.get("roam")),c.zoomLimit=a.get("scaleLimit"),c.zoom=a.coordinateSystem.getZoom(),void c.off("pan").off("zoom").on("pan",function(c,d){b.dispatchAction({seriesId:a.id,type:"graphRoam",dx:c,dy:d})}).on("zoom",function(c,d,e){b.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:c,originX:d,originY:e}),this._updateNodeAndLinkScale(),i(a.getGraph(),this._getNodeGlobalScale(a)),this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var a=this._model,b=a.getData(),c=this._getNodeGlobalScale(a),d=[c,c];b.eachItemGraphicEl(function(a,b){a.attr("scale",d)})},_getNodeGlobalScale:function(a){var b=a.coordinateSystem;if("view"!==b.type)return 1;var c=this._nodeScaleRatio,d=b.scale,e=d&&d[0]||1,f=b.getZoom(),g=(f-1)*c+1;return g/e},updateLayout:function(a){i(a.getGraph(),this._getNodeGlobalScale(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}})},function(a,b,c){function d(a){return isNaN(a[0])||isNaN(a[1])}function e(a){return!d(a[0])&&!d(a[1])}function f(a){this._ctor=a||h,this.group=new g.Group}var g=c(43),h=c(203),i=f.prototype;i.updateData=function(a){var b=this._lineData,c=this.group,d=this._ctor,f=a.hostModel,g={lineStyle:f.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:f.getModel("lineStyle.emphasis").getLineStyle(),labelModel:f.getModel("label.normal"),hoverLabelModel:f.getModel("label.emphasis")};a.diff(b).add(function(b){if(e(a.getItemLayout(b))){var f=new d(a,b,g);a.setItemGraphicEl(b,f),c.add(f)}}).update(function(f,h){var i=b.getItemGraphicEl(h);return e(a.getItemLayout(f))?(i?i.updateData(a,f,g):i=new d(a,f,g),a.setItemGraphicEl(f,i),void c.add(i)):void c.remove(i);
}).remove(function(a){c.remove(b.getItemGraphicEl(a))}).execute(),this._lineData=a},i.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)},i.remove=function(){this.group.removeAll()},a.exports=f},function(a,b,c){function d(a){return"_"+a+"Type"}function e(a,b,c){var d=b.getItemVisual(c,"color"),e=b.getItemVisual(c,a),f=b.getItemVisual(c,a+"Size");if(e&&"none"!==e){n.isArray(f)||(f=[f,f]);var g=j.createSymbol(e,-f[0]/2,-f[1]/2,f[0],f[1],d);return g.name=a,g}}function f(a){var b=new l({name:"line"});return g(b.shape,a),b}function g(a,b){var c=b[0],d=b[1],e=b[2];a.x1=c[0],a.y1=c[1],a.x2=d[0],a.y2=d[1],a.percent=1,e?(a.cpx1=e[0],a.cpy1=e[1]):(a.cpx1=NaN,a.cpy1=NaN)}function h(){var a=this,b=a.childOfName("fromSymbol"),c=a.childOfName("toSymbol"),d=a.childOfName("label");if(b||c||!d.ignore){for(var e=1,f=this.parent;f;)f.scale&&(e/=f.scale[0]),f=f.parent;var g=a.childOfName("line");if(this.__dirty||g.__dirty){var h=g.shape.percent,i=g.pointAt(0),j=g.pointAt(h),l=k.sub([],j,i);if(k.normalize(l,l),b){b.attr("position",i);var m=g.tangentAt(0);b.attr("rotation",Math.PI/2-Math.atan2(m[1],m[0])),b.attr("scale",[e*h,e*h])}if(c){c.attr("position",j);var m=g.tangentAt(1);c.attr("rotation",-Math.PI/2-Math.atan2(m[1],m[0])),c.attr("scale",[e*h,e*h])}if(!d.ignore){d.attr("position",j);var n,o,p,q=5*e;if("end"===d.__position)n=[l[0]*q+j[0],l[1]*q+j[1]],o=l[0]>.8?"left":l[0]<-.8?"right":"center",p=l[1]>.8?"top":l[1]<-.8?"bottom":"middle";else if("middle"===d.__position){var r=h/2,m=g.tangentAt(r),s=[m[1],-m[0]],t=g.pointAt(r);s[1]>0&&(s[0]=-s[0],s[1]=-s[1]),n=[t[0]+s[0]*q,t[1]+s[1]*q],o="center",p="bottom";var u=-Math.atan2(m[1],m[0]);j[0]<i[0]&&(u=Math.PI+u),d.attr("rotation",u)}else n=[-l[0]*q+i[0],-l[1]*q+i[1]],o=l[0]>.8?"right":l[0]<-.8?"left":"center",p=l[1]>.8?"bottom":l[1]<-.8?"top":"middle";d.attr({style:{textVerticalAlign:d.__verticalAlign||p,textAlign:d.__textAlign||o},position:n,scale:[e,e]})}}}}function i(a,b,c){m.Group.call(this),this._createLine(a,b,c)}var j=c(107),k=c(10),l=c(204),m=c(43),n=c(4),o=c(7),p=["fromSymbol","toSymbol"],q=i.prototype;q.beforeUpdate=h,q._createLine=function(a,b,c){var g=a.hostModel,h=a.getItemLayout(b),i=f(h);i.shape.percent=0,m.initProps(i,{shape:{percent:1}},g,b),this.add(i);var j=new m.Text({name:"label"});this.add(j),n.each(p,function(c){var f=e(c,a,b);this.add(f),this[d(c)]=a.getItemVisual(b,c)},this),this._updateCommonStl(a,b,c)},q.updateData=function(a,b,c){var f=a.hostModel,h=this.childOfName("line"),i=a.getItemLayout(b),j={shape:{}};g(j.shape,i),m.updateProps(h,j,f,b),n.each(p,function(c){var f=a.getItemVisual(b,c),g=d(c);if(this[g]!==f){this.remove(this.childOfName(c));var h=e(c,a,b);this.add(h)}this[g]=f},this),this._updateCommonStl(a,b,c)},q._updateCommonStl=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=c&&c.lineStyle,g=c&&c.hoverLineStyle,h=c&&c.labelModel,i=c&&c.hoverLabelModel;if(!c||a.hasItemOption){var j=a.getItemModel(b);f=j.getModel("lineStyle.normal").getLineStyle(),g=j.getModel("lineStyle.emphasis").getLineStyle(),h=j.getModel("label.normal"),i=j.getModel("label.emphasis")}var k=a.getItemVisual(b,"color"),l=n.retrieve(a.getItemVisual(b,"opacity"),f.opacity,1);e.useStyle(n.defaults({strokeNoScale:!0,fill:"none",stroke:k,opacity:l},f)),e.hoverStyle=g,n.each(p,function(a){var b=this.childOfName(a);b&&(b.setColor(k),b.setStyle({opacity:l}))},this);var q,r,s=h.getShallow("show"),t=i.getShallow("show"),u=this.childOfName("label");if(s||t){var v=d.getRawValue(b);r=null==v?r=a.getName(b):isFinite(v)?o.round(v):v,q=k||"#000"}if(s){var w=h.getModel("textStyle");u.setStyle({text:n.retrieve(d.getFormattedLabel(b,"normal",a.dataType),r),textFont:w.getFont(),fill:w.getTextColor()||q}),u.__textAlign=w.get("align"),u.__verticalAlign=w.get("baseline"),u.__position=h.get("position")}else u.setStyle("text","");if(t){var x=i.getModel("textStyle");u.hoverStyle={text:n.retrieve(d.getFormattedLabel(b,"emphasis",a.dataType),r),textFont:x.getFont(),fill:x.getTextColor()||q}}else u.hoverStyle={text:""};u.ignore=!s&&!t,m.setHoverStyle(this)},q.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))},q.setLinePoints=function(a){var b=this.childOfName("line");g(b.shape,a),b.dirty()},n.inherits(i,m.Group),a.exports=i},function(a,b,c){function d(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}var e=c(43),f=c(10),g=e.Line.prototype,h=e.BezierCurve.prototype;a.exports=e.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,b){(d(b)?g:h).buildPath(a,b)},pointAt:function(a){return d(this.shape)?g.pointAt.call(this,a):h.pointAt.call(this,a)},tangentAt:function(a){var b=this.shape,c=d(b)?[b.x2-b.x1,b.y2-b.y1]:h.tangentAt.call(this,a);return f.normalize(c,c)}})},function(a,b,c){function d(a,b,c){for(var d,e=a[0],f=a[1],m=a[2],n=1/0,o=c*c,p=.1,q=.1;.9>=q;q+=.1){g[0]=j(e[0],f[0],m[0],q),g[1]=j(e[1],f[1],m[1],q);var r=l(k(g,b)-o);n>r&&(n=r,d=q)}for(var s=0;32>s;s++){var t=d+p;h[0]=j(e[0],f[0],m[0],d),h[1]=j(e[1],f[1],m[1],d),i[0]=j(e[0],f[0],m[0],t),i[1]=j(e[1],f[1],m[1],t);var r=k(h,b)-o;if(l(r)<.01)break;var u=k(i,b)-o;p/=2,0>r?u>=0?d+=p:d-=p:u>=0?d-=p:d+=p}return d}var e=c(50),f=c(10),g=[],h=[],i=[],j=e.quadraticAt,k=f.distSquare,l=Math.abs;a.exports=function(a,b){function c(a){var b=a.getVisual("symbolSize");return b instanceof Array&&(b=(b[0]+b[1])/2),b}var g=[],h=e.quadraticSubdivide,i=[[],[],[]],j=[[],[]],k=[];b/=2,a.eachEdge(function(a,e){var l=a.getLayout(),m=a.getVisual("fromSymbol"),n=a.getVisual("toSymbol");l.__original||(l.__original=[f.clone(l[0]),f.clone(l[1])],l[2]&&l.__original.push(f.clone(l[2])));var o=l.__original;if(null!=l[2]){if(f.copy(i[0],o[0]),f.copy(i[1],o[2]),f.copy(i[2],o[1]),m&&"none"!=m){var p=c(a.node1),q=d(i,o[0],p*b);h(i[0][0],i[1][0],i[2][0],q,g),i[0][0]=g[3],i[1][0]=g[4],h(i[0][1],i[1][1],i[2][1],q,g),i[0][1]=g[3],i[1][1]=g[4]}if(n&&"none"!=n){var p=c(a.node2),q=d(i,o[1],p*b);h(i[0][0],i[1][0],i[2][0],q,g),i[1][0]=g[1],i[2][0]=g[2],h(i[0][1],i[1][1],i[2][1],q,g),i[1][1]=g[1],i[2][1]=g[2]}f.copy(l[0],i[0]),f.copy(l[1],i[2]),f.copy(l[2],i[1])}else{if(f.copy(j[0],o[0]),f.copy(j[1],o[1]),f.sub(k,j[1],j[0]),f.normalize(k,k),m&&"none"!=m){var p=c(a.node1);f.scaleAndAdd(j[0],j[0],k,p*b)}if(n&&"none"!=n){var p=c(a.node2);f.scaleAndAdd(j[1],j[1],k,-p*b)}f.copy(l[0],j[0]),f.copy(l[1],j[1])}})}},function(a,b,c){var d=c(1),e=c(180),f={type:"graphRoam",event:"graphRoam",update:"none"};d.registerAction(f,function(a,b){b.eachComponent({mainType:"series",query:a},function(b){var c=b.coordinateSystem,d=e.updateCenterAndZoom(c,a);b.setCenter&&b.setCenter(d.center),b.setZoom&&b.setZoom(d.zoom)})}),d.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),d.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){})},function(a,b){a.exports=function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),d=a.getGraph(),e=d.data,f=c.mapArray(c.getName);e.filterSelf(function(a){var c=e.getItemModel(a),d=c.getShallow("category");if(null!=d){"number"==typeof d&&(d=f[d]);for(var g=0;g<b.length;g++)if(!b[g].isSelected(d))return!1}return!0})},this)}},function(a,b){a.exports=function(a){var b={};a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),d=a.getData(),e={};c.each(function(d){var f=c.getName(d);e[f]=d;var g=c.getItemModel(d),h=g.get("itemStyle.normal.color")||a.getColorFromPalette(f,b);c.setItemVisual(d,"color",h)}),c.count()&&d.each(function(a){var b=d.getItemModel(a),f=b.getShallow("category");null!=f&&("string"==typeof f&&(f=e[f]),d.getItemVisual(a,"color",!0)||d.setItemVisual(a,"color",c.getItemVisual(f,"color")))})})}},function(a,b){function c(a){return a instanceof Array||(a=[a,a]),a}a.exports=function(a){a.eachSeriesByType("graph",function(a){var b=a.getGraph(),d=a.getEdgeData(),e=c(a.get("edgeSymbol")),f=c(a.get("edgeSymbolSize")),g="lineStyle.normal.color".split("."),h="lineStyle.normal.opacity".split(".");d.setVisual("fromSymbol",e&&e[0]),d.setVisual("toSymbol",e&&e[1]),d.setVisual("fromSymbolSize",f&&f[0]),d.setVisual("toSymbolSize",f&&f[1]),d.setVisual("color",a.get(g)),d.setVisual("opacity",a.get(h)),d.each(function(a){var e=d.getItemModel(a),f=b.getEdgeByIndex(a),i=c(e.getShallow("symbol",!0)),j=c(e.getShallow("symbolSize",!0)),k=e.get(g),l=e.get(h);switch(k){case"source":k=f.node1.getVisual("color");break;case"target":k=f.node2.getVisual("color")}i[0]&&f.setVisual("fromSymbol",i[0]),i[1]&&f.setVisual("toSymbol",i[1]),j[0]&&f.setVisual("fromSymbolSize",j[0]),j[1]&&f.setVisual("toSymbolSize",j[1]),f.setVisual("color",k),f.setVisual("opacity",l)})})}},function(a,b,c){var d=c(211),e=c(212);a.exports=function(a,b){a.eachSeriesByType("graph",function(a){var b=a.get("layout"),c=a.coordinateSystem;if(c&&"view"!==c.type){var f=a.getData();f.each(c.dimensions,function(a,b,d){isNaN(a)||isNaN(b)?f.setItemLayout(d,[NaN,NaN]):f.setItemLayout(d,c.dataToPoint([a,b]))}),e(f.graph)}else b&&"none"!==b||d(a)})}},function(a,b,c){var d=c(212);a.exports=function(a){var b=a.coordinateSystem;if(!b||"view"===b.type){var c=a.getGraph();c.eachNode(function(a){var b=a.getModel();a.setLayout([+b.get("x"),+b.get("y")])}),d(c)}}},function(a,b,c){var d=c(10);a.exports=function(a){a.eachEdge(function(a){var b=a.getModel().get("lineStyle.normal.curveness")||0,c=d.clone(a.node1.getLayout()),e=d.clone(a.node2.getLayout()),f=[c,e];+b&&f.push([(c[0]+e[0])/2-(c[1]-e[1])*b,(c[1]+e[1])/2-(e[0]-c[0])*b]),a.setLayout(f)})}},function(a,b,c){var d=c(214);a.exports=function(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&d(a)})}},function(a,b,c){var d=c(10);a.exports=function(a){var b=a.coordinateSystem;if(!b||"view"===b.type){var c=b.getBoundingRect(),e=a.getData(),f=e.graph,g=0,h=e.getSum("value"),i=2*Math.PI/(h||e.count()),j=c.width/2+c.x,k=c.height/2+c.y,l=Math.min(c.width,c.height)/2;f.eachNode(function(a){var b=a.getValue("value");g+=i*(h?b:1)/2,a.setLayout([l*Math.cos(g)+j,l*Math.sin(g)+k]),g+=i*(h?b:1)/2}),e.setLayout({cx:j,cy:k}),f.eachEdge(function(a){var b,c=a.getModel().get("lineStyle.normal.curveness")||0,e=d.clone(a.node1.getLayout()),f=d.clone(a.node2.getLayout()),g=(e[0]+f[0])/2,h=(e[1]+f[1])/2;+c&&(c*=3,b=[j*c+g*(1-c),k*c+h*(1-c)]),a.setLayout([e,f,b])})}}},function(a,b,c){var d=c(216),e=c(7),f=c(211),g=c(214),h=c(10),i=c(4);a.exports=function(a){a.eachSeriesByType("graph",function(a){var b=a.coordinateSystem;if(!b||"view"===b.type)if("force"===a.get("layout")){var c=a.preservedPoints||{},j=a.getGraph(),k=j.data,l=j.edgeData,m=a.getModel("force"),n=m.get("initLayout");a.preservedPoints?k.each(function(a){var b=k.getId(a);k.setItemLayout(a,c[b]||[NaN,NaN])}):n&&"none"!==n?"circular"===n&&g(a):f(a);var o=k.getDataExtent("value"),p=l.getDataExtent("value"),q=m.get("repulsion"),r=m.get("edgeLength");i.isArray(q)||(q=[q,q]),i.isArray(r)||(r=[r,r]),r=[r[1],r[0]];var s=k.mapArray("value",function(a,b){var c=k.getItemLayout(b),d=e.linearMap(a,o,q);return isNaN(d)&&(d=(q[0]+q[1])/2),{w:d,rep:d,p:!c||isNaN(c[0])||isNaN(c[1])?null:c}}),t=l.mapArray("value",function(a,b){var c=j.getEdgeByIndex(b),d=e.linearMap(a,p,r);return isNaN(d)&&(d=(r[0]+r[1])/2),{n1:s[c.node1.dataIndex],n2:s[c.node2.dataIndex],d:d,curveness:c.getModel().get("lineStyle.normal.curveness")||0}}),b=a.coordinateSystem,u=b.getBoundingRect(),v=d(s,t,{rect:u,gravity:m.get("gravity")}),w=v.step;v.step=function(a){for(var b=0,d=s.length;d>b;b++)s[b].fixed&&h.copy(s[b].p,j.getNodeByIndex(b).getLayout());w(function(b,d,e){for(var f=0,g=b.length;g>f;f++)b[f].fixed||j.getNodeByIndex(f).setLayout(b[f].p),c[k.getId(f)]=b[f].p;for(var f=0,g=d.length;g>f;f++){var i=d[f],l=j.getEdgeByIndex(f),m=i.n1.p,n=i.n2.p,o=l.getLayout();o=o?o.slice():[],o[0]=o[0]||[],o[1]=o[1]||[],h.copy(o[0],m),h.copy(o[1],n),+i.curveness&&(o[2]=[(m[0]+n[0])/2-(m[1]-n[1])*i.curveness,(m[1]+n[1])/2-(n[0]-m[0])*i.curveness]),l.setLayout(o)}a&&a(e)})},a.forceLayout=v,a.preservedPoints=c,v.step()}else a.forceLayout=null})}},function(a,b,c){var d=c(10),e=d.scaleAndAdd;a.exports=function(a,b,c){for(var f=c.rect,g=f.width,h=f.height,i=[f.x+g/2,f.y+h/2],j=null==c.gravity?.1:c.gravity,k=0;k<a.length;k++){var l=a[k];l.p||(l.p=d.create(g*(Math.random()-.5)+i[0],h*(Math.random()-.5)+i[1])),l.pp=d.clone(l.p),l.edges=null}var m=.6;return{warmUp:function(){m=.5},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},step:function(c){for(var f=[],g=a.length,h=0;h<b.length;h++){var k=b[h],l=k.n1,n=k.n2;d.sub(f,n.p,l.p);var o=d.len(f)-k.d,p=n.w/(l.w+n.w);d.normalize(f,f),!l.fixed&&e(l.p,l.p,f,p*o*m),!n.fixed&&e(n.p,n.p,f,-(1-p)*o*m)}for(var h=0;g>h;h++){var q=a[h];q.fixed||(d.sub(f,i,q.p),d.scaleAndAdd(q.p,q.p,f,j*m))}for(var h=0;g>h;h++)for(var l=a[h],r=h+1;g>r;r++){var n=a[r];d.sub(f,n.p,l.p);var o=d.len(f);0===o&&(d.set(f,Math.random()-.5,Math.random()-.5),o=1);var s=(l.rep+n.rep)/o/o;!l.fixed&&e(l.pp,l.pp,f,s),!n.fixed&&e(n.pp,n.pp,f,-s)}for(var t=[],h=0;g>h;h++){var q=a[h];q.fixed||(d.sub(t,q.p,q.pp),d.scaleAndAdd(q.p,q.p,t,m),d.copy(q.pp,q.p))}m=.992*m,c&&c(a,b,.01>m)}}}},function(a,b,c){function d(a,b,c){var d=a.getBoxLayoutParams();return d.aspect=c,f.getLayoutRect(d,{width:b.getWidth(),height:b.getHeight()})}var e=c(171),f=c(21),g=c(51);a.exports=function(a,b){var c=[];return a.eachSeriesByType("graph",function(a){var f=a.get("coordinateSystem");if(!f||"view"===f){var h=a.getData(),i=h.mapArray(function(a){var b=h.getItemModel(a);return[+b.get("x"),+b.get("y")]}),j=[],k=[];g.fromPoints(i,j,k),k[0]-j[0]===0&&(k[0]+=1,j[0]-=1),k[1]-j[1]===0&&(k[1]+=1,j[1]-=1);var l=(k[0]-j[0])/(k[1]-j[1]),m=d(a,b,l);isNaN(l)&&(j=[m.x,m.y],k=[m.x+m.width,m.y+m.height]);var n=k[0]-j[0],o=k[1]-j[1],p=m.width,q=m.height,r=a.coordinateSystem=new e;r.zoomLimit=a.get("scaleLimit"),r.setBoundingRect(j[0],j[1],n,o),r.setViewRect(m.x,m.y,p,q),r.setCenter(a.get("center")),r.setZoom(a.get("zoom")),c.push(r)}}),c}},function(a,b,c){c(219),c(220)},function(a,b,c){var d=c(98),e=c(28),f=c(4),g=e.extend({type:"series.gauge",getInitialData:function(a,b){var c=new d(["value"],this),e=a.data||[];return f.isArray(e)||(e=[e]),c.initData(e),c},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});a.exports=g},function(a,b,c){function d(a,b){var c=a.get("center"),d=b.getWidth(),e=b.getHeight(),f=Math.min(d,e),g=i(c[0],b.getWidth()),h=i(c[1],b.getHeight()),j=i(a.get("radius"),f/2);return{cx:g,cy:h,r:j}}function e(a,b){return b&&("string"==typeof b?a=b.replace("{value}",null!=a?a:""):"function"==typeof b&&(a=b(a))),a}var f=c(221),g=c(43),h=c(7),i=h.parsePercent,j=2*Math.PI,k=c(42).extend({type:"gauge",render:function(a,b,c){this.group.removeAll();var e=a.get("axisLine.lineStyle.color"),f=d(a,c);this._renderMain(a,b,c,e,f)},dispose:function(){},_renderMain:function(a,b,c,d,e){for(var f=this.group,h=a.getModel("axisLine"),i=h.getModel("lineStyle"),k=a.get("clockwise"),l=-a.get("startAngle")/180*Math.PI,m=-a.get("endAngle")/180*Math.PI,n=(m-l)%j,o=l,p=i.get("width"),q=0;q<d.length;q++){var r=Math.min(Math.max(d[q][0],0),1),m=l+n*r,s=new g.Sector({shape:{startAngle:o,endAngle:m,cx:e.cx,cy:e.cy,clockwise:k,r0:e.r-p,r:e.r},silent:!0});s.setStyle({fill:d[q][1]}),s.setStyle(i.getLineStyle(["color","borderWidth","borderColor"])),f.add(s),o=m}var t=function(a){if(0>=a)return d[0][1];for(var b=0;b<d.length;b++)if(d[b][0]>=a&&(0===b?0:d[b-1][0])<a)return d[b][1];return d[b-1][1]};if(!k){var u=l;l=m,m=u}this._renderTicks(a,b,c,t,e,l,m,k),this._renderPointer(a,b,c,t,e,l,m,k),this._renderTitle(a,b,c,t,e),this._renderDetail(a,b,c,t,e)},_renderTicks:function(a,b,c,d,f,j,k,l){for(var m=this.group,n=f.cx,o=f.cy,p=f.r,q=+a.get("min"),r=+a.get("max"),s=a.getModel("splitLine"),t=a.getModel("axisTick"),u=a.getModel("axisLabel"),v=a.get("splitNumber"),w=t.get("splitNumber"),x=i(s.get("length"),p),y=i(t.get("length"),p),z=j,A=(k-j)/v,B=A/w,C=s.getModel("lineStyle").getLineStyle(),D=t.getModel("lineStyle").getLineStyle(),E=u.getModel("textStyle"),F=0;v>=F;F++){var G=Math.cos(z),H=Math.sin(z);if(s.get("show")){var I=new g.Line({shape:{x1:G*p+n,y1:H*p+o,x2:G*(p-x)+n,y2:H*(p-x)+o},style:C,silent:!0});"auto"===C.stroke&&I.setStyle({stroke:d(F/v)}),m.add(I)}if(u.get("show")){var J=e(h.round(F/v*(r-q)+q),u.get("formatter")),K=u.get("distance"),L=new g.Text({style:{text:J,x:G*(p-x-K)+n,y:H*(p-x-K)+o,fill:E.getTextColor(),textFont:E.getFont(),textVerticalAlign:-.4>H?"top":H>.4?"bottom":"middle",textAlign:-.4>G?"left":G>.4?"right":"center"},silent:!0});"auto"===L.style.fill&&L.setStyle({fill:d(F/v)}),m.add(L)}if(t.get("show")&&F!==v){for(var M=0;w>=M;M++){var G=Math.cos(z),H=Math.sin(z),N=new g.Line({shape:{x1:G*p+n,y1:H*p+o,x2:G*(p-y)+n,y2:H*(p-y)+o},silent:!0,style:D});"auto"===D.stroke&&N.setStyle({stroke:d((F+M/w)/v)}),m.add(N),z+=B}z-=B}else z+=A}},_renderPointer:function(a,b,c,d,e,j,k,l){var m=this.group,n=this._data;if(!a.get("pointer.show"))return void n.eachItemGraphicEl(function(a){m.remove(a)});var o=[+a.get("min"),+a.get("max")],p=[j,k],q=a.getData();q.diff(n).add(function(b){var c=new f({shape:{angle:j}});g.updateProps(c,{shape:{angle:h.linearMap(q.get("value",b),o,p,!0)}},a),m.add(c),q.setItemGraphicEl(b,c)}).update(function(b,c){var d=n.getItemGraphicEl(c);g.updateProps(d,{shape:{angle:h.linearMap(q.get("value",b),o,p,!0)}},a),m.add(d),q.setItemGraphicEl(b,d)}).remove(function(a){var b=n.getItemGraphicEl(a);m.remove(b)}).execute(),q.eachItemGraphicEl(function(a,b){var c=q.getItemModel(b),f=c.getModel("pointer");a.setShape({x:e.cx,y:e.cy,width:i(f.get("width"),e.r),r:i(f.get("length"),e.r)}),a.useStyle(c.getModel("itemStyle.normal").getItemStyle()),"auto"===a.style.fill&&a.setStyle("fill",d((q.get("value",b)-o[0])/(o[1]-o[0]))),g.setHoverStyle(a,c.getModel("itemStyle.emphasis").getItemStyle())}),this._data=q},_renderTitle:function(a,b,c,d,e){var f=a.getModel("title");if(f.get("show")){var h=f.getModel("textStyle"),j=f.get("offsetCenter"),k=e.cx+i(j[0],e.r),l=e.cy+i(j[1],e.r),m=new g.Text({style:{x:k,y:l,text:a.getData().getName(0),fill:h.getTextColor(),textFont:h.getFont(),textAlign:"center",textVerticalAlign:"middle"}});this.group.add(m)}},_renderDetail:function(a,b,c,d,f){var j=a.getModel("detail"),k=+a.get("min"),l=+a.get("max");if(j.get("show")){var m=j.getModel("textStyle"),n=j.get("offsetCenter"),o=f.cx+i(n[0],f.r),p=f.cy+i(n[1],f.r),q=i(j.get("width"),f.r),r=i(j.get("height"),f.r),s=a.getData().get("value",0),t=new g.Rect({shape:{x:o-q/2,y:p-r/2,width:q,height:r},style:{text:e(s,j.get("formatter")),fill:j.get("backgroundColor"),textFill:m.getTextColor(),textFont:m.getFont()}});"auto"===t.style.textFill&&t.setStyle("textFill",d(h.linearMap(s,[k,l],[0,1],!0))),t.setStyle(j.getItemStyle(["color"])),this.group.add(t)}}});a.exports=k},function(a,b,c){a.exports=c(45).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(a,b){var c=Math.cos,d=Math.sin,e=b.r,f=b.width,g=b.angle,h=b.x-c(g)*f*(f>=e/3?1:2),i=b.y-d(g)*f*(f>=e/3?1:2);g=b.angle-Math.PI/2,a.moveTo(h,i),a.lineTo(b.x+c(g)*f,b.y+d(g)*f),a.lineTo(b.x+c(b.angle)*e,b.y+d(b.angle)*e),a.lineTo(b.x-c(g)*f,b.y-d(g)*f),a.lineTo(h,i)}})},function(a,b,c){var d=c(4),e=c(1);c(223),c(224),e.registerVisual(d.curry(c(146),"funnel")),e.registerLayout(c(225)),e.registerProcessor(d.curry(c(149),"funnel"))},function(a,b,c){var d=c(98),e=c(5),f=c(103),g=c(1).extendSeriesModel({type:"series.funnel",init:function(a){g.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(a)},getInitialData:function(a,b){var c=f(["value"],a.data),e=new d(c,this);return e.initData(a.data),e},_defaultLabelLine:function(a){e.defaultEmphasis(a.labelLine,["show"]);var b=a.labelLine.normal,c=a.labelLine.emphasis;b.show=b.show&&a.label.normal.show,c.show=c.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});a.exports=g},function(a,b,c){function d(a,b){function c(){g.ignore=g.hoverIgnore,h.ignore=h.hoverIgnore}function d(){g.ignore=g.normalIgnore,h.ignore=h.normalIgnore}f.Group.call(this);var e=new f.Polygon,g=new f.Polyline,h=new f.Text;this.add(e),this.add(g),this.add(h),this.updateData(a,b,!0),this.on("emphasis",c).on("normal",d).on("mouseover",c).on("mouseout",d)}function e(a,b,c,d){var e=d.getModel("textStyle"),f=d.get("position"),h="inside"===f||"inner"===f||"center"===f;return{fill:e.getTextColor()||(h?"#fff":a.getItemVisual(b,"color")),textFont:e.getFont(),text:g.retrieve(a.hostModel.getFormattedLabel(b,c),a.getName(b))}}var f=c(43),g=c(4),h=d.prototype,i=["itemStyle","normal","opacity"];h.updateData=function(a,b,c){var d=this.childAt(0),e=a.hostModel,h=a.getItemModel(b),j=a.getItemLayout(b),k=a.getItemModel(b).get(i);k=null==k?1:k,d.useStyle({}),c?(d.setShape({points:j.points}),d.setStyle({opacity:0}),f.initProps(d,{style:{opacity:k}},e,b)):f.updateProps(d,{style:{opacity:k},shape:{points:j.points}},e,b);var l=h.getModel("itemStyle"),m=a.getItemVisual(b,"color");d.setStyle(g.defaults({lineJoin:"round",fill:m},l.getModel("normal").getItemStyle(["opacity"]))),d.hoverStyle=l.getModel("emphasis").getItemStyle(),this._updateLabel(a,b),f.setHoverStyle(this)},h._updateLabel=function(a,b){var c=this.childAt(1),d=this.childAt(2),g=a.hostModel,h=a.getItemModel(b),i=a.getItemLayout(b),j=i.label,k=a.getItemVisual(b,"color");f.updateProps(c,{shape:{points:j.linePoints||j.linePoints}},g,b),f.updateProps(d,{style:{x:j.x,y:j.y}},g,b),d.attr({style:{textAlign:j.textAlign,textVerticalAlign:j.verticalAlign,textFont:j.font},rotation:j.rotation,origin:[j.x,j.y],z2:10});var l=h.getModel("label.normal"),m=h.getModel("label.emphasis"),n=h.getModel("labelLine.normal"),o=h.getModel("labelLine.emphasis");d.setStyle(e(a,b,"normal",l)),d.ignore=d.normalIgnore=!l.get("show"),d.hoverIgnore=!m.get("show"),c.ignore=c.normalIgnore=!n.get("show"),c.hoverIgnore=!o.get("show"),c.setStyle({stroke:k}),c.setStyle(n.getModel("lineStyle").getLineStyle()),d.hoverStyle=e(a,b,"emphasis",m),c.hoverStyle=o.getModel("lineStyle").getLineStyle()},g.inherits(d,f.Group);var j=c(42).extend({type:"funnel",render:function(a,b,c){var e=a.getData(),f=this._data,g=this.group;e.diff(f).add(function(a){var b=new d(e,a);e.setItemGraphicEl(a,b),g.add(b)}).update(function(a,b){var c=f.getItemGraphicEl(b);c.updateData(e,a),g.add(c),e.setItemGraphicEl(a,c)}).remove(function(a){var b=f.getItemGraphicEl(a);g.remove(b)}).execute(),this._data=e},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});a.exports=j},function(a,b,c){function d(a,b){return g.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function e(a,b){for(var c=a.mapArray("value",function(a){return a}),d=[],e="ascending"===b,f=0,g=a.count();g>f;f++)d[f]=f;return d.sort(function(a,b){return e?c[a]-c[b]:c[b]-c[a]}),d}function f(a){a.each(function(b){var c,d,e,f,g=a.getItemModel(b),h=g.getModel("label.normal"),i=h.get("position"),j=g.getModel("labelLine.normal"),k=a.getItemLayout(b),l=k.points,m="inner"===i||"inside"===i||"center"===i;if(m)d=(l[0][0]+l[1][0]+l[2][0]+l[3][0])/4,e=(l[0][1]+l[1][1]+l[2][1]+l[3][1])/4,c="center",f=[[d,e],[d,e]];else{var n,o,p,q=j.get("length");"left"===i?(n=(l[3][0]+l[0][0])/2,o=(l[3][1]+l[0][1])/2,p=n-q,d=p-5,c="right"):(n=(l[1][0]+l[2][0])/2,o=(l[1][1]+l[2][1])/2,p=n+q,d=p+5,c="left");var r=o;f=[[n,o],[p,r]],e=r}k.label={linePoints:f,x:d,y:e,verticalAlign:"middle",textAlign:c,inside:m}})}var g=c(21),h=c(7),i=h.parsePercent;a.exports=function(a,b,c){a.eachSeriesByType("funnel",function(a){var c=a.getData(),g=a.get("sort"),j=d(a,b),k=e(c,g),l=[i(a.get("minSize"),j.width),i(a.get("maxSize"),j.width)],m=c.getDataExtent("value"),n=a.get("min"),o=a.get("max");null==n&&(n=Math.min(m[0],0)),null==o&&(o=m[1]);var p=a.get("funnelAlign"),q=a.get("gap"),r=(j.height-q*(c.count()-1))/c.count(),s=j.y,t=function(a,b){var d,e=c.get("value",a)||0,f=h.linearMap(e,[n,o],l,!0);switch(p){case"left":d=j.x;break;case"center":d=j.x+(j.width-f)/2;break;case"right":d=j.x+j.width-f}return[[d,b],[d+f,b]]};"ascending"===g&&(r=-r,q=-q,s+=j.height,k=k.reverse());for(var u=0;u<k.length;u++){var v=k[u],w=k[u+1],x=t(v,s),y=t(w,s+r);s+=r+q,c.setItemLayout(v,{points:x.concat(y.slice().reverse())})}f(c)})}},function(a,b,c){var d=c(1);c(227),c(238),c(239),d.registerVisual(c(240))},function(a,b,c){c(228),c(231),c(233);var d=c(1),e=c(4),f=5;d.extendComponentView({type:"parallel",render:function(a,b,c){var d=c.getZr();if(!this.__onMouseDown){var g;d.on("mousedown",this.__onMouseDown=function(a){g=[a.offsetX,a.offsetY]}),d.on("mouseup",this.__onMouseUp=function(b){var d=[b.offsetX,b.offsetY],h=Math.pow(g[0]-d[0],2)+Math.pow(g[1]-d[1],2);if(a.get("axisExpandable")&&!(h>f)){var i=a.coordinateSystem,j=i.findClosestAxisDim(d);if(j){var k=e.indexOf(i.dimensions,j);c.dispatchAction({type:"parallelAxisExpand",axisExpandCenter:k})}}})}},dispose:function(a,b){b.getZr().off(this.__onMouseDown),b.getZr().off(this.__onMouseUp)}}),d.registerPreprocessor(c(237))},function(a,b,c){function d(a,b){var c=[];return a.eachComponent("parallel",function(d,f){var g=new e(d,a,b);g.name="parallel_"+f,g.resize(d,b),d.coordinateSystem=g,g.model=d,c.push(g)}),a.eachSeries(function(b){if("parallel"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"parallel",index:b.get("parallelIndex"),id:b.get("parallelId")})[0];b.coordinateSystem=c.coordinateSystem}}),c}var e=c(229);c(26).register("parallel",{create:d})},function(a,b,c){function d(a,b,c){this._axesMap={},this._axesLayout={},this.dimensions=a.dimensions,this._rect,this._model=a,this._init(a,b,c)}var e=c(21),f=c(115),g=c(4),h=c(230),i=c(43),j=c(11),k=g.each,l=Math.PI;d.prototype={type:"parallel",constructor:d,_init:function(a,b,c){var d=a.dimensions,e=a.parallelAxisIndex;k(d,function(a,c){var d=e[c],g=b.getComponent("parallelAxis",d),i=this._axesMap[a]=new h(a,f.createScaleByModel(g),[0,0],g.get("type"),d),j="category"===i.type;i.onBand=j&&g.get("boundaryGap"),i.inverse=g.get("inverse"),g.axis=i,i.model=g},this)},update:function(a,b){this._updateAxesFromSeries(this._model,a)},_updateAxesFromSeries:function(a,b){b.eachSeries(function(c){if(a.contains(c,b)){var d=c.getData();k(this.dimensions,function(a){var b=this._axesMap[a];b.scale.unionExtentFromData(d,a),f.niceScaleExtent(b,b.model)},this)}},this)},resize:function(a,b){this._rect=e.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),this._layoutAxes(a)},getRect:function(){return this._rect},_layoutAxes:function(a){var b=this._rect,c=a.get("layout"),d=this._axesMap,e=this.dimensions,f=[b.width,b.height],g="horizontal"===c?0:1,h=f[g],i=f[1-g],m=[0,i];k(d,function(a){var b=a.inverse?1:0;a.setExtent(m[b],m[1-b])});var n,o=a.get("axisExpandable"),p=a.get("axisExpandWidth"),q=a.get("axisExpandCenter"),r=a.get("axisExpandCount")||0;if(null!=q){var s=Math.max(0,Math.floor(q-(r-1)/2)),t=s+r-1;t>=e.length&&(t=e.length-1,s=Math.max(0,Math.floor(t-r+1))),n=[s,t]}var u=o&&n&&p?function(a,b,c){var d,e=n[1]-n[0],f=(b-p*e)/(c-1-e);return d=a<n[0]?(a-1)*f:a<=n[1]?n[0]*f+(a-n[0])*p:a===c-1?b:n[0]*f+e*p+(a-n[1])*f,{position:d,axisNameAvailableWidth:n[0]<a&&a<n[1]?p:f}}:function(a,b,c){var d=b/(c-1);return{position:d*a,axisNameAvailableWidth:d}};k(e,function(a,d){var f=u(d,h,e.length),g={horizontal:{x:f.position,y:i},vertical:{x:0,y:f.position}},k={horizontal:l/2,vertical:0},m=[g[c].x+b.x,g[c].y+b.y],o=k[c],p=j.create();j.rotate(p,p,o),j.translate(p,p,m),this._axesLayout[a]={position:m,rotation:o,transform:p,axisNameAvailableWidth:f.axisNameAvailableWidth,tickDirection:1,labelDirection:1,axisExpandWindow:n}},this)},getAxis:function(a){return this._axesMap[a]},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap[b].dataToCoord(a),b)},eachActiveState:function(a,b,c){for(var d=this.dimensions,e=this._axesMap,f=this.hasAxisbrushed(),g=0,h=a.count();h>g;g++){var i,j=a.getValues(d,g);if(f){i="active";for(var k=0,l=d.length;l>k;k++){var m=d[k],n=e[m].model.getActiveState(j[k],k);if("inactive"===n){i="inactive";break}}}else i="normal";b.call(c,i,g)}},hasAxisbrushed:function(){for(var a=this.dimensions,b=this._axesMap,c=!1,d=0,e=a.length;e>d;d++)"normal"!==b[a[d]].model.getActiveState()&&(c=!0);return c},axisCoordToPoint:function(a,b){var c=this._axesLayout[b];return i.applyTransform([a,0],c.transform)},getAxisLayout:function(a){return g.clone(this._axesLayout[a])},findClosestAxisDim:function(a){var b,c=1/0;return g.each(this._axesLayout,function(d,e){var f=i.applyTransform(a,d.transform,!0),g=this._axesMap[e].getExtent();if(!(f[0]<g[0]||f[0]>g[1])){var h=Math.abs(f[1]);c>h&&(c=h,b=e)}},this),b}},a.exports=d},function(a,b,c){var d=c(4),e=c(124),f=function(a,b,c,d,f){e.call(this,a,b,c),this.type=d||"value",this.axisIndex=f};f.prototype={constructor:f,model:null},d.inherits(f,e),a.exports=f},function(a,b,c){var d=c(4),e=c(19);c(232),e.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,parallelAxisDefault:null},init:function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var b=this.option;a&&d.merge(b,a,!0),this._initDimensions()},contains:function(a,b){var c=a.get("parallelIndex");return null!=c&&b.getComponent("parallel",c)===this},setAxisExpand:function(a){d.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth"],function(b){a.hasOwnProperty(b)&&(this.option[b]=a[b])},this)},_initDimensions:function(){var a=this.dimensions=[],b=this.parallelAxisIndex=[],c=d.filter(this.dependentModels.parallelAxis,function(a){return a.get("parallelIndex")===this.componentIndex});d.each(c,function(c){a.push("dim"+c.get("dim")),b.push(c.componentIndex)})}})},function(a,b,c){function d(a,b){return b.type||(b.data?"category":"value")}var e=c(19),f=c(4),g=c(15),h=c(128),i=c(7),j=e.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return g([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){var b=this.activeIntervals=f.clone(a);if(b)for(var c=b.length-1;c>=0;c--)i.asc(b[c])},getActiveState:function(a){var b=this.activeIntervals;if(!b.length)return"normal";if(null==a)return"inactive";for(var c=0,d=b.length;d>c;c++)if(b[c][0]<=a&&a<=b[c][1])return"active";return"inactive"}}),k={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};f.merge(j.prototype,c(130)),h("parallel",j,d,k),a.exports=j},function(a,b,c){c(228),c(234),c(235)},function(a,b,c){var d=c(1),e={type:"axisAreaSelect",
event:"axisAreaSelected",update:"updateVisual"};d.registerAction(e,function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(b){b.axis.model.setActiveIntervals(a.intervals)})}),d.registerAction("parallelAxisExpand",function(a,b){b.eachComponent({mainType:"parallel",query:a},function(b){b.setAxisExpand(a)})})},function(a,b,c){function d(a,b,c){return c&&"axisAreaSelect"===c.type&&b.findComponents({mainType:"parallelAxis",query:c})[0]===a}var e=c(4),f=c(133),g=c(236),h=c(43),i=["axisLine","axisLabel","axisTick","axisName"],j=c(1).extendComponentView({type:"parallelAxis",init:function(a,b){j.superApply(this,"init",arguments),(this._brushController=new g(b.getZr())).on("brush",e.bind(this._onBrush,this))},render:function(a,b,c,g){if(!d(a,b,g)){this.axisModel=a,this.api=c,this.group.removeAll();var j=this._axisGroup;if(this._axisGroup=new h.Group,this.group.add(this._axisGroup),a.get("show")){var k,l=b.getComponent("parallel",a.get("parallelIndex")).coordinateSystem,m=a.getAreaSelectStyle(),n=m.width,o=a.axis.dim,p=l.getAxisLayout(o),q=e.indexOf(l.dimensions,o),r=p.axisExpandWindow;r&&(q<=r[0]||q>=r[1])&&(k=!1);var s=e.extend({axisLabelShow:k,strokeContainThreshold:n},p),t=new f(a,s);e.each(i,t.add,t),this._axisGroup.add(t.getGroup()),this._refreshBrushController(s,m,a,n),h.groupTransition(j,this._axisGroup,a)}}},_refreshBrushController:function(a,b,c,d){var f=c.axis,g=e.map(c.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[f.dataToCoord(a[0],!0),f.dataToCoord(a[1],!0)]}}),i=f.getExtent(),j=i[1]-i[0],k=Math.min(30,.1*Math.abs(j)),l=h.BoundingRect.create({x:i[0],y:-d/2,width:j,height:d});l.x-=k,l.width+=2*k,this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,position:a.position}).setPanels([{panelId:"pl",rect:l}]).enableBrush({brushType:"lineX",brushStyle:b,removeOnClick:!0}).updateCovers(g)},_onBrush:function(a,b){var c=this.axisModel,d=c.axis,f=e.map(a,function(a){return[d.coordToData(a.range[0],!0),d.coordToData(a.range[1],!0)]});(!c.option.realtime===b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:c.id,intervals:f})},dispose:function(){this._brushController.dispose()}});a.exports=j},function(a,b,c){function d(a){M.assert(a),L.call(this),this._zr=a,this.group=new O.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._mounted,this._uid="brushController_"+ca++,this._handlers={},S(da,function(a,b){this._handlers[b]=M.bind(a,this)},this)}function e(a,b){var c=a._zr;a._enableGlobalPan||P.take(c,$,a._uid),S(a._handlers,function(a,b){c.on(b,a)}),a._brushType=b.brushType,a._brushOption=M.merge(M.clone(ba),b,!0)}function f(a){var b=a._zr;P.release(b,$,a._uid),S(a._handlers,function(a,c){b.off(c,a)}),a._brushType=a._brushOption=null}function g(a,b){var c=ea[b.brushType].createCover(a,b);return j(c),c.__brushOption=b,a.group.add(c),c}function h(a,b){var c=l(b);return c.endCreating&&(c.endCreating(a,b),j(b)),b}function i(a,b){var c=b.__brushOption;l(b).updateCoverShape(a,b,c.range,c)}function j(a){a.traverse(function(a){a.z=X,a.z2=X})}function k(a,b){l(b).updateCommon(a,b),i(a,b)}function l(a){return ea[a.__brushOption.brushType]}function m(a,b,c){var d=a._panels;if(!d)return!0;var e;return S(d,function(a){a.contain(b,c)&&(e=a)}),e}function n(a,b){var c=a._panels;if(!c)return!0;var d=b.__brushOption.panelId;return null!=d?c[d]:!0}function o(a){var b=a._covers,c=b.length;return S(b,function(b){a.group.remove(b)},a),b.length=0,!!c}function p(a,b){var c=T(a._covers,function(a){var b=a.__brushOption,c=M.clone(b.range);return{brushType:b.brushType,panelId:b.panelId,range:c}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function q(a){var b=a._track;if(!b.length)return!1;var c=b[b.length-1],d=b[0],e=c[0]-d[0],f=c[1]-d[1],g=W(e*e+f*f,.5);return g>Y}function r(a){var b=a.length-1;return 0>b&&(b=0),[a[0],a[b]]}function s(a,b,c,d){var e=new O.Group;return e.add(new O.Rect({name:"main",style:w(c),silent:!0,draggable:!0,cursor:"move",drift:R(a,b,e,"nswe"),ondragend:R(p,b,{isEnd:!0})})),S(d,function(c){e.add(new O.Rect({name:c,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:R(a,b,e,c),ondragend:R(p,b,{isEnd:!0})}))}),e}function t(a,b,c,d){var e=d.brushStyle.lineWidth||0,f=V(e,Z),g=c[0][0],h=c[1][0],i=g-e/2,j=h-e/2,k=c[0][1],l=c[1][1],m=k-f+e/2,n=l-f+e/2,o=k-g,p=l-h,q=o+e,r=p+e;v(a,b,"main",g,h,o,p),d.transformable&&(v(a,b,"w",i,j,f,r),v(a,b,"e",m,j,f,r),v(a,b,"n",i,j,q,f),v(a,b,"s",i,n,q,f),v(a,b,"nw",i,j,f,f),v(a,b,"ne",m,j,f,f),v(a,b,"sw",i,n,f,f),v(a,b,"se",m,n,f,f))}function u(a,b){var c=b.__brushOption,d=c.transformable,e=b.childAt(0);e.useStyle(w(c)),e.attr({silent:!d,cursor:d?"move":"default"}),S(["w","e","n","s","se","sw","ne","nw"],function(c){var e=b.childOfName(c),f=z(a,c);e&&e.attr({silent:!d,invisible:!d,cursor:d?aa[f]+"-resize":null})})}function v(a,b,c,d,e,f,g){var h=b.childOfName(c);h&&h.setShape(E(D(a,b,[[d,e],[d+f,e+g]])))}function w(a){return M.defaults({strokeNoScale:!0},a.brushStyle)}function x(a,b,c,d){var e=[U(a,c),U(b,d)],f=[V(a,c),V(b,d)];return[[e[0],f[0]],[e[1],f[1]]]}function y(a){return O.getTransform(a.group)}function z(a,b){if(b.length>1){b=b.split("");var c=[z(a,b[0]),z(a,b[1])];return("e"===c[0]||"w"===c[0])&&c.reverse(),c.join("")}var d={w:"left",e:"right",n:"top",s:"bottom"},e={left:"w",right:"e",top:"n",bottom:"s"},c=O.transformDirection(d[b],y(a));return e[c]}function A(a,b,c,d,e,f,g,h){var i=d.__brushOption,j=a(i.range),l=C(c,f,g);S(e.split(""),function(a){var b=_[a];j[b[0]][b[1]]+=l[b[0]]}),i.range=b(x(j[0][0],j[1][0],j[0][1],j[1][1])),k(c,d),p(c,{isEnd:!1})}function B(a,b,c,d,e){var f=b.__brushOption.range,g=C(a,c,d);S(f,function(a){a[0]+=g[0],a[1]+=g[1]}),k(a,b),p(a,{isEnd:!1})}function C(a,b,c){var d=a.group,e=d.transformCoordToLocal(b,c),f=d.transformCoordToLocal(0,0);return[e[0]-f[0],e[1]-f[1]]}function D(a,b,c){var d=n(a,b);if(d===!0)return M.clone(c);var e=d.getBoundingRect();return M.map(c,function(a){var b=a[0];b=V(b,e.x),b=U(b,e.x+e.width);var c=a[1];return c=V(c,e.y),c=U(c,e.y+e.height),[b,c]})}function E(a){var b=U(a[0][0],a[1][0]),c=U(a[0][1],a[1][1]),d=V(a[0][0],a[1][0]),e=V(a[0][1],a[1][1]);return{x:b,y:c,width:d-b,height:e-c}}function F(a,b){var c=b.offsetX,d=b.offsetY,e=a._zr;if(a._brushType){for(var f,g=a._panels,h=a._covers,i=0;i<h.length;i++)if(ea[h[i].__brushOption.brushType].contain(h[i],c,d)){f=!0;break}f||(g?S(g,function(a){a.contain(c,d)&&e.setCursorStyle("crosshair")}):e.setCursorStyle("crosshair"))}}function G(a){var b=a.event;b.preventDefault&&b.preventDefault()}function H(a,b,c){return a.childOfName("main").contain(b,c)}function I(a,b,c){var d,e=b.offsetX,f=b.offsetY,j=a._creatingCover,k=a._creatingPanel,l=a._brushOption;if(a._track.push(a.group.transformCoordToLocal(e,f)),q(a)||j){if(k&&!j){"single"===l.brushMode&&o(a);var n=M.clone(l);n.panelId=k===!0?null:k.__brushPanelId,j=a._creatingCover=g(a,n),a._covers.push(j)}if(j){var p=ea[a._brushType],r=j.__brushOption;r.range=p.getCreatingRange(D(a,j,a._track)),c&&(h(a,j),p.updateCommon(a,j)),i(a,j),d={isEnd:c}}}else c&&"single"===l.brushMode&&l.removeOnClick&&m(a,e,f)&&o(a)&&(d={isEnd:c,removeOnClick:!0});return d}function J(a){if(this._dragging){G(a);var b=I(this,a,!0);this._dragging=!1,this._track=[],this._creatingCover=null,b&&p(this,b)}}function K(a){return{createCover:function(b,c){return s(R(A,function(b){var c=[b,[0,100]];return a&&c.reverse(),c},function(b){return b[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(b){var c=r(b),d=U(c[0][a],c[1][a]),e=V(c[0][a],c[1][a]);return[d,e]},updateCoverShape:function(b,c,d,e){var f,g=e.brushStyle.width;if(null==g){var h=n(b,c),i=0;if(h!==!0){var j=h.getBoundingRect();g=a?j.width:j.height,i=a?j.x:j.y}f=[i,i+(g||0)]}else f=[-g/2,g/2];var k=[d,f];a&&k.reverse(),t(b,c,k,e)},updateCommon:u,contain:H}}var L=c(33),M=c(4),N=c(9),O=c(43),P=c(178),Q=c(99),R=M.curry,S=M.each,T=M.map,U=Math.min,V=Math.max,W=Math.pow,X=1e4,Y=6,Z=6,$="globalPan",_={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},aa={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},ba={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},ca=0;d.prototype={constructor:d,enableBrush:function(a){return M.assert(this._mounted),this._brushType&&f(this),a.brushType&&e(this,a),this},setPanels:function(a){var b=this._panels||{},c=this._panels=a&&a.length&&{},d=this.group;return c&&S(a,function(a){var e=a.panelId,f=b[e];f||(f=new O.Rect({silent:!0,invisible:!0}),d.add(f));var g=a.rect;g instanceof N||(g=N.create(g)),f.attr("shape",g.plain()),f.__brushPanelId=e,c[e]=f,b[e]=null}),S(b,function(a){a&&d.remove(a)}),this},mount:function(a){a=a||{},this._mounted=!0,this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]}),this},eachCover:function(a,b){S(this._covers,a,b)},updateCovers:function(a){function b(a,b){return(null!=a.id?a.id:f+b)+"-"+a.brushType}function c(a,c){return b(a.__brushOption,c)}function d(b,c){var d=a[b];if(null!=c&&i[c]===m)j[b]=i[c];else{var e=j[b]=null!=c?(i[c].__brushOption=d,i[c]):h(l,g(l,d));k(l,e)}}function e(a){i[a]!==m&&l.group.remove(i[a])}M.assert(this._mounted),a=M.map(a,function(a){return M.merge(M.clone(ba),a,!0)});var f="\x00-brush-index-",i=this._covers,j=this._covers=[],l=this,m=this._creatingCover;return new Q(i,a,c,b).add(d).update(d).remove(e).execute(),this},unmount:function(){return this.enableBrush(!1),o(this),this._zr.remove(this.group),this._mounted=!1,this},dispose:function(){this.unmount(),this.off()}},M.mixin(d,L);var da={mousedown:function(a){if(this._dragging)J.call(this,a);else if(!a.target||!a.target.draggable){G(a);var b=a.offsetX,c=a.offsetY;this._creatingCover=null;var d=this._creatingPanel=m(this,b,c);d&&(this._dragging=!0,this._track=[this.group.transformCoordToLocal(b,c)])}},mousemove:function(a){if(F(this,a),this._dragging){G(a);var b=I(this,a,!1);b&&p(this,b)}},mouseup:J},ea={lineX:K(0),lineY:K(1),rect:{createCover:function(a,b){return s(R(A,function(a){return a},function(a){return a}),a,b,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(a){var b=r(a);return x(b[1][0],b[1][1],b[0][0],b[0][1])},updateCoverShape:function(a,b,c,d){t(a,b,c,d)},updateCommon:u,contain:H},polygon:{createCover:function(a,b){var c=new O.Group;return c.add(new O.Polyline({name:"main",style:w(b),silent:!0})),c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0)),b.add(new O.Polygon({name:"main",draggable:!0,drift:R(B,a,b),ondragend:R(p,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:D(a,b,c)})},updateCommon:u,contain:H}};a.exports=d},function(a,b,c){function d(a){if(!a.parallel){var b=!1;f.each(a.series,function(a){a&&"parallel"===a.type&&(b=!0)}),b&&(a.parallel=[{}])}}function e(a){var b=g.normalizeToArray(a.parallelAxis);f.each(b,function(b){if(f.isObject(b)){var c=b.parallelIndex||0,d=g.normalizeToArray(a.parallel)[c];d&&d.parallelAxisDefault&&f.merge(b,d.parallelAxisDefault,!1)}})}var f=c(4),g=c(5);a.exports=function(a){d(a),e(a)}},function(a,b,c){function d(a,b,c){var d=a.get("data"),f=e(b);d&&d.length&&h.each(c,function(a){if(a){var b=h.indexOf(d,a[f]);a[f]=b>=0?b:NaN}})}function e(a){return+a.replace("dim","")}function f(a,b){var c=0;h.each(a,function(a){var b=e(a);b>c&&(c=b)});var d=b[0];d&&d.length-1>c&&(c=d.length-1);for(var f=[],g=0;c>=g;g++)f.push("dim"+g);return f}var g=c(98),h=c(4),i=c(28),j=c(103);a.exports=i.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(a,b){var c=b.getComponent("parallel",this.get("parallelIndex")),e=c.parallelAxisIndex,i=a.data,k=c.dimensions,l=f(k,i),m=h.map(l,function(a,c){var f=h.indexOf(k,a),g=f>=0&&b.getComponent("parallelAxis",e[f]);return g&&"category"===g.get("type")?(d(g,a,i),{name:a,type:"ordinal"}):0>f&&j.guessOrdinal(i,c)?{name:a,type:"ordinal"}:a}),n=new g(m,this);return n.initData(i),this.option.progressive&&(this.option.animation=!1),n},getRawIndicesByActiveState:function(a){var b=this.coordinateSystem,c=this.getData(),d=[];return b.eachActiveState(c,function(b,e){a===b&&d.push(c.getRawIndex(e))}),d},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}})},function(a,b,c){function d(a,b,c){var d=a.model,e=a.getRect(),f=new i.Rect({shape:{x:e.x,y:e.y,width:e.width,height:e.height}}),g="horizontal"===d.get("layout")?"width":"height";return f.setShape(g,0),i.initProps(f,{shape:{width:e.width,height:e.height}},b,c),f}function e(a,b,c,d){for(var e=[],f=0;f<c.length;f++){var g=c[f],i=a.get(g,b);h(i,d.getAxis(g).type)||e.push(d.dataToPoint(i,g))}return e}function f(a,b,c,d,f){var g=e(a,c,d,f),h=new i.Polyline({shape:{points:g},silent:!0,z2:10});b.add(h),a.setItemGraphicEl(c,h)}function g(a,b){var c=a.hostModel.getModel("lineStyle.normal"),d=c.getLineStyle();a.eachItemGraphicEl(function(e,f){if(a.hasItemOption){var g=a.getItemModel(f),h=g.getModel("lineStyle.normal",c);d=h.getLineStyle()}e.useStyle(j.extend(d,{fill:null,stroke:a.getItemVisual(f,"color"),opacity:a.getItemVisual(f,"opacity")})),e.shape.smooth=b})}function h(a,b){return"category"===b?null==a:null==a||isNaN(a)}var i=c(43),j=c(4),k=.3,l=c(42).extend({type:"parallel",init:function(){this._dataGroup=new i.Group,this.group.add(this._dataGroup),this._data},render:function(a,b,c,d){this._renderForNormal(a)},dispose:function(){},_renderForNormal:function(a){function b(a){f(l,j,a,o,n,null,q)}function c(b,c){var d=m.getItemGraphicEl(c),f=e(l,b,o,n);l.setItemGraphicEl(b,d),i.updateProps(d,{shape:{points:f}},a,b)}function h(a){var b=m.getItemGraphicEl(a);j.remove(b)}var j=this._dataGroup,l=a.getData(),m=this._data,n=a.coordinateSystem,o=n.dimensions,p=a.option,q=p.smooth?k:null;if(l.diff(m).add(b).update(c).remove(h).execute(),g(l,q),!this._data){var r=d(n,a,function(){setTimeout(function(){j.removeClipPath()})});j.setClipPath(r)}this._data=l},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});a.exports=l},function(a,b){a.exports=function(a){a.eachSeriesByType("parallel",function(b){var c=b.getModel("itemStyle.normal"),d=b.getModel("lineStyle.normal"),e=a.get("color"),f=d.get("color")||c.get("color")||e[b.seriesIndex%e.length],g=b.get("inactiveOpacity"),h=b.get("activeOpacity"),i=b.getModel("lineStyle.normal").getLineStyle(),j=b.coordinateSystem,k=b.getData(),l={normal:i.opacity,active:h,inactive:g};j.eachActiveState(k,function(a,b){k.setItemVisual(b,"opacity",l[a])}),k.setVisual("color",f)})}},function(a,b,c){var d=c(1);c(242),c(243),d.registerLayout(c(244)),d.registerVisual(c(246))},function(a,b,c){var d=c(28),e=c(199),f=c(6).encodeHTML,g=d.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(a){var b=a.edges||a.links,c=a.data||a.nodes;if(c&&b){var d=e(c,b,this,!0);return d.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(a,b,c){if("edge"===c){var d=this.getDataParams(a,c),e=d.data,h=e.source+" -- "+e.target;return d.value&&(h+=" : "+d.value),f(h)}return g.superCall(this,"formatTooltip",a,b)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}});a.exports=g},function(a,b,c){function d(a,b,c){var d=new e.Rect({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return e.initProps(d,{shape:{width:a.width+20,height:a.height+20}},b,c),d}var e=c(43),f=c(4),g=e.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(a,b){var c=b.extent/2;a.moveTo(b.x1,b.y1-c),a.bezierCurveTo(b.cpx1,b.cpy1-c,b.cpx2,b.cpy2-c,b.x2,b.y2-c),a.lineTo(b.x2,b.y2+c),a.bezierCurveTo(b.cpx2,b.cpy2+c,b.cpx1,b.cpy1+c,b.x1,b.y1+c),a.closePath()}});a.exports=c(1).extendChartView({type:"sankey",_model:null,render:function(a,b,c){var h=a.getGraph(),i=this.group,j=a.layoutInfo,k=a.getData(),l=a.getData("edge");this._model=a,i.removeAll(),i.position=[j.x,j.y],h.eachEdge(function(b){var c=new g;c.dataIndex=b.dataIndex,c.seriesIndex=a.seriesIndex,c.dataType="edge";var d=b.getModel("lineStyle.normal"),f=d.get("curveness"),h=b.node1.getLayout(),j=b.node2.getLayout(),k=b.getLayout();c.shape.extent=Math.max(1,k.dy);var m=h.x+h.dx,n=h.y+k.sy+k.dy/2,o=j.x,p=j.y+k.ty+k.dy/2,q=m*(1-f)+o*f,r=n,s=m*f+o*(1-f),t=p;switch(c.setShape({x1:m,y1:n,x2:o,y2:p,cpx1:q,cpy1:r,cpx2:s,cpy2:t}),c.setStyle(d.getItemStyle()),c.style.fill){case"source":c.style.fill=b.node1.getVisual("color");break;case"target":c.style.fill=b.node2.getVisual("color")}e.setHoverStyle(c,b.getModel("lineStyle.emphasis").getItemStyle()),i.add(c),l.setItemGraphicEl(b.dataIndex,c)}),h.eachNode(function(b){var c=b.getLayout(),d=b.getModel(),g=d.getModel("label.normal"),h=g.getModel("textStyle"),j=d.getModel("label.emphasis"),l=j.getModel("textStyle"),m=new e.Rect({shape:{x:c.x,y:c.y,width:b.getLayout().dx,height:b.getLayout().dy},style:{text:g.get("show")?a.getFormattedLabel(b.dataIndex,"normal")||b.id:"",textFont:h.getFont(),textFill:h.getTextColor(),textPosition:g.get("position")}});m.setStyle(f.defaults({fill:b.getVisual("color")},d.getModel("itemStyle.normal").getItemStyle())),e.setHoverStyle(m,f.extend(b.getModel("itemStyle.emphasis"),{text:j.get("show")?a.getFormattedLabel(b.dataIndex,"emphasis")||b.id:"",textFont:l.getFont(),textFill:l.getTextColor(),textPosition:j.get("position")})),i.add(m),k.setItemGraphicEl(b.dataIndex,m),m.dataType="node"}),!this._data&&a.get("animation")&&i.setClipPath(d(i.getBoundingRect(),a,function(){i.removeClipPath()})),this._data=a.getData()},dispose:function(){}})},function(a,b,c){function d(a,b){return y.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function e(a,b,c,d,e,f,h){g(a,c,e),j(a,b,f,d,h),q(a)}function f(a){A.each(a,function(a){var b=t(a.outEdges,x),c=t(a.inEdges,x),d=Math.max(b,c);a.setLayout({value:d},!0)})}function g(a,b,c){for(var d=a,e=null,f=0,g=0;d.length;){e=[];for(var j=0,k=d.length;k>j;j++){var l=d[j];l.setLayout({x:f},!0),l.setLayout({dx:b},!0);for(var m=0,n=l.outEdges.length;n>m;m++)e.push(l.outEdges[m].node2)}d=e,++f}h(a,f),g=(c-b)/(f-1),i(a,g)}function h(a,b){A.each(a,function(a){a.outEdges.length||a.setLayout({x:b-1},!0)})}function i(a,b){A.each(a,function(a){var c=a.getLayout().x*b;a.setLayout({x:c},!0)})}function j(a,b,c,d,e){var f=z().key(function(a){return a.getLayout().x}).sortKeys(w).entries(a).map(function(a){return a.values});k(a,f,b,c,d),l(f,d,c);for(var g=1;e>0;e--)g*=.99,m(f,g),l(f,d,c),o(f,g),l(f,d,c)}function k(a,b,c,d,e){var f=[];A.each(b,function(a){var b=a.length,c=0;A.each(a,function(a){c+=a.getLayout().value});var g=(d-(b-1)*e)/c;f.push(g)}),f.sort(function(a,b){return a-b});var g=f[0];A.each(b,function(a){A.each(a,function(a,b){a.setLayout({y:b},!0);var c=a.getLayout().value*g;a.setLayout({dy:c},!0)})}),A.each(c,function(a){var b=+a.getValue()*g;a.setLayout({dy:b},!0)})}function l(a,b,c){A.each(a,function(a){var d,e,f,g=0,h=a.length;for(a.sort(v),f=0;h>f;f++){if(d=a[f],e=g-d.getLayout().y,e>0){var i=d.getLayout().y+e;d.setLayout({y:i},!0)}g=d.getLayout().y+d.getLayout().dy+b}if(e=g-b-c,e>0){var i=d.getLayout().y-e;for(d.setLayout({y:i},!0),g=d.getLayout().y,f=h-2;f>=0;--f)d=a[f],e=d.getLayout().y+d.getLayout().dy+b-g,e>0&&(i=d.getLayout().y-e,d.setLayout({y:i},!0)),g=d.getLayout().y}})}function m(a,b){A.each(a.slice().reverse(),function(a){A.each(a,function(a){if(a.outEdges.length){var c=t(a.outEdges,n)/t(a.outEdges,x),d=a.getLayout().y+(c-u(a))*b;a.setLayout({y:d},!0)}})})}function n(a){return u(a.node2)*a.getValue()}function o(a,b){A.each(a,function(a){A.each(a,function(a){if(a.inEdges.length){var c=t(a.inEdges,p)/t(a.inEdges,x),d=a.getLayout().y+(c-u(a))*b;a.setLayout({y:d},!0)}})})}function p(a){return u(a.node1)*a.getValue()}function q(a){A.each(a,function(a){a.outEdges.sort(r),a.inEdges.sort(s)}),A.each(a,function(a){var b=0,c=0;A.each(a.outEdges,function(a){a.setLayout({sy:b},!0),b+=a.getLayout().dy}),A.each(a.inEdges,function(a){a.setLayout({ty:c},!0),c+=a.getLayout().dy})})}function r(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function s(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function t(a,b){for(var c=0,d=a.length,e=-1;++e<d;){var f=+b.call(a,a[e],e);isNaN(f)||(c+=f)}return c}function u(a){return a.getLayout().y+a.getLayout().dy/2}function v(a,b){return a.getLayout().y-b.getLayout().y}function w(a,b){return b>a?-1:a>b?1:a===b?0:NaN}function x(a){return a.getValue()}var y=c(21),z=c(245),A=c(4);a.exports=function(a,b,c){a.eachSeriesByType("sankey",function(a){var c=a.get("nodeWidth"),g=a.get("nodeGap"),h=d(a,b);a.layoutInfo=h;var i=h.width,j=h.height,k=a.getGraph(),l=k.nodes,m=k.edges;f(l);var n=l.filter(function(a){return 0===a.getLayout().value}),o=0!==n.length?0:a.get("layoutIterations");e(l,m,c,g,i,j,o)})}},function(a,b,c){function d(){function a(b,d){if(d>=c.length)return b;for(var f=-1,g=b.length,h=c[d++],i={},j={};++f<g;){var k=h(b[f]),l=j[k];l?l.push(b[f]):j[k]=[b[f]]}return e.each(j,function(b,c){i[c]=a(b,d)}),i}function b(a,f){if(f>=c.length)return a;var g=[],h=d[f++];return e.each(a,function(a,c){g.push({key:c,values:b(a,f)})}),h?g.sort(function(a,b){return h(a.key,b.key)}):g}var c=[],d=[];return{key:function(a){return c.push(a),this},sortKeys:function(a){return d[c.length-1]=a,this},entries:function(c){return b(a(c,0),0)}}}var e=c(4);a.exports=d},function(a,b,c){var d=c(195),e=c(4);a.exports=function(a,b){a.eachSeriesByType("sankey",function(a){var b=a.getGraph(),c=b.nodes;c.sort(function(a,b){return a.getLayout().value-b.getLayout().value});var f=c[0].getLayout().value,g=c[c.length-1].getLayout().value;e.each(c,function(b){var c=new d({type:"color",mappingMethod:"linear",dataExtent:[f,g],visual:a.get("color")}),e=c.mapValueToVisual(b.getLayout().value);b.setVisual("color",e);var h=b.getModel(),i=h.get("itemStyle.normal.color");null!=i&&b.setVisual("color",i)})})}},function(a,b,c){var d=c(1);c(248),c(251),d.registerVisual(c(252)),d.registerLayout(c(253))},function(a,b,c){var d=c(4),e=c(28),f=c(249),g=e.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});d.mixin(g,f.seriesModelMixin,!0),a.exports=g},function(a,b,c){function d(a){return null==a.value?a:a.value}var e=c(98),f=c(103),g=c(250),h=c(4),i={_baseAxisDim:null,getInitialData:function(a,b){var c,g,h=b.getComponent("xAxis",this.get("xAxisIndex")),i=b.getComponent("yAxis",this.get("yAxisIndex")),j=h.get("type"),k=i.get("type");"category"===j?(a.layout="horizontal",c=h.getCategories(),g=!0):"category"===k?(a.layout="vertical",c=i.getCategories(),g=!0):a.layout=a.layout||"horizontal",this._baseAxisDim="horizontal"===a.layout?"x":"y";var l=a.data,m=this.dimensions=["base"].concat(this.valueDimensions);f(m,l);var n=new e(m,this);return n.initData(l,c?c.slice():null,function(a,b,c,e){var f=d(a);return g?"base"===b?c:f[e-1]:f[e]}),n},coordDimToDataDim:function(a){var b=this.valueDimensions.slice(),c=["base"],d={horizontal:{x:c,y:b},vertical:{x:b,y:c}};return d[this.get("layout")][a]},dataDimToCoordDim:function(a){var b;return h.each(["x","y"],function(c,d){var e=this.coordDimToDataDim(c);h.indexOf(e,a)>=0&&(b=c)},this),b},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},j={init:function(){var a=this._whiskerBoxDraw=new g(this.getStyleUpdater());this.group.add(a.group)},render:function(a,b,c){this._whiskerBoxDraw.updateData(a.getData())},remove:function(a){this._whiskerBoxDraw.remove()}};a.exports={seriesModelMixin:i,viewMixin:j}},function(a,b,c){function d(a,b,c,d){i.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=c,this._createContent(a,b,d),this.updateData(a,b,d),this._seriesModel}function e(a,b,c){return h.map(a,function(a){return a=a.slice(),a[b]=c.initBaseline,a})}function f(a){var b={};return h.each(a,function(a,c){b["ends"+c]=a}),b}function g(a){this.group=new i.Group,this.styleUpdater=a}var h=c(4),i=c(43),j=c(45),k=j.extend({type:"whiskerInBox",shape:{},buildPath:function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&0===c.indexOf("ends")){var d=b[c];a.moveTo(d[0][0],d[0][1]),a.lineTo(d[1][0],d[1][1])}}}),l=d.prototype;l._createContent=function(a,b,c){var d=a.getItemLayout(b),g="horizontal"===d.chartLayout?1:0,j=0;this.add(new i.Polygon({shape:{points:c?e(d.bodyEnds,g,d):d.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=j++;var l=h.map(d.whiskerEnds,function(a){return c?e(a,g,d):a});this.add(new k({shape:f(l),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=j++},l.updateData=function(a,b,c){var d=this._seriesModel=a.hostModel,e=a.getItemLayout(b),g=i[c?"initProps":"updateProps"];g(this.childAt(this.bodyIndex),{shape:{points:e.bodyEnds}},d,b),g(this.childAt(this.whiskerIndex),{shape:f(e.whiskerEnds)},d,b),this.styleUpdater.call(null,this,a,b)},h.inherits(d,i.Group);var m=g.prototype;m.updateData=function(a){var b=this.group,c=this._data,e=this.styleUpdater;a.diff(c).add(function(c){if(a.hasValue(c)){var f=new d(a,c,e,!0);a.setItemGraphicEl(c,f),b.add(f)}}).update(function(f,g){var h=c.getItemGraphicEl(g);return a.hasValue(f)?(h?h.updateData(a,f):h=new d(a,f,e),b.add(h),void a.setItemGraphicEl(f,h)):void b.remove(h)}).remove(function(a){var d=c.getItemGraphicEl(a);d&&b.remove(d)}).execute(),this._data=a},m.remove=function(){var a=this.group,b=this._data;this._data=null,b&&b.eachItemGraphicEl(function(b){b&&a.remove(b)})},a.exports=g},function(a,b,c){function d(a,b,c){var d=b.getItemModel(c),e=d.getModel(j),f=b.getItemVisual(c,"color"),h=e.getItemStyle(["borderColor"]),i=a.childAt(a.whiskerIndex);i.style.set(h),i.style.stroke=f,i.dirty();var l=a.childAt(a.bodyIndex);l.style.set(h),l.style.stroke=f,l.dirty();var m=d.getModel(k).getItemStyle();g.setHoverStyle(a,m)}var e=c(4),f=c(42),g=c(43),h=c(249),i=f.extend({type:"boxplot",getStyleUpdater:function(){return d},dispose:e.noop});e.mixin(i,h.viewMixin,!0);var j=["itemStyle","normal"],k=["itemStyle","emphasis"];a.exports=i},function(a,b){var c=["itemStyle","normal","borderColor"];a.exports=function(a,b){var d=a.get("color");a.eachRawSeriesByType("boxplot",function(b){var e=d[b.seriesIndex%d.length],f=b.getData();f.setVisual({legendSymbol:"roundRect",color:b.get(c)||e}),a.isSeriesFiltered(b)||f.each(function(a){var b=f.getItemModel(a);f.setItemVisual(a,{color:b.get(c,!0)})})})}},function(a,b,c){function d(a){var b=[],c=[];return a.eachSeriesByType("boxplot",function(a){var d=a.getBaseAxis(),e=g.indexOf(c,d);0>e&&(e=c.length,c[e]=d,b[e]={axis:d,seriesModels:[]}),b[e].seriesModels.push(a)}),b}function e(a){var b,c,d=a.axis,e=a.seriesModels,f=e.length,h=a.boxWidthList=[],k=a.boxOffsetList=[],l=[];if("category"===d.type)c=d.getBandWidth();else{var m=0;j(e,function(a){m=Math.max(m,a.getData().count())}),b=d.getExtent(),Math.abs(b[1]-b[0])/m}j(e,function(a){var b=a.get("boxWidth");g.isArray(b)||(b=[b,b]),l.push([i(b[0],c)||0,i(b[1],c)||0])});var n=.8*c-2,o=n/f*.3,p=(n-o*(f-1))/f,q=p/2-n/2;j(e,function(a,b){k.push(q),q+=o+p,h.push(Math.min(Math.max(p,l[b][0]),l[b][1]))})}function f(a,b,c){var d=a.coordinateSystem,e=a.getData(),f=a.dimensions,g=a.get("layout"),h=c/2;e.each(f,function(){function a(a){var c=[];c[n]=l,c[o]=a;var e;return isNaN(l)||isNaN(a)?e=[NaN,NaN]:(e=d.dataToPoint(c),e[n]+=b),e}function c(a,b){var c=a.slice(),d=a.slice();c[n]+=h,d[n]-=h,b?t.push(c,d):t.push(d,c)}function i(a){var b=[a.slice(),a.slice()];b[0][n]-=h,b[1][n]+=h,s.push(b)}var j=arguments,k=f.length,l=j[0],m=j[k],n="horizontal"===g?0:1,o=1-n,p=a(j[3]),q=a(j[1]),r=a(j[5]),s=[[q,a(j[2])],[r,a(j[4])]];i(q),i(r),i(p);var t=[];c(s[0][1],0),c(s[1][1],1),e.setItemLayout(m,{chartLayout:g,initBaseline:p[o],median:p,bodyEnds:t,whiskerEnds:s})})}var g=c(4),h=c(7),i=h.parsePercent,j=g.each;a.exports=function(a){var b=d(a);j(b,function(a){var b=a.seriesModels;b.length&&(e(a),j(b,function(b,c){f(b,a.boxOffsetList[c],a.boxWidthList[c])}))})}},function(a,b,c){var d=c(1);c(255),c(256),d.registerPreprocessor(c(257)),d.registerVisual(c(258)),d.registerLayout(c(259))},function(a,b,c){var d=c(4),e=c(28),f=c(249),g=c(6),h=g.encodeHTML,i=g.addCommas,j=e.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(a,b){var c=d.map(this.valueDimensions,function(b){return h(b+": "+i(this.getData().get(b,a)))},this).join("<br />"),e=[];return null!=this.name&&e.push(h(this.name)),null!=c&&e.push(c),e.join("<br />")},brushSelector:function(a,b){return b.rect(a.brushRect)}});d.mixin(j,f.seriesModelMixin,!0),a.exports=j},function(a,b,c){function d(a,b,c){var d=b.getItemModel(c),e=d.getModel(j),f=b.getItemVisual(c,"color"),h=b.getItemVisual(c,"borderColor")||f,i=e.getItemStyle(["color","color0","borderColor","borderColor0"]),l=a.childAt(a.whiskerIndex);l.useStyle(i),l.style.stroke=h;var m=a.childAt(a.bodyIndex);m.useStyle(i),m.style.fill=f,m.style.stroke=h;var n=d.getModel(k).getItemStyle();g.setHoverStyle(a,n)}var e=c(4),f=c(42),g=c(43),h=c(249),i=f.extend({type:"candlestick",getStyleUpdater:function(){return d},dispose:e.noop});e.mixin(i,h.viewMixin,!0);var j=["itemStyle","normal"],k=["itemStyle","emphasis"];a.exports=i},function(a,b,c){var d=c(4);a.exports=function(a){a&&d.isArray(a.series)&&d.each(a.series,function(a){d.isObject(a)&&"k"===a.type&&(a.type="candlestick")})}},function(a,b){var c=["itemStyle","normal","borderColor"],d=["itemStyle","normal","borderColor0"],e=["itemStyle","normal","color"],f=["itemStyle","normal","color0"];a.exports=function(a,b){a.eachRawSeriesByType("candlestick",function(b){var g=b.getData();g.setVisual({legendSymbol:"roundRect"}),a.isSeriesFiltered(b)||g.each(function(a){var b=g.getItemModel(a),h=g.getItemLayout(a).sign;g.setItemVisual(a,{color:b.get(h>0?e:f),borderColor:b.get(h>0?c:d)})})})}},function(a,b,c){function d(a,b){var c,d=a.getBaseAxis(),g="category"===d.type?d.getBandWidth():(c=d.getExtent(),Math.abs(c[1]-c[0])/b.count()),h=f(e(a.get("barMaxWidth"),g),g),i=f(e(a.get("barMinWidth"),1),g),j=a.get("barWidth");return null!=j?f(j,g):Math.max(Math.min(g/2,h),i)}var e=c(4).retrieve,f=c(7).parsePercent;a.exports=function(a){a.eachSeriesByType("candlestick",function(a){var b=a.coordinateSystem,c=a.getData(),e=a.dimensions,f=a.get("layout"),g=d(a,c);c.each(e,function(){function a(a){var c=[];return c[m]=k,c[n]=a,isNaN(k)||isNaN(a)?[NaN,NaN]:b.dataToPoint(c)}function d(a,b){var c=a.slice(),d=a.slice();c[m]+=g/2,d[m]-=g/2,b?z.push(c,d):z.push(d,c)}function h(){var b=a(Math.min(o,p,q,r)),c=a(Math.max(o,p,q,r));return b[m]-=g/2,c[m]-=g/2,{x:b[0],y:b[1],
width:n?g:c[0]-b[0],height:n?c[1]-b[1]:g}}var i=arguments,j=e.length,k=i[0],l=i[j],m="horizontal"===f?0:1,n=1-m,o=i[1],p=i[2],q=i[3],r=i[4],s=Math.min(o,p),t=Math.max(o,p),u=a(s),v=a(t),w=a(q),x=a(r),y=[[x,v],[w,u]],z=[];d(v,0),d(u,1),c.setItemLayout(l,{chartLayout:f,sign:o>p?-1:p>o?1:0,initBaseline:o>p?v[n]:u[n],bodyEnds:z,whiskerEnds:y,brushRect:h()})},!0)})}},function(a,b,c){var d=c(4),e=c(1);c(261),c(262),e.registerVisual(d.curry(c(110),"effectScatter","circle",null)),e.registerLayout(d.curry(c(111),"effectScatter"))},function(a,b,c){var d=c(102),e=c(28);a.exports=e.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,b){var c=d(a.data,this,b);return c},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}})},function(a,b,c){var d=c(105),e=c(263);c(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new d(e)},render:function(a,b,c){var d=a.getData(),e=this._symbolDraw;e.updateData(d),this.group.add(e.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b)},dispose:function(){}})},function(a,b,c){function d(a){return g.isArray(a)||(a=[+a,+a]),a}function e(a,b){a.eachChild(function(a){a.attr({z:b.z,zlevel:b.zlevel,style:{stroke:"stroke"===b.brushType?b.color:null,fill:"fill"===b.brushType?b.color:null}})})}function f(a,b){l.call(this);var c=new k(a,b),d=new l;this.add(c),this.add(d),d.beforeUpdate=function(){this.attr(c.getScale())},this.updateData(a,b)}var g=c(4),h=c(107),i=c(43),j=c(7),k=c(106),l=i.Group,m=3,n=f.prototype;n.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.startEffectAnimation=function(a){for(var b=a.symbolType,c=a.color,d=this.childAt(1),f=0;m>f;f++){var g=h.createSymbol(b,-1,-1,2,2,c);g.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var i=-f/m*a.period+a.effectOffset;g.animate("",!0).when(a.period,{scale:[a.rippleScale/2,a.rippleScale/2]}).delay(i).start(),g.animateStyle(!0).when(a.period,{opacity:0}).delay(i).start(),d.add(g)}e(d,a)},n.updateEffectAnimation=function(a){for(var b=this._effectCfg,c=this.childAt(1),d=["symbolType","period","rippleScale"],f=0;d>f;f++){var g=d[f];if(b[g]!==a[g])return this.stopEffectAnimation(),void this.startEffectAnimation(a)}e(c,a)},n.highlight=function(){this.trigger("emphasis")},n.downplay=function(){this.trigger("normal")},n.updateData=function(a,b){var c=a.hostModel;this.childAt(0).updateData(a,b);var e=this.childAt(1),f=a.getItemModel(b),g=a.getItemVisual(b,"symbol"),h=d(a.getItemVisual(b,"symbolSize")),i=a.getItemVisual(b,"color");e.attr("scale",h),e.traverse(function(a){a.attr({fill:i})});var k=f.getShallow("symbolOffset");if(k){var l=e.position;l[0]=j.parsePercent(k[0],h[0]),l[1]=j.parsePercent(k[1],h[1])}e.rotation=(f.getShallow("symbolRotate")||0)*Math.PI/180||0;var m={};if(m.showEffectOn=c.get("showEffectOn"),m.rippleScale=f.get("rippleEffect.scale"),m.brushType=f.get("rippleEffect.brushType"),m.period=1e3*f.get("rippleEffect.period"),m.effectOffset=b/a.count(),m.z=f.getShallow("z")||0,m.zlevel=f.getShallow("zlevel")||0,m.symbolType=g,m.color=i,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===m.showEffectOn)this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m;else{this._effectCfg=null,this.stopEffectAnimation();var n=this.childAt(0),o=function(){n.trigger("emphasis"),"render"!==m.showEffectOn&&this.startEffectAnimation(m)},p=function(){n.trigger("normal"),"render"!==m.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",o,this).on("mouseout",p,this).on("emphasis",o,this).on("normal",p,this)}this._effectCfg=m},n.fadeOut=function(a){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),a&&a()},g.inherits(f,l),a.exports=f},function(a,b,c){c(265),c(266);var d=c(1);d.registerLayout(c(271)),d.registerVisual(c(272))},function(a,b,c){function d(a){var b=a.data;b&&b[0]&&b[0][0]&&b[0][0].coord&&(a.data=g.map(b,function(a){var b=[a[0].coord,a[1].coord],c={coords:b};return a[0].name&&(c.fromName=a[0].name),a[1].name&&(c.toName=a[1].name),g.mergeAll([c,a[0],a[1]])}))}var e=c(28),f=c(98),g=c(4),h=c(6),i=c(26),j=e.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(a){d(a),j.superApply(this,"init",arguments)},mergeOption:function(a){d(a),j.superApply(this,"mergeOption",arguments)},getInitialData:function(a,b){var c=i.get(a.coordinateSystem);if(!c)throw new Error("Unkown coordinate system "+a.coordinateSystem);var d=new f(["value"],this);return d.hasItemOption=!1,d.initData(a.data,[],function(a,b,c,e){if(a instanceof Array)return NaN;d.hasItemOption=!0;var f=a.value;return null!=f?f instanceof Array?f[e]:f:void 0}),d},formatTooltip:function(a){var b=this.getData(),c=b.getItemModel(a),d=c.get("name");if(d)return d;var e=c.get("fromName"),f=c.get("toName"),g=[];return null!=e&&g.push(e),null!=f&&g.push(f),h.encodeHTML(g.join(" > "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(a,b,c){var d=c(202),e=c(267),f=c(203),g=c(268),h=c(269),i=c(270);c(1).extendChartView({type:"lines",init:function(){},render:function(a,b,c){var j=a.getData(),k=this._lineDraw,l=a.get("effect.show"),m=a.get("polyline"),n=a.get("large")&&j.count()>=a.get("largeThreshold");(l!==this._hasEffet||m!==this._isPolyline||n!==this._isLarge)&&(k&&k.remove(),k=this._lineDraw=n?new i:new d(m?l?h:g:l?e:f),this._hasEffet=l,this._isPolyline=m,this._isLarge=n);var o=a.get("zlevel"),p=a.get("effect.trailLength"),q=c.getZr();if(q.painter.getLayer(o).clear(!0),null!=this._lastZlevel&&q.configLayer(this._lastZlevel,{motionBlur:!1}),l&&p){var r=!1;b.eachSeries(function(b){b!==a&&b.get("zlevel")===o&&(r=!0)}),q.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(p/10+.9,1),0)})}this.group.add(k.group),k.updateData(j),this._lastZlevel=o},updateLayout:function(a,b,c){this._lineDraw.updateLayout(a);var d=c.getZr();d.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(a,b){this._lineDraw&&this._lineDraw.remove(b,!0)},dispose:function(){}})},function(a,b,c){function d(a,b,c){e.Group.call(this),this.add(this.createLine(a,b,c)),this._updateEffectSymbol(a,b)}var e=c(43),f=c(203),g=c(4),h=c(107),i=c(10),j=c(50),k=d.prototype;k.createLine=function(a,b,c){return new f(a,b,c)},k._updateEffectSymbol=function(a,b){var c=a.getItemModel(b),d=c.getModel("effect"),e=d.get("symbolSize"),f=d.get("symbol");g.isArray(e)||(e=[e,e]);var i=d.get("color")||a.getItemVisual(b,"color"),j=this.childAt(1);this._symbolType!==f&&(this.remove(j),j=h.createSymbol(f,-.5,-.5,1,1,i),j.z2=100,j.culling=!0,this.add(j)),j&&(j.setStyle("shadowColor",i),j.setStyle(d.getItemStyle(["color"])),j.attr("scale",e),j.setColor(i),j.attr("scale",e),this._symbolType=f,this._updateEffectAnimation(a,d,b))},k._updateEffectAnimation=function(a,b,c){var d=this.childAt(1);if(d){var e=this,f=a.getItemLayout(c),h=1e3*b.get("period"),i=b.get("loop"),j=b.get("constantSpeed"),k=g.retrieve(b.get("delay"),function(b){return b/a.count()*h/3}),l="function"==typeof k;if(d.ignore=!0,this.updateAnimationPoints(d,f),j>0&&(h=this.getLineLength(d)/j*1e3),h!==this._period||i!==this._loop){d.stopAnimation();var m=k;l&&(m=k(c)),d.__t>0&&(m=-h*d.__t),d.__t=0;var n=d.animate("",i).when(h,{__t:1}).delay(m).during(function(){e.updateSymbolPosition(d)});i||n.done(function(){e.remove(d)}),n.start()}this._period=h,this._loop=i}},k.getLineLength=function(a){return i.dist(a.__p1,a.__cp1)+i.dist(a.__cp1,a.__p2)},k.updateAnimationPoints=function(a,b){a.__p1=b[0],a.__p2=b[1],a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]},k.updateData=function(a,b,c){this.childAt(0).updateData(a,b,c),this._updateEffectSymbol(a,b)},k.updateSymbolPosition=function(a){var b=a.__p1,c=a.__p2,d=a.__cp1,e=a.__t,f=a.position,g=j.quadraticAt,h=j.quadraticDerivativeAt;f[0]=g(b[0],d[0],c[0],e),f[1]=g(b[1],d[1],c[1],e);var i=h(b[0],d[0],c[0],e),k=h(b[1],d[1],c[1],e);a.rotation=-Math.atan2(k,i)-Math.PI/2,a.ignore=!1},k.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var c=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,c,b)},g.inherits(d,e.Group),a.exports=d},function(a,b,c){function d(a,b,c){e.Group.call(this),this._createPolyline(a,b,c)}var e=c(43),f=c(4),g=d.prototype;g._createPolyline=function(a,b,c){var d=a.getItemLayout(b),f=new e.Polyline({shape:{points:d}});this.add(f),this._updateCommonStl(a,b,c)},g.updateData=function(a,b,c){var d=a.hostModel,f=this.childAt(0),g={shape:{points:a.getItemLayout(b)}};e.updateProps(f,g,d,b),this._updateCommonStl(a,b,c)},g._updateCommonStl=function(a,b,c){var d=this.childAt(0),g=a.getItemModel(b),h=a.getItemVisual(b,"color"),i=c&&c.lineStyle,j=c&&c.hoverLineStyle;(!c||a.hasItemOption)&&(i=g.getModel("lineStyle.normal").getLineStyle(),j=g.getModel("lineStyle.emphasis").getLineStyle()),d.useStyle(f.defaults({strokeNoScale:!0,fill:"none",stroke:h},i)),d.hoverStyle=j,e.setHoverStyle(this)},g.updateLayout=function(a,b){var c=this.childAt(0);c.setShape("points",a.getItemLayout(b))},f.inherits(d,e.Group),a.exports=d},function(a,b,c){function d(a,b,c){g.call(this,a,b,c),this._lastFrame=0,this._lastFramePercent=0}var e=c(268),f=c(4),g=c(267),h=c(10),i=d.prototype;i.createLine=function(a,b,c){return new e(a,b,c)},i.updateAnimationPoints=function(a,b){this._points=b;for(var c=[0],d=0,e=1;e<b.length;e++){var f=b[e-1],g=b[e];d+=h.dist(f,g),c.push(d)}if(0!==d){for(var e=0;e<c.length;e++)c[e]/=d;this._offsets=c,this._length=d}},i.getLineLength=function(a){return this._length},i.updateSymbolPosition=function(a){var b=a.__t,c=this._points,d=this._offsets,e=c.length;if(d){var f,g=this._lastFrame;if(b<this._lastFramePercent){var i=Math.min(g+1,e-1);for(f=i;f>=0&&!(d[f]<=b);f--);f=Math.min(f,e-2)}else{for(var f=g;e>f&&!(d[f]>b);f++);f=Math.min(f-1,e-2)}h.lerp(a.position,c[f],c[f+1],(b-d[f])/(d[f+1]-d[f]));var j=c[f+1][0]-c[f][0],k=c[f+1][1]-c[f][1];a.rotation=-Math.atan2(k,j)-Math.PI/2,this._lastFrame=f,this._lastFramePercent=b,a.ignore=!1}},f.inherits(d,g),a.exports=d},function(a,b,c){function d(){this.group=new e.Group,this._lineEl=new h}var e=c(43),f=c(55),g=c(53),h=e.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(a,b){for(var c=b.segs,d=b.polyline,e=0;e<c.length;e++){var f=c[e];if(d){a.moveTo(f[0][0],f[0][1]);for(var g=1;g<f.length;g++)a.lineTo(f[g][0],f[g][1])}else a.moveTo(f[0][0],f[0][1]),f.length>2?a.quadraticCurveTo(f[2][0],f[2][1],f[1][0],f[1][1]):a.lineTo(f[1][0],f[1][1])}},findDataIndex:function(a,b){for(var c=this.shape,d=c.segs,e=c.polyline,h=Math.max(this.style.lineWidth,1),i=0;i<d.length;i++){var j=d[i];if(e){for(var k=1;k<j.length;k++)if(g.containStroke(j[k-1][0],j[k-1][1],j[k][0],j[k][1],h,a,b))return i}else if(j.length>2){if(f.containStroke(j[0][0],j[0][1],j[2][0],j[2][1],j[1][0],j[1][1],h,a,b))return i}else if(g.containStroke(j[0][0],j[0][1],j[1][0],j[1][1],h,a,b))return i}return-1}}),i=d.prototype;i.updateData=function(a){this.group.removeAll();var b=this._lineEl,c=a.hostModel;b.setShape({segs:a.mapArray(a.getItemLayout),polyline:c.get("polyline")}),b.useStyle(c.getModel("lineStyle.normal").getLineStyle());var d=a.getVisual("color");d&&b.setStyle("stroke",d),b.setStyle("fill"),b.seriesIndex=c.seriesIndex,b.on("mousemove",function(a){b.dataIndex=null;var c=b.findDataIndex(a.offsetX,a.offsetY);c>0&&(b.dataIndex=c)}),this.group.add(b)},i.updateLayout=function(a){var b=a.getData();this._lineEl.setShape({segs:b.mapArray(b.getItemLayout)})},i.remove=function(){this.group.removeAll()},a.exports=d},function(a,b,c){a.exports=function(a){a.eachSeriesByType("lines",function(a){var b=a.coordinateSystem,c=a.getData();c.each(function(d){var e=c.getItemModel(d),f=e.option instanceof Array?e.option:e.get("coords");if(!(f instanceof Array&&f.length>0&&f[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(f)+". Lines must have 2d coords array in data item.");var g=[];if(a.get("polyline"))for(var h=0;h<f.length;h++)g.push(b.dataToPoint(f[h]));else{g[0]=b.dataToPoint(f[0]),g[1]=b.dataToPoint(f[1]);var i=e.get("lineStyle.normal.curveness");+i&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*i,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*i])}c.setItemLayout(d,g)})})}},function(a,b){function c(a){return a instanceof Array||(a=[a,a]),a}a.exports=function(a){a.eachSeriesByType("lines",function(a){var b=a.getData(),d=c(a.get("symbol")),e=c(a.get("symbolSize")),f="lineStyle.normal.opacity".split(".");b.setVisual("fromSymbol",d&&d[0]),b.setVisual("toSymbol",d&&d[1]),b.setVisual("fromSymbolSize",e&&e[0]),b.setVisual("toSymbolSize",e&&e[1]),b.setVisual("opacity",a.get(f)),b.each(function(a){var d=b.getItemModel(a),e=c(d.getShallow("symbol",!0)),g=c(d.getShallow("symbolSize",!0)),h=d.get(f);e[0]&&b.setItemVisual(a,"fromSymbol",e[0]),e[1]&&b.setItemVisual(a,"toSymbol",e[1]),g[0]&&b.setItemVisual(a,"fromSymbolSize",g[0]),g[1]&&b.setItemVisual(a,"toSymbolSize",g[1]),b.setItemVisual(a,"opacity",h)})})}},function(a,b,c){c(274),c(275)},function(a,b,c){var d=c(28),e=c(102);a.exports=d.extend({type:"series.heatmap",getInitialData:function(a,b){return e(a.data,this,b)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(a,b,c){function d(a,b,c){var d=a[1]-a[0];b=i.map(b,function(b){return{interval:[(b.interval[0]-a[0])/d,(b.interval[1]-a[0])/d]}});var e=b.length,f=0;return function(a){for(var d=f;e>d;d++){var g=b[d].interval;if(g[0]<=a&&a<=g[1]){f=d;break}}if(d===e)for(var d=f-1;d>=0;d--){var g=b[d].interval;if(g[0]<=a&&a<=g[1]){f=d;break}}return d>=0&&e>d&&c[d]}}function e(a,b){var c=a[1]-a[0];return b=[(b[0]-a[0])/c,(b[1]-a[0])/c],function(a){return a>=b[0]&&a<=b[1]}}function f(a){var b=a.dimensions;return"lng"===b[0]&&"lat"===b[1]}var g=c(43),h=c(276),i=c(4);a.exports=c(1).extendChartView({type:"heatmap",render:function(a,b,c){var d;if(b.eachComponent("visualMap",function(b){b.eachTargetSeries(function(c){c===a&&(d=b)})}),!d)throw new Error("Heatmap must use with visualMap");this.group.removeAll();var e=a.coordinateSystem;"cartesian2d"===e.type?this._renderOnCartesian(e,a,c):f(e)&&this._renderOnGeo(e,a,d,c)},dispose:function(){},_renderOnCartesian:function(a,b,c){var d=a.getAxis("x"),e=a.getAxis("y"),f=this.group;if("category"!==d.type||"category"!==e.type)throw new Error("Heatmap on cartesian must have two category axes");if(!d.onBand||!e.onBand)throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");var h=d.getBandWidth(),j=e.getBandWidth(),k=b.getData(),l="itemStyle.normal",m="itemStyle.emphasis",n="label.normal",o="label.emphasis",p=b.getModel(l).getItemStyle(["color"]),q=b.getModel(m).getItemStyle(),r=b.getModel("label.normal"),s=b.getModel("label.emphasis");k.each(["x","y","z"],function(c,d,e,t){var u=k.getItemModel(t),v=a.dataToPoint([c,d]);if(!isNaN(e)){var w=new g.Rect({shape:{x:v[0]-h/2,y:v[1]-j/2,width:h,height:j},style:{fill:k.getItemVisual(t,"color"),opacity:k.getItemVisual(t,"opacity")}});k.hasItemOption&&(p=u.getModel(l).getItemStyle(["color"]),q=u.getModel(m).getItemStyle(),r=u.getModel(n),s=u.getModel(o));var x=b.getRawValue(t),y="-";x&&null!=x[2]&&(y=x[2]),r.getShallow("show")&&(g.setText(p,r),p.text=b.getFormattedLabel(t,"normal")||y),s.getShallow("show")&&(g.setText(q,s),q.text=b.getFormattedLabel(t,"emphasis")||y),w.setStyle(p),g.setHoverStyle(w,k.hasItemOption?q:i.extend({},q)),f.add(w),k.setItemGraphicEl(t,w)}})},_renderOnGeo:function(a,b,c,f){var i=c.targetVisuals.inRange,j=c.targetVisuals.outOfRange,k=b.getData(),l=this._hmLayer||this._hmLayer||new h;l.blurSize=b.get("blurSize"),l.pointSize=b.get("pointSize"),l.minOpacity=b.get("minOpacity"),l.maxOpacity=b.get("maxOpacity");var m=a.getViewRect().clone(),n=a.getRoamTransform().transform;m.applyTransform(n);var o=Math.max(m.x,0),p=Math.max(m.y,0),q=Math.min(m.width+m.x,f.getWidth()),r=Math.min(m.height+m.y,f.getHeight()),s=q-o,t=r-p,u=k.mapArray(["lng","lat","value"],function(b,c,d){var e=a.dataToPoint([b,c]);return e[0]-=o,e[1]-=p,e.push(d),e}),v=c.getExtent(),w="visualMap.continuous"===c.type?e(v,c.option.range):d(v,c.getPieceList(),c.option.selected);l.update(u,s,t,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:j.color.getColorMapper()},w);var x=new g.Image({style:{width:s,height:t,x:o,y:p,image:l.canvas},silent:!0});this.group.add(x)}})},function(a,b,c){function d(){var a=f.createCanvas();this.canvas=a,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}var e=256,f=c(4);d.prototype={update:function(a,b,c,d,f,g){var h=this._getBrush(),i=this._getGradient(a,f,"inRange"),j=this._getGradient(a,f,"outOfRange"),k=this.pointSize+this.blurSize,l=this.canvas,m=l.getContext("2d"),n=a.length;l.width=b,l.height=c;for(var o=0;n>o;++o){var p=a[o],q=p[0],r=p[1],s=p[2],t=d(s);m.globalAlpha=t,m.drawImage(h,q-k,r-k)}for(var u=m.getImageData(0,0,l.width,l.height),v=u.data,w=0,x=v.length,y=this.minOpacity,z=this.maxOpacity,A=z-y;x>w;){var t=v[w+3]/256,B=4*Math.floor(t*(e-1));if(t>0){var C=g(t)?i:j;t>0&&(t=t*A+y),v[w++]=C[B],v[w++]=C[B+1],v[w++]=C[B+2],v[w++]=C[B+3]*t*256}else w+=4}return m.putImageData(u,0,0),l},_getBrush:function(){var a=this._brushCanvas||(this._brushCanvas=f.createCanvas()),b=this.pointSize+this.blurSize,c=2*b;a.width=c,a.height=c;var d=a.getContext("2d");return d.clearRect(0,0,c,c),d.shadowOffsetX=c,d.shadowBlur=this.blurSize,d.shadowColor="#000",d.beginPath(),d.arc(-b,b,this.pointSize,0,2*Math.PI,!0),d.closePath(),d.fill(),a},_getGradient:function(a,b,c){for(var d=this._gradientPixels,e=d[c]||(d[c]=new Uint8ClampedArray(1024)),f=[],g=0,h=0;256>h;h++)b[c](h/255,!0,f),e[g++]=f[0],e[g++]=f[1],e[g++]=f[2],e[g++]=f[3];return e}},a.exports=d},function(a,b,c){var d=c(4);c(114),c(278),c(279);var e=c(140),f=c(1);f.registerLayout(d.curry(e,"pictorialBar")),f.registerVisual(d.curry(c(110),"pictorialBar","roundRect",null)),c(113)},function(a,b,c){var d=c(136).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,d.superApply(this,"getInitialData",arguments)}});a.exports=d},function(a,b,c){function d(a,b,c,d){var i=a.getItemLayout(b),j=c.get("symbolRepeat"),k=c.get("symbolClip"),l=c.get("symbolPosition")||"start",m=c.get("symbolRotate"),n=(m||0)*Math.PI/180||0,o=c.get("symbolPatternSize")||2,p=c.isAnimationEnabled(),q={dataIndex:b,layout:i,itemModel:c,symbolType:a.getItemVisual(b,"symbol")||"circle",color:a.getItemVisual(b,"color"),symbolClip:k,symbolRepeat:j,symbolRepeatDirection:c.get("symbolRepeatDirection"),symbolPatternSize:o,rotation:n,animationModel:p?c:null,hoverAnimation:p&&c.get("hoverAnimation"),z2:c.getShallow("z",!0)||0};e(c,j,i,d,q),f(a,b,i,j,k,q.boundingLength,q.pxSign,o,d,q),g(c,q.symbolScale,n,d,q);var r=q.symbolSize,s=c.get("symbolOffset");return z.isArray(s)&&(s=[E(s[0],r[0]),E(s[1],r[1])]),h(c,r,i,j,k,s,l,q.valueLineWidth,q.boundingLength,q.repeatCutLength,d,q),q}function e(a,b,c,d,e){var f=d.valueDim,g=a.get("symbolBoundingData"),h=d.coordSys.getOtherAxis(d.coordSys.getBaseAxis()),i=h.toGlobalCoord(h.dataToCoord(0)),j=e.boundingLength=null!=g?h.toGlobalCoord(h.dataToCoord(h.scale.parse(g)))-i:b?d.coordSysExtent[f.index][1-+(c[f.wh]<=0)]-i:c[f.wh];b&&(e.repeatCutLength=c[f.wh]),e.pxSign=j>0?1:0>j?-1:0}function f(a,b,c,d,e,f,g,h,i,j){var k=i.valueDim,l=i.categoryDim,m=Math.abs(c[l.wh]),n=a.getItemVisual(b,"symbolSize");z.isArray(n)?n=n.slice():(null==n&&(n="100%"),n=[n,n]),n[l.index]=E(n[l.index],m),n[k.index]=E(n[k.index],d?m:Math.abs(f)),j.symbolSize=n;var o=j.symbolScale=[n[0]/h,n[1]/h];o[k.index]*=(i.isHorizontal?-1:1)*g}function g(a,b,c,d,e){var f=a.get(F)||0;f&&(H.attr({scale:b.slice(),rotation:c}),H.updateTransform(),f/=H.getLineScale(),f*=b[d.valueDim.index]),e.valueLineWidth=f}function h(a,b,c,d,e,f,g,h,i,j,k,l){var m=k.categoryDim,n=k.valueDim,o=l.pxSign,p=Math.max(b[n.index]+h,0),q=p;if(d){var r=Math.abs(i),s=z.retrieve(a.get("symbolMargin"),"15%")+"",t=!1;s.lastIndexOf("!")===s.length-1&&(t=!0,s=s.slice(0,s.length-1)),s=E(s,b[n.index]);var u=Math.max(p+2*s,0),v=t?0:2*s,w=C.isNumeric(d),x=w?d:y((r+v)/u),A=r-x*p;s=A/2/(t?x:x-1),u=p+2*s,v=t?0:2*s,w||"fixed"===d||(x=j?y((Math.abs(j)+v)/u):0),q=x*u-v,l.repeatTimes=x,l.symbolMargin=s}var B=o*(q/2),D=l.pathPosition=[];D[m.index]=c[m.wh]/2,D[n.index]="start"===g?B:"end"===g?i-B:i/2,f&&(D[0]+=f[0],D[1]+=f[1]);var F=l.bundlePosition=[];F[m.index]=c[m.xy],F[n.index]=c[n.xy];var G=l.barRectShape=z.extend({},c);G[n.wh]=o*Math.max(Math.abs(c[n.wh]),Math.abs(D[n.index]+B)),G[m.wh]=c[m.wh];var H=l.clipShape={};H[m.xy]=-c[m.xy],H[m.wh]=k.ecSize[m.wh],H[n.xy]=0,H[n.wh]=c[n.wh]}function i(a){var b=a.symbolPatternSize,c=B.createSymbol(a.symbolType,-b/2,-b/2,b,b,a.color);return c.attr({culling:!0}),"image"!==c.type&&c.setStyle({strokeNoScale:!0}),c}function j(a,b,c,d){function e(a){var b=l.slice(),d=c.pxSign,e=a;return("start"===c.symbolRepeatDirection?d>0:0>d)&&(e=n-1-a),b[m.index]=p*(e-n/2+.5)+l[m.index],{position:b,scale:c.symbolScale.slice(),rotation:c.rotation}}function f(){v(a,function(a){a.trigger("emphasis")})}function g(){v(a,function(a){a.trigger("normal")})}var h=a.__pictorialBundle,j=c.symbolSize,k=c.valueLineWidth,l=c.pathPosition,m=b.valueDim,n=c.repeatTimes||0,o=0,p=j[b.valueDim.index]+k+2*c.symbolMargin;for(v(a,function(a){a.__pictorialAnimationIndex=o,a.__pictorialRepeatTimes=n,n>o?w(a,null,e(o),c,d):w(a,null,{scale:[0,0]},c,d,function(){h.remove(a)}),q(a,c),o++});n>o;o++){var r=i(c);r.__pictorialAnimationIndex=o,r.__pictorialRepeatTimes=n,h.add(r);var s=e(o,!0);w(r,{position:s.position,scale:[0,0]},{scale:s.scale,rotation:s.rotation},c,d),r.on("mouseover",f).on("mouseout",g),q(r,c)}}function k(a,b,c,d){function e(){this.trigger("emphasis")}function f(){this.trigger("normal")}var g=a.__pictorialBundle,h=a.__pictorialMainPath;h?w(h,null,{position:c.pathPosition.slice(),scale:c.symbolScale.slice(),rotation:c.rotation},c,d):(h=a.__pictorialMainPath=i(c),g.add(h),w(h,{position:c.pathPosition.slice(),scale:[0,0],rotation:c.rotation},{scale:c.symbolScale.slice()},c,d),h.on("mouseover",e).on("mouseout",f)),q(h,c)}function l(a,b,c){var d=z.extend({},b.barRectShape),e=a.__pictorialBarRect;e?w(e,null,{shape:d},b,c):(e=a.__pictorialBarRect=new A.Rect({z2:2,shape:d,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),a.add(e))}function m(a,b,c,d){if(c.symbolClip){var e=a.__pictorialClipPath,f=z.extend({},c.clipShape),g=b.valueDim,h=c.animationModel,i=c.dataIndex;if(e)A.updateProps(e,{shape:f},h,i);else{f[g.wh]=0,e=new A.Rect({shape:f}),a.__pictorialBundle.setClipPath(e),a.__pictorialClipPath=e;var j={};j[g.wh]=c.clipShape[g.wh],A[d?"updateProps":"initProps"](e,{shape:j},h,i)}}}function n(a,b){var c=a.getItemModel(b);return c.getAnimationDelayParams=o,c.isAnimationEnabled=p,c}function o(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function p(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function q(a,b){a.off("emphasis").off("normal");var c=b.symbolScale.slice();b.hoverAnimation&&a.on("emphasis",function(){this.animateTo({scale:[1.1*c[0],1.1*c[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:c.slice()},400,"elasticOut")})}function r(a,b,c,d){var e=new A.Group,f=new A.Group;return e.add(f),e.__pictorialBundle=f,f.attr("position",c.bundlePosition.slice()),c.symbolRepeat?j(e,b,c):k(e,b,c),l(e,c,d),m(e,b,c,d),e.__pictorialShapeStr=u(a,c),e.__pictorialSymbolMeta=c,e}function s(a,b,c){var d=c.animationModel,e=c.dataIndex,f=a.__pictorialBundle;A.updateProps(f,{position:c.bundlePosition.slice()},d,e),c.symbolRepeat?j(a,b,c,!0):k(a,b,c,!0),l(a,c,!0),m(a,b,c,!0)}function t(a,b,c,d){var e=d.__pictorialBarRect;e&&(e.style.text="");var f=[];v(d,function(a){f.push(a)}),d.__pictorialMainPath&&f.push(d.__pictorialMainPath),d.__pictorialClipPath&&(c=null),z.each(f,function(a){A.updateProps(a,{scale:[0,0]},c,b,function(){d.parent&&d.parent.remove(d)})}),a.setItemGraphicEl(b,null)}function u(a,b){return[a.getItemVisual(b.dataIndex,"symbol")||"none",!!b.symbolRepeat,!!b.symbolClip].join(":")}function v(a,b,c){z.each(a.__pictorialBundle.children(),function(d){d!==a.__pictorialBarRect&&b.call(c,d)})}function w(a,b,c,d,e,f){b&&a.attr(b),d.symbolClip&&!e?c&&a.attr(c):c&&A[e?"updateProps":"initProps"](a,c,d.animationModel,d.dataIndex,f)}function x(a,b,c){var d=c.color,e=c.dataIndex,f=c.itemModel,g=f.getModel("itemStyle.normal").getItemStyle(["color"]),h=f.getModel("itemStyle.emphasis").getItemStyle();v(a,function(a){a.setColor(d),a.setStyle(z.defaults({fill:d,opacity:c.opacity},g)),A.setHoverStyle(a,h),a.z2=c.z2});var i={},j=b.valueDim.posDesc[+(c.boundingLength>0)],k=a.__pictorialBarRect;D.setLabel(k.style,i,f,d,b.seriesModel,e,j),A.setHoverStyle(k,i)}function y(a){var b=Math.round(a);return Math.abs(a-b)<1e-4?b:Math.ceil(a)}var z=c(4),A=c(43),B=c(107),C=c(7),D=c(138),E=C.parsePercent,F=["itemStyle","normal","borderWidth"],G=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],H=new A.Circle,I=c(1).extendChartView({type:"pictorialBar",render:function(a,b,c){var e=this.group,f=a.getData(),g=this._data,h=a.coordinateSystem,i=h.getBaseAxis(),j=!!i.isHorizontal(),k=h.grid.getRect(),l={ecSize:{width:c.getWidth(),height:c.getHeight()},seriesModel:a,coordSys:h,coordSysExtent:[[k.x,k.x+k.width],[k.y,k.y+k.height]],isHorizontal:j,valueDim:G[+j],categoryDim:G[1-j]};return f.diff(g).add(function(a){if(f.hasValue(a)){var b=n(f,a),c=d(f,a,b,l),g=r(f,l,c);f.setItemGraphicEl(a,g),e.add(g),x(g,l,c)}}).update(function(a,b){var c=g.getItemGraphicEl(b);if(!f.hasValue(a))return void e.remove(c);var h=n(f,a),i=d(f,a,h,l),j=u(f,i);c&&j!==c.__pictorialShapeStr&&(e.remove(c),f.setItemGraphicEl(a,null),c=null),c?s(c,l,i):c=r(f,l,i,!0),f.setItemGraphicEl(a,c),c.__pictorialSymbolMeta=i,e.add(c),x(c,l,i)}).remove(function(a){var b=g.getItemGraphicEl(a);b&&t(g,a,b.__pictorialSymbolMeta.animationModel,b)}).execute(),this._data=f,this.group},dispose:z.noop,remove:function(a,b){var c=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(b){t(d,b.dataIndex,a,b)}):c.removeAll()}});a.exports=I},function(a,b,c){var d=c(1),e=c(4);c(281),c(287),c(288),d.registerLayout(c(290)),d.registerVisual(c(291)),d.registerProcessor(e.curry(c(149),"themeRiver"))},function(a,b,c){c(282),c(285),c(286);var d=c(1);d.extendComponentView({type:"single"})},function(a,b,c){function d(a,b){var c=[];return a.eachComponent("singleAxis",function(d,f){var g=new e(d,a,b);g.name="single_"+f,g.resize(d,b),d.coordinateSystem=g,c.push(g)}),a.eachSeries(function(b){if("singleAxis"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"singleAxis",index:b.get("singleAxisIndex"),id:b.get("singleAxisId")})[0];b.coordinateSystem=c&&c.coordinateSystem}}),c}var e=c(283);c(26).register("single",{create:d,dimensions:e.prototype.dimensions})},function(a,b,c){function d(a,b,c){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(a,b,c),this._model=a}var e=c(284),f=c(115),g=c(21);d.prototype={type:"singleAxis",constructor:d,_init:function(a,b,c){var d=this.dimension,g=new e(d,f.createScaleByModel(a),[0,0],a.get("type"),a.get("position")),h="category"===g.type;g.onBand=h&&a.get("boundaryGap"),g.inverse=a.get("inverse"),g.orient=a.get("orient"),a.axis=g,g.model=a,this._axis=g},update:function(a,b){a.eachSeries(function(a){if(a.coordinateSystem===this){var b=a.getData(),c=this.dimension;this._axis.scale.unionExtentFromData(b,a.coordDimToDataDim(c)),f.niceScaleExtent(this._axis,this._axis.model)}},this)},resize:function(a,b){this._rect=g.getLayoutRect({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:b.getWidth(),height:b.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var a=this._rect,b=this._axis,c=b.isHorizontal(),d=c?[0,a.width]:[0,a.height],e=b.reverse?1:0;b.setExtent(d[e],d[1-e]),this._updateAxisTransform(b,c?a.x:a.y)},_updateAxisTransform:function(a,b){var c=a.getExtent(),d=c[0]+c[1],e=a.isHorizontal();a.toGlobalCoord=e?function(a){return a+b}:function(a){return d-a+b},a.toLocalCoord=e?function(a){return a-b}:function(a){return d-a+b}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},containPoint:function(a){var b=this.getRect(),c=this.getAxis(),d=c.orient;return"horizontal"===d?c.contain(c.toLocalCoord(a[0]))&&a[1]>=b.y&&a[1]<=b.y+b.height:c.contain(c.toLocalCoord(a[1]))&&a[0]>=b.y&&a[0]<=b.y+b.height},pointToData:function(a){var b=this.getAxis();return[b.coordToData(b.toLocalCoord(a["horizontal"===b.orient?0:1]))]},dataToPoint:function(a){var b=this.getAxis(),c=this.getRect(),d=[],e="horizontal"===b.orient?0:1;return d[e]=b.toGlobalCoord(b.dataToCoord(+a)),d[1-e]=0===e?c.y+c.height/2:c.x+c.width/2,d}},a.exports=d},function(a,b,c){var d=c(4),e=c(124),f=c(115),g=function(a,b,c,d,f){e.call(this,a,b,c),this.type=d||"value",this.position=f||"bottom",this.orient=null,this._labelInterval=null};g.prototype={constructor:g,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getLabelInterval:function(){var a=this._labelInterval;if(!a){var b=this.model,c=b.getModel("axisLabel"),e=c.get("interval");if("category"!==this.type||"auto"!==e)return a=this._labelInterval="auto"===e?0:e;a=this._labelInterval=f.getAxisLabelInterval(d.map(this.scale.getTicks(),this.dataToCoord,this),b.getFormattedLabels(),c.getModel("textStyle").getFont(),this.isHorizontal())}return a},toGlobalCoord:null,toLocalCoord:null},d.inherits(g,e),a.exports=g},function(a,b,c){function d(a){var b=a.coordinateSystem,c=a.axis,d={},e=c.position,f=c.orient,g=b.getRect(),h=[g.x,g.x+g.width,g.y,g.y+g.height],i={horizontal:{top:h[2],bottom:h[3]},vertical:{left:h[0],right:h[1]}};d.position=["vertical"===f?i.vertical[e]:h[0],"horizontal"===f?i.horizontal[e]:h[3]];var j={horizontal:0,vertical:1};d.rotation=Math.PI/2*j[f];var k={top:-1,bottom:1,right:1,left:-1};d.labelDirection=d.tickDirection=d.nameDirection=k[e],a.getModel("axisTick").get("inside")&&(d.tickDirection=-d.tickDirection),a.getModel("axisLabel").get("inside")&&(d.labelDirection=-d.labelDirection);var l=a.getModel("axisLabel").get("rotate");return d.labelRotation="top"===e?-l:l,d.labelInterval=c.getLabelInterval(),d.z2=1,d}var e=c(133),f=c(4),g=c(43),h=e.getInterval,i=e.ifIgnoreOnTick,j=["axisLine","axisLabel","axisTick","axisName"],k="splitLine",l=c(1).extendComponentView({type:"singleAxis",render:function(a,b){var c=this.group;c.removeAll();var g=d(a),h=new e(a,g);f.each(j,h.add,h),c.add(h.getGroup()),a.get(k+".show")&&this["_"+k](a,g.labelInterval)},_splitLine:function(a,b){var c=a.axis;if(!c.isBlank()){var d=a.getModel("splitLine"),e=d.getModel("lineStyle"),f=e.get("width"),j=e.get("color"),k=h(d,b);j=j instanceof Array?j:[j];for(var l=a.coordinateSystem.getRect(),m=c.isHorizontal(),n=[],o=0,p=c.getTicksCoords(),q=[],r=[],s=0;s<p.length;++s)if(!i(c,s,k)){var t=c.toGlobalCoord(p[s]);m?(q[0]=t,q[1]=l.y,r[0]=t,r[1]=l.y+l.height):(q[0]=l.x,q[1]=t,r[0]=l.x+l.width,r[1]=t);var u=o++%j.length;n[u]=n[u]||[],n[u].push(new g.Line(g.subPixelOptimizeLine({shape:{x1:q[0],y1:q[1],
x2:r[0],y2:r[1]},style:{lineWidth:f},silent:!0})))}for(var s=0;s<n.length;++s)this.group.add(g.mergePath(n[s],{style:{stroke:j[s%j.length],lineDash:e.getLineDash(f),lineWidth:f},silent:!0}))}}});a.exports=l},function(a,b,c){function d(a,b){return b.type||(b.data?"category":"value")}var e=c(19),f=c(128),g=c(4),h=e.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),i={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};g.merge(h.prototype,c(130)),f("single",h,d,i),a.exports=h},function(a,b,c){var d=c(103),e=c(28),f=c(98),g=c(4),h=c(6),i=h.encodeHTML,j=c(245),k=2,l=e.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(a){l.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(a){for(var b=a.length,c=j().key(function(a){return a[2]}).entries(a),d=g.map(c,function(a){return{name:a.key,dataList:a.values}}),e=d.length,f=-1,h=-1,i=0;e>i;++i){var k=d[i].dataList.length;k>f&&(f=k,h=i)}for(var l=0;e>l;++l)if(l!==h)for(var m=d[l].name,n=0;f>n;++n){for(var o=d[h].dataList[n][0],p=d[l].dataList.length,q=-1,r=0;p>r;++r){var s=d[l].dataList[r][0];if(s===o){q=r;break}}-1===q&&(a[b]=[],a[b][0]=o,a[b][1]=0,a[b][2]=m,b++)}return a},getInitialData:function(a,b){var c=[],e=b.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],h=e.get("type");c=[{name:"time",type:"category"===h?"ordinal":"time"===h?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}];for(var i=g.filter(a.data,function(a){return void 0!==a[2]}),j=this.fixData(i||[]),l=[],m=this.nameMap={},n=0,o=0;o<j.length;++o)l.push(j[o][k]),m[j[o][k]]||(m[j[o][k]]=n++);d(c,j);var p=new f(c,this);return p.initData(j,l),p},coordDimToDataDim:function(a){return["time"]},getLayerSeries:function(){function a(a,c){return b.get("time",a)-b.get("time",c)}for(var b=this.getData(),c=b.count(),d=[],e=0;c>e;++e)d[e]=e;for(var f=j().key(function(a){return b.get("name",a)}).entries(d),h=g.map(f,function(a){return{name:a.key,indices:a.values}}),i=0;i<h.length;++i)h[i].indices.sort(a);return h},getAxisTooltipDataIndex:function(a,b,c){g.isArray(a)||(a=a?[a]:[]);var d=this.getData();b="horizontal"===c.orient?b[0]:b[1];for(var e=this.getLayerSeries(),f=[],h=e.length,i=0;h>i;++i){for(var j=Number.MAX_VALUE,k=-1,l=e[i].indices.length,m=0;l>m;++m){var n=Math.abs(d.get(a[0],e[i].indices[m])-b);j>=n&&(j=n,k=e[i].indices[m])}f.push(k)}return f},formatTooltip:function(a){var b=this.getData(),c=a.length,d=b.get("time",a[0]),e=this.coordinateSystem,f=e.getAxis();"time"===f.scale.type&&(d=h.formatTime("yyyy-MM-dd",d));for(var g=i(d)+"<br />",j=0;c>j;++j){var k=b.get("name",a[j]),l=b.get("value",a[j]);(isNaN(l)||null==l)&&(l="-"),g+=i(k+" : "+l)+"<br />"}return g},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",textStyle:{color:"#000",fontSize:11}},emphasis:{show:!0}}}});a.exports=l},function(a,b,c){(function(b){function d(a,b,c){var d=new f.Rect({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return f.initProps(d,{shape:{width:a.width+20,height:a.height+20}},b,c),d}var e=c(109),f=c(43),g=c(4),h=c(99);a.exports=c(1).extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(a,b,c){function i(a){return a.name}function j(b,c,h){var i=this._layers;if("remove"===b)return void m.remove(i[c]);for(var j,o=[],p=[],q=n[c].indices,r=0;r<q.length;r++){var t=k.getItemLayout(q[r]),u=t.x,v=t.y0,w=t.y;o.push([u,v]),p.push([u,v+w]),j=l.getItemVisual(q[r],"color")}var x,y,z=k.getItemLayout(q[0]),A=k.getItemModel(q[r-1]),B=A.getModel("label.normal"),C=B.get("margin");if("add"===b){var D=s[c]=new f.Group;x=new e.Polygon({shape:{points:o,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),y=new f.Text({style:{x:z.x-C,y:z.y0+z.y/2}}),D.add(x),D.add(y),m.add(D),x.setClipPath(d(x.getBoundingRect(),a,function(){x.removeClipPath()}))}else{var D=i[h];x=D.childAt(0),y=D.childAt(1),m.add(D),s[c]=D,f.updateProps(x,{shape:{points:o,stackedOnPoints:p}},a),f.updateProps(y,{style:{x:z.x-C,y:z.y0+z.y/2}},a)}var E=A.getModel("itemStyle.emphasis"),F=A.getModel("itemStyle.normal"),G=B.getModel("textStyle");y.setStyle({text:B.get("show")?a.getFormattedLabel(q[r-1],"normal")||k.getName(q[r-1]):"",textFont:G.getFont(),textAlign:B.get("textAlign"),textVerticalAlign:"middle"}),x.setStyle(g.extend({fill:j},F.getItemStyle(["color"]))),f.setHoverStyle(x,E.getItemStyle())}var k=a.getData(),l=a.getRawData();if(k.count()){var m=this.group,n=a.getLayerSeries(),o=k.getLayout("layoutInfo"),p=o.rect,q=o.boundaryGap;m.attr("position",[0,p.y+q[0]]);var r=new h(this._layersSeries||[],n,i,i),s={};r.add(g.bind(g.curry(j,"add"),this)).update(g.bind(g.curry(j,"update"),this)).remove(g.bind(g.curry(j,"remove"),this)).execute(),this._layersSeries=n,this._layers=s}},dispose:function(){}})}).call(b,c(289))},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){function d(a,b,c){if(a.count())for(var d,g=b.coordinateSystem,h=b.getLayerSeries(),i=f.map(h,function(b){return f.map(b.indices,function(b){var c=g.dataToPoint(a.get("time",b));return c[1]=a.get("value",b),c})}),j=e(i),k=j.y0,l=c/j.max,m=h.length,n=h[0].indices.length,o=0;n>o;++o){d=k[o]*l,a.setItemLayout(h[0].indices[o],{layerIndex:0,x:i[0][o][0],y0:d,y:i[0][o][1]*l});for(var p=1;m>p;++p)d+=i[p-1][o][1]*l,a.setItemLayout(h[p].indices[o],{layerIndex:p,x:i[p][o][0],y0:d,y:i[p][o][1]*l})}}function e(a){for(var b,c=a.length,d=a[0].length,e=[],f=[],g=0,h={},i=0;d>i;++i){for(var j=0,b=0;c>j;++j)b+=a[j][i][1];b>g&&(g=b),e.push(b)}for(var k=0;d>k;++k)f[k]=(g-e[k])/2;g=0;for(var l=0;d>l;++l){var m=e[l]+f[l];m>g&&(g=m)}return h.y0=f,h.max=g,h}var f=c(4),g=c(7);a.exports=function(a,b){a.eachSeriesByType("themeRiver",function(a){var b=a.getData(),c=a.coordinateSystem,e={},f=c.getRect();e.rect=f;var h=a.get("boundaryGap"),i=c.getAxis();if(e.boundaryGap=h,"horizontal"===i.orient){h[0]=g.parsePercent(h[0],f.height),h[1]=g.parsePercent(h[1],f.height);var j=f.height-h[0]-h[1];d(b,a,j)}else{h[0]=g.parsePercent(h[0],f.width),h[1]=g.parsePercent(h[1],f.width);var k=f.width-h[0]-h[1];d(b,a,k)}b.setLayout("layoutInfo",e)})}},function(a,b){a.exports=function(a){a.eachSeriesByType("themeRiver",function(a){var b=a.getData(),c=a.getRawData(),d=a.get("color");b.each(function(e){var f=b.getName(e),g=d[(a.nameMap[f]-1)%d.length];c.setItemVisual(e,"color",g)})})}},function(a,b,c){function d(a,b,c,d){var e=c.type;i.assert(e,"graphic type MUST be set");var f=k[e.charAt(0).toUpperCase()+e.slice(1)];i.assert(f,"graphic type can not be found");var g=new f(c);b.add(g),d[a]=g,g.__ecGraphicId=a}function e(a,b){var c=a&&a.parent;c&&("group"===a.type&&a.traverse(function(a){e(a,b)}),delete b[a.__ecGraphicId],c.remove(a))}function f(a){return a=i.extend({},a),i.each(["id","parentId","$action","hv","bounding"].concat(l.LOCATION_PARAMS),function(b){delete a[b]}),a}function g(a,b){var c;return i.each(b,function(b){null!=a[b]&&"auto"!==a[b]&&(c=!0)}),c}var h=c(1),i=c(4),j=c(5),k=c(43),l=c(21);h.registerPreprocessor(function(a){var b=a&&a.graphic;i.isArray(b)?b[0]&&b[0].elements?a.graphic=[a.graphic[0]]:a.graphic=[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])});var m=h.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(a){var b=this.option.elements;this.option.elements=null,m.superApply(this,"mergeOption",arguments),this.option.elements=b},optionUpdated:function(a,b){var c=this.option,d=(b?c:a).elements,e=c.elements=b?[]:c.elements,f=[];this._flatten(d,f);var h=j.mappingToExists(e,f);j.makeIdAndName(h);var k=this._elOptionsToUpdate=[];i.each(h,function(a,b){var c=a.exist,d=a.option;if(i.assert(i.isObject(d)||c,"Empty graphic option definition"),d){d.id=a.keyInfo.id;var f=d.parentId,h=d.parentOption,j=c&&c.parentId;!d.type&&c&&(d.type=c.type),d.parentId=f?f:h?h.id:j?j:null,d.parentOption=null,k.push(d);var m=i.extend({},d),n=d.$action;if(n&&"merge"!==n)"replace"===n?e[b]=m:"remove"===n&&c&&(e[b]=null);else if(c){var o=d.type;i.assert(!o||c.type===o,'Please set $action: "replace" to change `type`'),i.merge(c,m,!0),l.mergeLayoutParam(c,m,{ignoreSize:!0}),l.copyLayoutParams(d,c)}else e[b]=m;e[b]&&(e[b].hv=d.hv=[g(d,["left","right"]),g(d,["top","bottom"])],"group"===e[b].type&&(null==e[b].width&&(e[b].width=d.width=0),null==e[b].height&&(e[b].height=d.height=0)))}},this);for(var m=e.length-1;m>=0;m--)null==e[m]?e.splice(m,1):delete e[m].$action},_flatten:function(a,b,c){i.each(a,function(a){if(a){c&&(a.parentOption=c),b.push(a);var d=a.children;"group"===a.type&&d&&this._flatten(d,b,a),delete a.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a}});h.extendComponentView({type:"graphic",init:function(a,b){this._elMap={},this._lastGraphicModel},render:function(a,b,c){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a,c),this._relocate(a,c)},_updateElements:function(a,b){var c=a.useElOptionsToUpdate();if(c){var g=this._elMap,h=this.group;i.each(c,function(a){var b=a.$action,c=a.id,j=g[c],k=a.parentId,l=null!=k?g[k]:h;a.hv&&a.hv[1]&&"text"===a.type&&(a.style=i.defaults({textBaseline:"middle"},a.style),a.style.textVerticalAlign=null);var m=f(a);j&&i.assert(l===j.parent,"Changing parent is not supported."),b&&"merge"!==b?"replace"===b?(e(j,g),d(c,l,m,g)):"remove"===b&&e(j,g):j?j.attr(m):d(c,l,m,g),g[c]&&(g[c].__ecGraphicWidth=a.width,g[c].__ecGraphicHeight=a.height)})}},_relocate:function(a,b){for(var c=a.option.elements,d=this.group,e=this._elMap,f=c.length-1;f>=0;f--){var g=c[f],h=e[g.id];if(h){var i=h.parent,j=i===d?{width:b.getWidth(),height:b.getHeight()}:{width:i.__ecGraphicWidth||0,height:i.__ecGraphicHeight||0};l.positionElement(h,g,j,null,{hv:g.hv,boundingMode:g.bounding})}}},_clear:function(){var a=this._elMap;i.each(a,function(b){e(b,a)}),this._elMap={}},dispose:function(){this._clear()}})},function(a,b,c){c(294),c(295),c(296);var d=c(1);d.registerProcessor(c(298))},function(a,b,c){var d=c(4),e=c(12),f=c(1).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,b,c){this.mergeDefaultAndTheme(a,c),a.selected=a.selected||{}},mergeOption:function(a){f.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var b=!1,c=0;c<a.length;c++){var d=a[c].get("name");if(this.isSelected(d)){this.select(d),b=!0;break}}!b&&this.select(a[0].get("name"))}},_updateData:function(a){var b=d.map(this.get("data")||[],function(a){return("string"==typeof a||"number"==typeof a)&&(a={name:a}),new e(a,this,this.ecModel)},this);this._data=b;var c=d.map(a.getSeries(),function(a){return a.name});a.eachSeries(function(a){if(a.legendDataProvider){var b=a.legendDataProvider();c=c.concat(b.mapArray(b.getName))}}),this._availableNames=c},getData:function(){return this._data},select:function(a){var b=this.option.selected,c=this.get("selectedMode");if("single"===c){var e=this._data;d.each(e,function(a){b[a.get("name")]=!1})}b[a]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0),this[b[a]?"unSelect":"select"](a)},isSelected:function(a){var b=this.option.selected;return!(b.hasOwnProperty(a)&&!b[a])&&d.indexOf(this._availableNames,a)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});a.exports=f},function(a,b,c){function d(a,b,c){var d,e={},g="toggleSelected"===a;return c.eachComponent("legend",function(c){g&&null!=d?c[d?"select":"unSelect"](b.name):(c[a](b.name),d=c.isSelected(b.name));var h=c.getData();f.each(h,function(a){var b=a.get("name");if("\n"!==b&&""!==b){var d=c.isSelected(b);b in e?e[b]=e[b]&&d:e[b]=d}})}),{name:b.name,selected:e}}var e=c(1),f=c(4);e.registerAction("legendToggleSelect","legendselectchanged",f.curry(d,"toggleSelected")),e.registerAction("legendSelect","legendselected",f.curry(d,"select")),e.registerAction("legendUnSelect","legendunselected",f.curry(d,"unSelect"))},function(a,b,c){function d(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function e(a,b,c){var d=c.getZr().storage.getDisplayList()[0];d&&d.useHoverLayer||a.get("legendHoverLink")&&c.dispatchAction({type:"highlight",seriesName:a.name,name:b})}function f(a,b,c){var d=c.getZr().storage.getDisplayList()[0];d&&d.useHoverLayer||a.get("legendHoverLink")&&c.dispatchAction({type:"downplay",seriesName:a.name,name:b})}var g=c(4),h=c(107),i=c(43),j=c(297),k=g.curry;a.exports=c(1).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(a,b,c){var h=this.group;if(h.removeAll(),a.get("show")){var l=a.get("selectedMode"),m=a.get("align");"auto"===m&&(m="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left");var n={};g.each(a.getData(),function(g){var j=g.get("name");if(""===j||"\n"===j)return void h.add(new i.Group({newline:!0}));var o=b.getSeriesByName(j)[0];if(!n[j]){if(o){var p=o.getData(),q=p.getVisual("color");"function"==typeof q&&(q=q(o.getDataParams(0)));var r=p.getVisual("legendSymbol")||"roundRect",s=p.getVisual("symbol"),t=this._createItem(j,g,a,r,s,m,q,l);t.on("click",k(d,j,c)).on("mouseover",k(e,o,null,c)).on("mouseout",k(f,o,null,c)),n[j]=!0}else b.eachRawSeries(function(b){if(!n[j]&&b.legendDataProvider){var h=b.legendDataProvider(),i=h.indexOfName(j);if(0>i)return;var o=h.getItemVisual(i,"color"),p="roundRect",q=this._createItem(j,g,a,p,null,m,o,l);q.on("click",k(d,j,c)).on("mouseover",k(e,b,j,c)).on("mouseout",k(f,b,j,c)),n[j]=!0}},this);!n[j]}},this),j.layout(h,a,c),j.addBackground(h,a)}},_createItem:function(a,b,c,d,e,f,j,k){var l=c.get("itemWidth"),m=c.get("itemHeight"),n=c.get("inactiveColor"),o=c.isSelected(a),p=new i.Group,q=b.getModel("textStyle"),r=b.get("icon"),s=b.getModel("tooltip"),t=s.parentModel;if(d=r||d,p.add(h.createSymbol(d,0,0,l,m,o?j:n)),!r&&e&&(e!==d||"none"==e)){var u=.8*m;"none"===e&&(e="circle"),p.add(h.createSymbol(e,(l-u)/2,(m-u)/2,u,u,o?j:n))}var v="left"===f?l+5:-5,w=f,x=c.get("formatter"),y=a;"string"==typeof x&&x?y=x.replace("{name}",null!=a?a:""):"function"==typeof x&&(y=x(a));var z=new i.Text({style:{text:y,x:v,y:m/2,fill:o?q.getTextColor():n,textFont:q.getFont(),textAlign:w,textVerticalAlign:"middle"}});p.add(z);var A=new i.Rect({shape:p.getBoundingRect(),invisible:!0,tooltip:s.get("show")?g.extend({content:a,formatter:t.get("formatter",!0)||function(){return a},formatterParams:{componentType:"legend",legendIndex:c.componentIndex,name:a,$vars:["name"]}},s.option):null});return p.add(A),p.eachChild(function(a){a.silent=!0}),A.silent=!k,this.group.add(p),i.setHoverStyle(p),p}})},function(a,b,c){function d(a,b,c){e.positionElement(a,b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()},b.get("padding"))}var e=c(21),f=c(6),g=c(43);a.exports={layout:function(a,b,c){var f=e.getLayoutRect(b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()},b.get("padding"));e.box(b.get("orient"),a,b.get("itemGap"),f.width,f.height),d(a,b,c)},addBackground:function(a,b){var c=f.normalizeCssArray(b.get("padding")),d=a.getBoundingRect(),e=b.getItemStyle(["color","opacity"]);e.fill=b.get("backgroundColor");var h=new g.Rect({shape:{x:d.x-c[3],y:d.y-c[0],width:d.width+c[1]+c[3],height:d.height+c[0]+c[2]},style:e,silent:!0,z2:-1});g.subPixelOptimizeRect(h),a.add(h)}}},function(a,b){a.exports=function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(a){for(var c=0;c<b.length;c++)if(!b[c].isSelected(a.name))return!1;return!0})}},function(a,b,c){c(300),c(301),c(1).registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),c(1).registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},function(a,b,c){c(1).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(a,b,c){function d(a,b){if(!a||!b)return!1;var c=q.round;return c(a[0])===c(b[0])&&c(a[1])===c(b[1])}function e(a,b,c,d){return{x1:a,y1:b,x2:c,y2:d}}function f(a,b,c,d){return{x:a,y:b,width:c,height:d}}function g(a,b,c,d,e,f){return{cx:a,cy:b,r0:c,r:d,startAngle:e,endAngle:f,clockwise:!0}}function h(a,b,c,d,e){var f=c.clientWidth,g=c.clientHeight,h=20;return a+f+h>d?a-=f+h:a+=h,b+g+h>e?b-=g+h:b+=h,[a,b]}function i(a,b,c,d,e){var f=c.clientWidth,g=c.clientHeight;return a=Math.min(a+f,d)-f,b=Math.min(b+g,e)-g,a=Math.max(a,0),b=Math.max(b,0),[a,b]}function j(a,b,c){var d=c.clientWidth,e=c.clientHeight,f=5,g=0,h=0,i=b.width,j=b.height;switch(a){case"inside":g=b.x+i/2-d/2,h=b.y+j/2-e/2;break;case"top":g=b.x+i/2-d/2,h=b.y-e-f;break;case"bottom":g=b.x+i/2-d/2,h=b.y+j+f;break;case"left":g=b.x-d-f,h=b.y+j/2-e/2;break;case"right":g=b.x+i+f,h=b.y+j/2-e/2}return[g,h]}function k(a,b,c,d,e,f,g,k){var l=k.getWidth(),m=k.getHeight(),n=g&&g.getBoundingRect().clone();if(g&&n.applyTransform(g.transform),"function"==typeof a&&(a=a([b,c],f,e.el,n)),o.isArray(a))b=s(a[0],l),c=s(a[1],m);else if("string"==typeof a&&g){var p=j(a,n,e.el);b=p[0],c=p[1]}else{var p=h(b,c,e.el,l,m);b=p[0],c=p[1]}if(d){var p=i(b,c,e.el,l,m);b=p[0],c=p[1]}e.moveTo(b,c)}function l(a){var b=a.coordinateSystem,c=a.get("tooltip.trigger",!0);return!(!b||"cartesian2d"!==b.type&&"polar"!==b.type&&"singleAxis"!==b.type||"item"===c)}var m=c(302),n=c(43),o=c(4),p=c(6),q=c(7),r=c(5),s=q.parsePercent,t=c(2),u=c(12);c(1).extendComponentView({type:"tooltip",_axisPointers:{},init:function(a,b){if(!t.node){var c=new m(b.getDom(),b);this._tooltipContent=c}},render:function(a,b,c){if(!t.node){this.group.removeAll(),this._axisPointers={},this._tooltipModel=a,this._ecModel=b,this._api=c,this._lastHover={};var d=this._tooltipContent;d.update(),d.enterable=a.get("enterable"),this._alwaysShowContent=a.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(a,b);var e=this._crossText;e&&this.group.add(e);var f=a.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==f){var g=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){g.manuallyShowTip(a,b,c,{x:g._lastX,y:g._lastY})})}var h=this._api.getZr();h.off("click",this._tryShow),h.off("mousemove",this._mousemove),h.off("mouseout",this._hide),h.off("globalout",this._hide),"click"===f?h.on("click",this._tryShow,this):"mousemove"===f&&(h.on("mousemove",this._mousemove,this),h.on("mouseout",this._hide,this),h.on("globalout",this._hide,this))}},_mousemove:function(a){var b=this._tooltipModel.get("showDelay"),c=this;clearTimeout(this._showTimeout),b>0?this._showTimeout=setTimeout(function(){c._tryShow(a)},b):this._tryShow(a)},manuallyShowTip:function(a,b,c,d){function e(a){var b=a.getData(),c=r.queryDataIndex(b,d);return null!=c&&!o.isArray(c)&&b.hasValue(c)?!0:void 0}if(d.from!==this.uid){var b=this._ecModel,f=d.seriesIndex,g=b.getSeriesByIndex(f),c=this._api,h="axis"===this._tooltipModel.get("trigger");if(null==d.x||null==d.y){if(h?(g&&!e(g)&&(g=null),g||b.eachSeries(function(a){l(a)&&!g&&e(a)&&(g=a)})):g=g||b.getSeriesByIndex(0),g){var i=g.getData(),j=r.queryDataIndex(i,d);if(null==j||o.isArray(j))return;var k,m,n=i.getItemGraphicEl(j),p=g.coordinateSystem;if(g.getTooltipPosition){var q=g.getTooltipPosition(j)||[];k=q[0],m=q[1]}else if(p&&p.dataToPoint){var q=p.dataToPoint(i.getValues(o.map(p.dimensions,function(a){return g.coordDimToDataDim(a)[0]}),j,!0));k=q&&q[0],m=q&&q[1]}else if(n){var s=n.getBoundingRect().clone();s.applyTransform(n.transform),k=s.x+s.width/2,m=s.y+s.height/2}null!=k&&null!=m&&this._tryShow({offsetX:k,offsetY:m,position:d.position,target:n,event:{}})}}else{var n=c.getZr().handler.findHover(d.x,d.y);this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,target:n,event:{}})}}},manuallyHideTip:function(a,b,c,d){d.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(a,b){var c={};return b.eachSeries(function(a){if(l(a)){var b,d,e=a.coordinateSystem;"cartesian2d"===e.type?(b=e.getBaseAxis(),d=b.dim+b.index):"singleAxis"===e.type?(b=e.getAxis(),d=b.dim+b.type):(b=e.getBaseAxis(),d=b.dim+e.name),c[d]=c[d]||{coordSys:[],series:[]},c[d].coordSys.push(e),c[d].series.push(a)}},this),c},_tryShow:function(a){var b=a.target,c=this._tooltipModel,d=c.get("trigger"),e=this._ecModel,f=this._api;if(c)if(this._lastX=a.offsetX,this._lastY=a.offsetY,b&&null!=b.dataIndex){var g=b.dataModel||e.getSeriesByIndex(b.seriesIndex),h=b.dataIndex,i=g.getData(),j=i.getItemModel(h);"axis"===(j.get("tooltip.trigger")||d)?this._showAxisTooltip(c,e,a):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(g,h,b.dataType,a)),f.dispatchAction({type:"showTip",from:this.uid,dataIndexInside:h,dataIndex:i.getRawIndex(h),seriesIndex:b.seriesIndex})}else if(b&&b.tooltip){var k=b.tooltip;if("string"==typeof k){var l=k;k={content:l,formatter:l}}var m=new u(k,c),n=m.get("content"),o=Math.random();this._showTooltipContent(m,n,m.get("formatterParams")||{},o,a.offsetX,a.offsetY,a.position,b,f)}else"item"===d?this._hide():this._showAxisTooltip(c,e,a),"cross"===c.get("axisPointer.type")&&f.dispatchAction({type:"showTip",from:this.uid,x:a.offsetX,y:a.offsetY})},_showAxisTooltip:function(a,b,c){var e=a.getModel("axisPointer"),f=e.get("type");if("cross"===f){var g=c.target;if(g&&null!=g.dataIndex){var h=b.getSeriesByIndex(g.seriesIndex),i=g.dataIndex;this._showItemTooltipContent(h,i,g.dataType,c)}}this._showAxisPointer();var j=!0;o.each(this._seriesGroupByAxis,function(b){var g=b.coordSys,h=g[0],i=[c.offsetX,c.offsetY];if(!h.containPoint(i))return void this._hideAxisPointer(h.name);j=!1;var k=h.dimensions,l=h.pointToData(i,!0);i=h.dataToPoint(l);var m=h.getBaseAxis(),n=e.get("axis");if("auto"===n&&(n=m.dim),m.isBlank()||o.eqNaN(i[0])||o.eqNaN(i[1]))return void this._hideAxisPointer(h.name);var p=!1,q=this._lastHover;if("cross"===f)d(q.data,l)&&(p=!0),q.data=l;else{var r=o.indexOf(k,n);q.data===l[r]&&(p=!0),q.data=l[r]}var s=a.get("animation");"cartesian2d"!==h.type||p?"polar"!==h.type||p?"singleAxis"!==h.type||p||this._showSinglePointer(e,h,n,i,s):this._showPolarPointer(e,h,n,i,s):this._showCartesianPointer(e,h,n,i,s),"cross"!==f&&this._dispatchAndShowSeriesTooltipContent(h,b.series,i,l,p,c.position)},this),this._tooltipModel.get("show")||this._hideAxisPointer(),j&&this._hide()},_showCartesianPointer:function(a,b,c,d,g){function h(c,d,f){var g="x"===c?e(d[0],f[0],d[0],f[1]):e(f[0],d[1],f[1],d[1]),h=j._getPointerElement(b,a,c,g);n.subPixelOptimizeLine({shape:g,style:h.style}),m?n.updateProps(h,{shape:g},a):h.attr({shape:g})}function i(c,d,e){var g=b.getAxis(c),h=g.getBandWidth(),i=e[1]-e[0],k="x"===c?f(d[0]-h/2,e[0],h,i):f(e[0],d[1]-h/2,i,h),l=j._getPointerElement(b,a,c,k);m?n.updateProps(l,{shape:k},a):l.attr({shape:k})}var j=this,k=a.get("type"),l=b.getBaseAxis(),m=g&&"cross"!==k&&"category"===l.type&&l.getBandWidth()>20;if("cross"===k)h("x",d,b.getAxis("y").getGlobalExtent()),h("y",d,b.getAxis("x").getGlobalExtent()),this._updateCrossText(b,d,a);else{var o=b.getAxis("x"===c?"y":"x"),p=o.getGlobalExtent();"cartesian2d"===b.type&&("line"===k?h:i)(c,d,p)}},_showSinglePointer:function(a,b,c,d,f){function g(c,d,f){var g=b.getAxis(),i=g.orient,k="horizontal"===i?e(d[0],f[0],d[0],f[1]):e(f[0],d[1],f[1],d[1]),l=h._getPointerElement(b,a,c,k);j?n.updateProps(l,{shape:k},a):l.attr({shape:k})}var h=this,i=a.get("type"),j=f&&"cross"!==i&&"category"===b.getBaseAxis().type,k=b.getRect(),l=[k.y,k.y+k.height];g(c,d,l)},_showPolarPointer:function(a,b,c,d,f){function h(c,d,f){var g,h=b.pointToCoord(d);if("angle"===c){var i=b.coordToPoint([f[0],h[1]]),k=b.coordToPoint([f[1],h[1]]);g=e(i[0],i[1],k[0],k[1])}else g={cx:b.cx,cy:b.cy,r:h[0]};var l=j._getPointerElement(b,a,c,g);o?n.updateProps(l,{shape:g},a):l.attr({shape:g})}function i(c,d,e){var f,h=b.getAxis(c),i=h.getBandWidth(),k=b.pointToCoord(d),l=Math.PI/180;f="angle"===c?g(b.cx,b.cy,e[0],e[1],(-k[1]-i/2)*l,(-k[1]+i/2)*l):g(b.cx,b.cy,k[0]-i/2,k[0]+i/2,0,2*Math.PI);var m=j._getPointerElement(b,a,c,f);o?n.updateProps(m,{shape:f},a):m.attr({shape:f})}var j=this,k=a.get("type"),l=b.getAngleAxis(),m=b.getRadiusAxis(),o=f&&"cross"!==k&&"category"===b.getBaseAxis().type;if("cross"===k)h("angle",d,m.getExtent()),h("radius",d,l.getExtent()),this._updateCrossText(b,d,a);else{var p=b.getAxis("radius"===c?"angle":"radius"),q=p.getExtent();("line"===k?h:i)(c,d,q)}},_updateCrossText:function(a,b,c){var d=c.getModel("crossStyle"),e=d.getModel("textStyle"),f=this._tooltipModel,g=this._crossText;g||(g=this._crossText=new n.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(g));var h=a.pointToData(b),i=a.dimensions;h=o.map(h,function(b,c){var d=a.getAxis(i[c]);return b="category"===d.type||"time"===d.type?d.scale.getLabel(b):p.addCommas(b.toFixed(d.getPixelPrecision()))}),g.setStyle({fill:e.getTextColor()||d.get("color"),textFont:e.getFont(),text:h.join(", "),x:b[0]+5,y:b[1]-5}),g.z=f.get("z"),g.zlevel=f.get("zlevel")},_getPointerElement:function(a,b,c,d){var e=this._tooltipModel,f=e.get("z"),g=e.get("zlevel"),h=this._axisPointers,i=a.name;if(h[i]=h[i]||{},h[i][c])return h[i][c];var j=b.get("type"),k=b.getModel(j+"Style"),l="shadow"===j,m=k[l?"getAreaStyle":"getLineStyle"](),o="polar"===a.type?l?"Sector":"radius"===c?"Circle":"Line":l?"Rect":"Line";l?m.stroke=null:m.fill=null;var p=h[i][c]=new n[o]({style:m,z:f,zlevel:g,silent:!0,shape:d});return this.group.add(p),p},_dispatchAndShowSeriesTooltipContent:function(a,b,c,d,e,f){var g=this._tooltipModel,h=a.getBaseAxis(),i={x:1,radius:1,single:1}[h.dim]?0:1;if(b.length){var j,l=o.map(b,function(a){return{seriesIndex:a.seriesIndex,dataIndexInside:a.getAxisTooltipDataIndex?a.getAxisTooltipDataIndex(a.coordDimToDataDim(h.dim),d,h):a.getData().indexOfNearest(a.coordDimToDataDim(h.dim)[0],d[i],!1,"category"===h.type?.5:null)}});o.each(l,function(a,c){b[c].getData().hasValue(a.dataIndexInside)&&(j=c)}),j=j||0;var m=this._lastHover,n=this._api;m.payloadBatch&&!e&&n.dispatchAction({type:"downplay",batch:m.payloadBatch}),e||(n.dispatchAction({type:"highlight",batch:l}),m.payloadBatch=l);var q=l[j].dataIndexInside;if(n.dispatchAction({type:"showTip",dataIndexInside:q,dataIndex:b[j].getData().getRawIndex(q),seriesIndex:l[j].seriesIndex,from:this.uid}),h&&g.get("showContent")&&g.get("show")){var r=o.map(b,function(a,b){return a.getDataParams(l[b].dataIndexInside)});if(e)k(f||g.get("position"),c[0],c[1],g.get("confine"),this._tooltipContent,r,null,n);else{var s=l[j].dataIndexInside,t="time"===h.type?h.scale.getLabel(d[i]):b[j].getData().getName(s),u=(t?p.encodeHTML(t)+"<br />":"")+o.map(b,function(a,b){return a.formatTooltip(l[b].dataIndexInside,!0)}).join("<br />"),v="axis_"+a.name+"_"+s;this._showTooltipContent(g,u,r,v,c[0],c[1],f,null,n)}}}},_showItemTooltipContent:function(a,b,c,d){var e=this._api,f=a.getData(c),g=f.getItemModel(b),h=g.get("tooltip",!0);if("string"==typeof h){var i=h;h={formatter:i}}var j=this._tooltipModel,k=a.getModel("tooltip",j),l=new u(h,k,k.ecModel),m=a.getDataParams(b,c),n=a.formatTooltip(b,!1,c),o="item_"+a.name+"_"+b;this._showTooltipContent(l,n,m,o,d.offsetX,d.offsetY,d.position,d.target,e)},_showTooltipContent:function(a,b,c,d,e,f,g,h,i){if(this._ticket="",a.get("showContent")&&a.get("show")){var j=this._tooltipContent,l=a.get("confine"),m=a.get("formatter");g=g||a.get("position");var n=b;if(m)if("string"==typeof m)n=p.formatTpl(m,c,!0);else if("function"==typeof m){var o=this,q=d,r=function(a,b){a===o._ticket&&(j.setContent(b),k(g,e,f,l,j,c,h,i))};o._ticket=q,n=m(c,q,r)}j.show(a),j.setContent(n),k(g,e,f,l,j,c,h,i)}},_showAxisPointer:function(a){if(a){var b=this._axisPointers[a];b&&o.each(b,function(a){a.show()})}else this.group.eachChild(function(a){a.show()}),this.group.show()},_resetLastHover:function(){var a=this._lastHover;a.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:a.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(a){if(a){var b=this._axisPointers[a];b&&o.each(b,function(a){a.hide()})}else this.group.children().length&&this.group.hide()},_hide:function(){clearTimeout(this._showTimeout),this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid}),this._lastX=this._lastY=null},dispose:function(a,b){if(!t.node){var c=b.getZr();this._tooltipContent.hide(),c.off("click",this._tryShow),c.off("mousemove",this._mousemove),c.off("mouseout",this._hide),c.off("globalout",this._hide)}}})},function(a,b,c){function d(a){var b="cubic-bezier(0.23, 1, 0.32, 1)",c="left "+a+"s "+b+",top "+a+"s "+b;return h.map(o,function(a){return a+"transition:"+c}).join(";")}function e(a){var b=[],c=a.get("fontSize"),d=a.getTextColor();return d&&b.push("color:"+d),b.push("font:"+a.getFont()),c&&b.push("line-height:"+Math.round(3*c/2)+"px"),l(["decoration","align"],function(c){var d=a.get(c);d&&b.push("text-"+c+":"+d)}),b.join(";")}function f(a){a=a;var b=[],c=a.get("transitionDuration"),f=a.get("backgroundColor"),g=a.getModel("textStyle"),h=a.get("padding");return c&&b.push(d(c)),f&&(n.canvasSupported?b.push("background-Color:"+f):(b.push("background-Color:#"+i.toHex(f)),
b.push("filter:alpha(opacity=70)"))),l(["width","color","radius"],function(c){var d="border-"+c,e=m(d),f=a.get(e);null!=f&&b.push(d+":"+f+("color"===c?"":"px"))}),b.push(e(g)),null!=h&&b.push("padding:"+k.normalizeCssArray(h).join("px ")+"px"),b.join(";")+";"}function g(a,b){var c=document.createElement("div"),d=b.getZr();this.el=c,this._x=b.getWidth()/2,this._y=b.getHeight()/2,a.appendChild(c),this._container=a,this._show=!1,this._hideTimeout;var e=this;c.onmouseenter=function(){e.enterable&&(clearTimeout(e._hideTimeout),e._show=!0),e._inContent=!0},c.onmousemove=function(b){if(b=b||window.event,!e.enterable){var c=d.handler;j.normalizeEvent(a,b,!0),c.dispatch("mousemove",b)}},c.onmouseleave=function(){e.enterable&&e._show&&e.hideLater(e._hideDelay),e._inContent=!1}}var h=c(4),i=c(39),j=c(88),k=c(6),l=h.each,m=k.toCamelCase,n=c(2),o=["","-webkit-","-moz-","-o-"],p="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";g.prototype={constructor:g,enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),c=a.style;"absolute"!==c.position&&"absolute"!==b.position&&(c.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var b=this.el;b.style.cssText=p+f(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||""),b.style.display=b.innerHTML?"block":"none",this._show=!0},setContent:function(a){var b=this.el;b.innerHTML=a,b.style.display=a?"block":"none"},moveTo:function(a,b){var c=this.el.style;c.left=a+"px",c.top=b+"px",this._x=a,this._y=b},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(a){!this._show||this._inContent&&this.enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(h.bind(this.hide,this),a)):this.hide())},isShow:function(){return this._show}},a.exports=g},function(a,b,c){c(304),c(310),c(312),c(1).extendComponentView({type:"polar"})},function(a,b,c){function d(a,b){var c=a.get("center"),d=a.get("radius"),e=b.getWidth(),f=b.getHeight(),g=h.parsePercent;this.cx=g(c[0],e),this.cy=g(c[1],f);var i=this.getRadiusAxis(),j=Math.min(e,f)/2;i.setExtent(0,g(d,j))}function e(a,b){var c=this,d=c.getAngleAxis(),e=c.getRadiusAxis();if(d.scale.setExtent(1/0,-(1/0)),e.scale.setExtent(1/0,-(1/0)),a.eachSeries(function(a){if(a.coordinateSystem===c){var b=a.getData();e.scale.unionExtentFromData(b,"radius"),d.scale.unionExtentFromData(b,"angle")}}),k(d,d.model),k(e,e.model),"category"===d.type&&!d.onBand){var f=d.getExtent(),g=360/d.scale.count();d.inverse?f[1]+=g:f[1]-=g,d.setExtent(f[0],f[1])}}function f(a,b){if(a.type=b.get("type"),a.scale=j.createScaleByModel(b),a.onBand=b.get("boundaryGap")&&"category"===a.type,"angleAxis"===b.mainType){var c=b.get("startAngle");a.inverse=b.get("inverse")^b.get("clockwise"),a.setExtent(c,c+(a.inverse?-360:360))}b.axis=a,a.model=b}var g=c(305),h=c(7),i=c(4),j=c(115),k=j.niceScaleExtent;c(308);var l={dimensions:g.prototype.dimensions,create:function(a,b){var c=[];return a.eachComponent("polar",function(a,h){var i=new g(h);i.resize=d,i.update=e;var j=i.getRadiusAxis(),k=i.getAngleAxis(),l=a.findAxisModel("radiusAxis"),m=a.findAxisModel("angleAxis");f(j,l),f(k,m),i.resize(a,b),c.push(i),a.coordinateSystem=i}),a.eachSeries(function(b){if("polar"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"polar",index:b.get("polarIndex"),id:b.get("polarId")})[0];if(!c)throw new Error('Polar "'+i.retrieve(b.get("polarIndex"),b.get("polarId"),0)+'" not found');b.coordinateSystem=c.coordinateSystem}}),c}};c(26).register("polar",l)},function(a,b,c){var d=c(306),e=c(307),f=function(a){this.name=a||"",this.cx=0,this.cy=0,this._radiusAxis=new d,this._angleAxis=new e};f.prototype={constructor:f,type:"polar",dimensions:["radius","angle"],containPoint:function(a){var b=this.pointToCoord(a);return this._radiusAxis.contain(b[0])&&this._angleAxis.contain(b[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxesByScale:function(a){var b=[],c=this._angleAxis,d=this._radiusAxis;return c.scale.type===a&&b.push(c),d.scale.type===a&&b.push(d),b},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var b=this._angleAxis;return a===b?this._radiusAxis:b},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(a){return a.mapArray(this.dimensions,function(a,b){return this.dataToPoint([a,b])},this)},dataToPoint:function(a,b){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)])},pointToData:function(a,b){var c=this.pointToCoord(a);return[this._radiusAxis.radiusToData(c[0],b),this._angleAxis.angleToData(c[1],b)]},pointToCoord:function(a){var b=a[0]-this.cx,c=a[1]-this.cy,d=this.getAngleAxis(),e=d.getExtent(),f=Math.min(e[0],e[1]),g=Math.max(e[0],e[1]);d.inverse?f=g-360:g=f+360;var h=Math.sqrt(b*b+c*c);b/=h,c/=h;for(var i=Math.atan2(-c,b)/Math.PI*180,j=f>i?1:-1;f>i||i>g;)i+=360*j;return[h,i]},coordToPoint:function(a){var b=a[0],c=a[1]/180*Math.PI,d=Math.cos(c)*b+this.cx,e=-Math.sin(c)*b+this.cy;return[d,e]}},a.exports=f},function(a,b,c){function d(a,b){f.call(this,"radius",a,b),this.type="category"}var e=c(4),f=c(124);d.prototype={constructor:d,dataToRadius:f.prototype.dataToCoord,radiusToData:f.prototype.coordToData},e.inherits(d,f),a.exports=d},function(a,b,c){function d(a,b){b=b||[0,360],f.call(this,"angle",a,b),this.type="category"}var e=c(4),f=c(124);d.prototype={constructor:d,dataToAngle:f.prototype.dataToCoord,angleToData:f.prototype.coordToData},e.inherits(d,f),a.exports=d},function(a,b,c){c(309),c(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var b,c=this.ecModel;return c.eachComponent(a,function(a){a.getCoordSysModel()===this&&(b=a)},this),b},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(a,b,c){function d(a,b){return b.type||(b.data?"category":"value")}var e=c(4),f=c(19),g=c(128),h=f.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});e.merge(h.prototype,c(130));var i={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};g("angle",h,d,i.angle),g("radius",h,d,i.radius)},function(a,b,c){c(304),c(311)},function(a,b,c){function d(a,b,c,d){var e=a.coordToPoint([b,d]),f=a.coordToPoint([c,d]);return{x1:e[0],y1:e[1],x2:f[0],y2:f[1]}}var e=c(4),f=c(43),g=c(12),h=["axisLine","axisLabel","axisTick","splitLine","splitArea"];c(1).extendComponentView({type:"angleAxis",render:function(a,b){if(this.group.removeAll(),a.get("show")){var c=b.getComponent("polar",a.get("polarIndex")),d=a.axis,f=c.coordinateSystem,g=f.getRadiusAxis().getExtent(),i=d.getTicksCoords();"category"!==d.type&&i.pop(),e.each(h,function(b){!a.get(b+".show")||d.isBlank()&&"axisLine"!==b||this["_"+b](a,f,i,g)},this)}},_axisLine:function(a,b,c,d){var e=a.getModel("axisLine.lineStyle"),g=new f.Circle({shape:{cx:b.cx,cy:b.cy,r:d[1]},style:e.getLineStyle(),z2:1,silent:!0});g.style.fill=null,this.group.add(g)},_axisTick:function(a,b,c,g){var h=a.getModel("axisTick"),i=(h.get("inside")?-1:1)*h.get("length"),j=e.map(c,function(a){return new f.Line({shape:d(b,g[1],g[1]+i,a)})});this.group.add(f.mergePath(j,{style:e.defaults(h.getModel("lineStyle").getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")})}))},_axisLabel:function(a,b,c,d){for(var e=a.axis,h=a.get("data"),i=a.getModel("axisLabel"),j=i.getModel("textStyle"),k=a.getFormattedLabels(),l=i.get("margin"),m=e.getLabelsCoords(),n=0;n<c.length;n++){var o=d[1],p=b.coordToPoint([o+l,m[n]]),q=b.cx,r=b.cy,s=Math.abs(p[0]-q)/o<.3?"center":p[0]>q?"left":"right",t=Math.abs(p[1]-r)/o<.3?"middle":p[1]>r?"top":"bottom",u=j;h&&h[n]&&h[n].textStyle&&(u=new g(h[n].textStyle,j)),this.group.add(new f.Text({style:{x:p[0],y:p[1],fill:u.getTextColor()||a.get("axisLine.lineStyle.color"),text:k[n],textAlign:s,textVerticalAlign:t,textFont:u.getFont()},silent:!0}))}},_splitLine:function(a,b,c,g){var h=a.getModel("splitLine"),i=h.getModel("lineStyle"),j=i.get("color"),k=0;j=j instanceof Array?j:[j];for(var l=[],m=0;m<c.length;m++){var n=k++%j.length;l[n]=l[n]||[],l[n].push(new f.Line({shape:d(b,g[0],g[1],c[m])}))}for(var m=0;m<l.length;m++)this.group.add(f.mergePath(l[m],{style:e.defaults({stroke:j[m%j.length]},i.getLineStyle()),silent:!0,z:a.get("z")}))},_splitArea:function(a,b,c,d){var g=a.getModel("splitArea"),h=g.getModel("areaStyle"),i=h.get("color"),j=0;i=i instanceof Array?i:[i];for(var k=[],l=Math.PI/180,m=-c[0]*l,n=Math.min(d[0],d[1]),o=Math.max(d[0],d[1]),p=a.get("clockwise"),q=1;q<c.length;q++){var r=j++%i.length;k[r]=k[r]||[],k[r].push(new f.Sector({shape:{cx:b.cx,cy:b.cy,r0:n,r:o,startAngle:m,endAngle:-c[q]*l,clockwise:p},silent:!0})),m=-c[q]*l}for(var q=0;q<k.length;q++)this.group.add(f.mergePath(k[q],{style:e.defaults({fill:i[q%i.length]},h.getAreaStyle()),silent:!0}))}})},function(a,b,c){c(304),c(313)},function(a,b,c){function d(a,b,c){return{position:[a.cx,a.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:b.getModel("axisLabel").get("rotate"),z2:1}}var e=c(4),f=c(43),g=c(133),h=["axisLine","axisLabel","axisTick","axisName"],i=["splitLine","splitArea"];c(1).extendComponentView({type:"radiusAxis",render:function(a,b){if(this.group.removeAll(),a.get("show")){var c=b.getComponent("polar",a.get("polarIndex")),f=c.coordinateSystem.getAngleAxis(),j=a.axis,k=c.coordinateSystem,l=j.getTicksCoords(),m=f.getExtent()[0],n=j.getExtent(),o=d(k,a,m),p=new g(a,o);e.each(h,p.add,p),this.group.add(p.getGroup()),e.each(i,function(b){a.get(b+".show")&&!j.isBlank()&&this["_"+b](a,k,m,n,l)},this)}},_splitLine:function(a,b,c,d,g){var h=a.getModel("splitLine"),i=h.getModel("lineStyle"),j=i.get("color"),k=0;j=j instanceof Array?j:[j];for(var l=[],m=0;m<g.length;m++){var n=k++%j.length;l[n]=l[n]||[],l[n].push(new f.Circle({shape:{cx:b.cx,cy:b.cy,r:g[m]},silent:!0}))}for(var m=0;m<l.length;m++)this.group.add(f.mergePath(l[m],{style:e.defaults({stroke:j[m%j.length],fill:null},i.getLineStyle()),silent:!0}))},_splitArea:function(a,b,c,d,g){var h=a.getModel("splitArea"),i=h.getModel("areaStyle"),j=i.get("color"),k=0;j=j instanceof Array?j:[j];for(var l=[],m=g[0],n=1;n<g.length;n++){var o=k++%j.length;l[o]=l[o]||[],l[o].push(new f.Sector({shape:{cx:b.cx,cy:b.cy,r0:m,r:g[n],startAngle:0,endAngle:2*Math.PI},silent:!0})),m=g[n]}for(var n=0;n<l.length;n++)this.group.add(f.mergePath(l[n],{style:e.defaults({fill:j[n%j.length]},i.getAreaStyle()),silent:!0}))}})},function(a,b,c){function d(a,b){b.update="updateView",e.registerAction(b,function(b,c){var d={};return c.eachComponent({mainType:"geo",query:b},function(c){c[a](b.name);var e=c.coordinateSystem;f.each(e.regions,function(a){d[a.name]=c.isSelected(a.name)||!1})}),{selected:d,name:b.name}})}c(315),c(166),c(316),c(179);var e=c(1),f=c(4);d("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),d("select",{type:"geoSelect",event:"geoselected"}),d("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(a,b,c){var d=c(5),e=c(19),f=c(12),g=c(4),h=c(143),i=c(166),j=e.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){e.prototype.init.apply(this,arguments),d.defaultEmphasis(a.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var a=this.option,b=this;a.regions=i.getFilledRegions(a.regions,a.map),this._optionModelMap=g.reduce(a.regions||[],function(a,c){return c.name&&(a[c.name]=new f(c,b)),a},{}),this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap[a]},getFormattedLabel:function(a,b){var c=this.get("label."+b+".formatter"),d={name:a};if("function"==typeof c)return d.status=b,c(d);if("string"==typeof c){var e=d.seriesName;return c.replace("{a}",null!=e?e:"")}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});g.mixin(j,h),a.exports=j},function(a,b,c){var d=c(176);a.exports=c(1).extendComponentView({type:"geo",init:function(a,b){var c=new d(b,!0);this._mapDraw=c,this.group.add(c.group)},render:function(a,b,c,d){if(!d||"geoToggleSelect"!==d.type||d.from!==this.uid){var e=this._mapDraw;a.get("show")?e.draw(a,b,c,this,d):this._mapDraw.group.removeAll(),this.group.silent=a.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}})},function(a,b,c){c(1).registerPreprocessor(c(318)),c(319),c(323),c(324),c(325),c(326)},function(a,b,c){function d(a){var b={};e.each(a,function(a){b[a]=1}),a.length=0,e.each(b,function(b,c){a.push(c)})}var e=c(4),f=["rect","polygon","keep","clear"];a.exports=function(a,b){var c=a&&a.brush;if(e.isArray(c)||(c=c?[c]:[]),c.length){var g=[];e.each(c,function(a){var b=a.hasOwnProperty("toolbox")?a.toolbox:[];b instanceof Array&&(g=g.concat(b))});var h=a&&a.toolbox;e.isArray(h)&&(h=h[0]),h||(h={feature:{}},a.toolbox=[h]);var i=h.feature||(h.feature={}),j=i.brush||(i.brush={}),k=j.type||(j.type=[]);k.push.apply(k,g),d(k),b&&!k.length&&k.push.apply(k,f)}}},function(a,b,c){function d(a,b,c,d,f){if(f){var g=a.getZr();if(!g[t]){g[s]||(g[s]=e);var h=p.createOrUpdate(g,s,c,b);h(a,d)}}}function e(a,b){if(!a.isDisposed()){var c=a.getZr();c[t]=!0,a.dispatchAction({type:"brushSelect",batch:b}),c[t]=!1}}function f(a,b,c,d){for(var e=c.getItemLayout(d),f=0,g=b.length;g>f;f++){var h=b[f];if(a[h.brushType](e,h.selectors,h))return!0}}function g(a){var b=a.brushSelector;if(m.isString(b)){var c=[];return m.each(o,function(a,d){c[d]=a[b]}),c}if(m.isFunction(b)){var d={};return m.each(o,function(a,c){d[c]=b}),d}return b}function h(a,b){var c=a.option.seriesIndex;return null!=c&&"all"!==c&&(m.isArray(c)?m.indexOf(c,b)<0:b!==c)}function i(a){var b=a.selectors={};return m.each(o[a.brushType],function(c,d){b[d]=function(d){return c(d,b,a)}}),a}function j(a){return new n(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}var k=c(1),l=c(320),m=c(4),n=c(9),o=c(321),p=c(81),q=c(322),r=["inBrush","outOfBrush"],s="__ecBrushSelect",t="__ecInBrushSelectEvent",u=k.PRIORITY.VISUAL.BRUSH;k.registerLayout(u,function(a,b,c){a.eachComponent({mainType:"brush"},function(b){c&&"takeGlobalCursor"===c.type&&b.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1}),b.coordInfoList=q.makeCoordInfoList(b.option,a),q.parseInputRanges(b,a)})}),k.registerVisual(u,function(a,b,c){var e,j,k=[];a.eachComponent({mainType:"brush"},function(b,c){function d(a){return"all"===u||w[a]}function n(a){return!!a.length}function o(a,b){var c=a.coordinateSystem;z|=c.hasAxisbrushed(),d(b)&&c.eachActiveState(a.getData(),function(a,b){"active"===a&&(x[b]=1)})}function p(a,c,e){var i=g(a);if(i&&!h(b,c)&&(m.each(A,function(c){i[c.brushType]&&q.controlSeries(c,b,a)&&e.push(c),z|=n(e)}),d(c)&&n(e))){var j=a.getData();j.each(function(a){f(i,e,j,a)&&(x[a]=1)})}}var s={brushId:b.id,brushIndex:c,brushName:b.name,areas:m.clone(b.areas),selected:[]};k.push(s);var t=b.option,u=t.brushLink,w=[],x=[],y=[],z=0;c||(e=t.throttleType,j=t.throttleDelay);var A=m.map(b.areas,function(a){return i(m.defaults({boundingRect:v[a.brushType](a)},a))}),B=l.createVisualMappings(b.option,r,function(a){a.mappingMethod="fixed"});m.isArray(u)&&m.each(u,function(a){w[a]=1}),a.eachSeries(function(a,b){var c=y[b]=[];"parallel"===a.subType?o(a,b,c):p(a,b,c)}),a.eachSeries(function(a,b){var c={seriesId:a.id,seriesIndex:b,seriesName:a.name,dataIndex:[]};s.selected.push(c);var e=g(a),h=y[b],i=a.getData(),j=d(b)?function(a){return x[a]?(c.dataIndex.push(i.getRawIndex(a)),"inBrush"):"outOfBrush"}:function(a){return f(e,h,i,a)?(c.dataIndex.push(i.getRawIndex(a)),"inBrush"):"outOfBrush"};(d(b)?z:n(h))&&l.applyVisual(r,B,i,j)})}),d(b,e,j,k,c)});var v={lineX:m.noop,lineY:m.noop,rect:function(a){return j(a.range)},polygon:function(a){for(var b,c=a.range,d=0,e=c.length;e>d;d++){b=b||[[1/0,-(1/0)],[1/0,-(1/0)]];var f=c[d];f[0]<b[0][0]&&(b[0][0]=f[0]),f[0]>b[0][1]&&(b[0][1]=f[0]),f[1]<b[1][0]&&(b[1][0]=f[1]),f[1]>b[1][1]&&(b[1][1]=f[1])}return b&&j(b)}}},function(a,b,c){function d(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!0}var e=c(4),f=c(195),g=e.each,h={createVisualMappings:function(a,b,c){function d(){var a=function(){};a.prototype.__hidden=a.prototype;var b=new a;return b}var h={};return g(b,function(b){var i=h[b]=d();g(a[b],function(a,d){if(f.isValidType(d)){var g={type:d,visual:a};c&&c(g,b),i[d]=new f(g),"opacity"===d&&(g=e.clone(g),g.type="colorAlpha",i.__hidden.__alphaForOpacity=new f(g))}})}),h},replaceVisualOption:function(a,b,c){var f;e.each(c,function(a){b.hasOwnProperty(a)&&d(b[a])&&(f=!0)}),f&&e.each(c,function(c){b.hasOwnProperty(c)&&d(b[c])?a[c]=e.clone(b[c]):delete a[c]})},applyVisual:function(a,b,c,d,g,h){function i(a){return c.getItemVisual(m,a)}function j(a,b){c.setItemVisual(m,a,b)}function k(a,e){m=null==h?a:e;var f=c.getRawDataItem(m);if(!f||f.visualMap!==!1)for(var k=d.call(g,a),n=b[k],o=l[k],p=0,q=o.length;q>p;p++){var r=o[p];n[r]&&n[r].applyVisual(a,i,j)}}var l={};e.each(a,function(a){var c=f.prepareVisualTypes(b[a]);l[a]=c});var m;null==h?c.each(k,!0):c.each([h],k,!0)}};a.exports=h},function(a,b,c){function d(a){var b=["x","y"],c=["width","height"];return{point:function(b,c,d){var f=d.range,g=b[a];return e(g,f)},rect:function(d,f,g){var h=g.range;return e(d[b[a]],h)||e(d[b[a]]+d[c[a]],h)}}}function e(a,b){return b[0]<=a&&a<=b[1]}function f(a,b,c,d,e){for(var f=0,h=e[e.length-1];f<e.length;f++){var i=e[f];if(g(a,b,c,d,i[0],i[1],h[0],h[1]))return!0;h=i}}function g(a,b,c,d,e,f,g,j){var k=i(c-a,e-g,d-b,f-j);if(h(k))return!1;var l=i(e-a,e-g,f-b,f-j)/k;if(0>l||l>1)return!1;var m=i(c-a,e-a,d-b,f-b)/k;return 0>m||m>1?!1:!0}function h(a){return 1e-6>=a&&a>=-1e-6}function i(a,b,c,d){return a*d-b*c}var j=c(170).contain,k=c(9),l={lineX:d(0),lineY:d(1),rect:{point:function(a,b,c){return c.boundingRect.contain(a[0],a[1])},rect:function(a,b,c){return c.boundingRect.intersect(a)}},polygon:{point:function(a,b,c){return c.boundingRect.contain(a[0],a[1])&&j(c.range,a[0],a[1])},rect:function(a,b,c){var d=c.range;if(d.length<=1)return!1;var e=a.x,g=a.y,h=a.width,i=a.height,l=d[0];return j(d,e,g)||j(d,e+h,g)||j(d,e,g+i)||j(d,e+h,g+i)||k.create(a).contain(l[0],l[1])||f(e,g,e+h,g,d)||f(e,g,e,g+i,d)||f(e+h,g,e+h,g+i,d)||f(e,g+i,e+h,g+i,d)?!0:void 0}}};a.exports=l},function(a,b,c){function d(a){return a[0]>a[1]&&a.reverse(),a}function e(a,b){for(var c=!0,d=0;d<k.length;d++){var e=k[d]+"Index";if(a[e]>=0){c=!1;for(var f=0;f<b.length;f++)if(b[f][e]===a[e])return b[f]}}return c}function f(a,b,c,e){var f=c.coordSys.getAxis(a);return g.assert(f,"line brush is only available in cartesian (grid)."),d(g.map([0,1],function(a){return b?f.coordToData(f.toLocalCoord(e[a])):f.toGlobalCoord(f.dataToCoord(e[a]))}))}var g=c(4),h=c(43),i=g.each,j={},k=["geo","xAxis","yAxis"],l="--",m=["dataToPoint","pointToData"];j.parseOutputRanges=function(a,b,c,d){i(a,function(a,c){var f=a.panelId;if(f){f=f.split(l),a[f[0]+"Index"]=+f[1];var g=e(a,b);a.coordRange=n[a.brushType](1,g,a.range),d&&(d[c]=g)}})},j.parseInputRanges=function(a,b){i(a.areas,function(b){var c=e(b,a.coordInfoList);g.assert(!c||c===!0||b.coordRange,"coordRange must be specified when coord index specified."),g.assert(!c||c!==!0||b.range,"range must be specified."),b.range=b.range||[],c&&c!==!0&&(b.range=n[b.brushType](0,c,b.coordRange),b.panelId=c.panelId)})},j.makePanelOpts=function(a){var b=[];return i(a,function(a){var c,d=a.coordSys;a.geoIndex>=0?(c=d.getBoundingRect().clone(),c.applyTransform(h.getTransform(d))):c=d.grid.getRect().clone(),b.push({panelId:a.panelId,rect:c})}),b},j.makeCoordInfoList=function(a,b){var c=[];return i(k,function(d){var e=a[d+"Index"];null!=e&&"none"!==e&&("all"===e||g.isArray(e)||(e=[e]),b.eachComponent({mainType:d},function(a,b){if(!("all"!==e&&g.indexOf(e,b)<0)){var f,h;"xAxis"===d||"yAxis"===d?f=a.axis.grid:h=a.coordinateSystem;for(var i,j=0,k=c.length;k>j;j++){var m=c[j];if(g.assert(m[d+"Index"]!=b,"Coord should not be defined duplicately: "+d+b),"yAxis"===d&&!m.yAxis&&m.xAxis){var n=f.getCartesian(m.xAxisIndex,b);if(n){h=n,i=m;break}}}!i&&c.push(i={}),i[d]=a,i[d+"Index"]=b,i.panelId=d+l+b,i.coordSys=h||f.getCartesian(i.xAxisIndex,i.yAxisIndex),i.coordSys?c[d+"Has"]=!0:c.pop()}}))}),c},j.controlSeries=function(a,b,c){var d=e(a,b.coordInfoList);return d===!0||d&&d.coordSys===c.coordinateSystem};var n={lineX:g.curry(f,"x"),lineY:g.curry(f,"y"),rect:function(a,b,c){var e=b.coordSys,f=e[m[a]]([c[0][0],c[1][0]]),g=e[m[a]]([c[0][1],c[1][1]]);return[d([f[0],g[0]]),d([f[1],g[1]])]},polygon:function(a,b,c){var d=b.coordSys;return g.map(c,d[m[a]],d)}};a.exports=j},function(a,b,c){var d=c(1),e=c(4),f=c(320),g=c(12),h=["#ddd"],i=d.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)",width:null},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(a,b){var c=this.option;!b&&f.replaceVisualOption(c,a,["inBrush","outOfBrush"]),c.inBrush=c.inBrush||{},c.outOfBrush=c.outOfBrush||{color:h}},setAreas:function(a){e.assert(e.isArray(a)),e.each(a,function(a){e.assert(a.brushType,"Illegal areas")}),a&&(this.areas=e.map(a,function(a){return this._mergeBrushOption(a)},this))},setBrushOption:function(a){this.brushOption=this._mergeBrushOption(a),this.brushType=this.brushOption.brushType},_mergeBrushOption:function(a){var b=this.option;return e.merge({brushType:b.brushType,brushMode:b.brushMode,transformable:b.transformable,brushStyle:new g(b.brushStyle).getItemStyle(),removeOnClick:b.removeOnClick},a,!0)}});a.exports=i},function(a,b,c){function d(a,b,c,d){(!d||d.$from!==a.id)&&this._brushController.setPanels(h.makePanelOpts(a.coordInfoList)).enableBrush(a.brushOption).updateCovers(a.areas.slice())}var e=c(4),f=c(236),g=c(1),h=c(322);a.exports=g.extendComponentView({type:"brush",init:function(a,b){this.ecModel=a,this.api=b,this.model,(this._brushController=new f(b.getZr())).on("brush",e.bind(this._onBrush,this)).mount()},render:function(a){return this.model=a,d.apply(this,arguments)},updateView:d,updateLayout:d,updateVisual:d,dispose:function(){this._brushController.dispose()},_onBrush:function(a,b){var c=this.model.id;h.parseOutputRanges(a,this.model.coordInfoList,this.ecModel),(!b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:c,areas:e.clone(a),$from:c})}})},function(a,b,c){var d=c(1);d.registerAction({type:"brush",event:"brush",update:"updateView"},function(a,b){b.eachComponent({mainType:"brush",query:a},function(b){b.setAreas(a.areas)})}),d.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(a,b,c){function d(a,b,c){this.model=a,this.ecModel=b,this.api=c,this._brushType,this._brushMode}var e=c(327),f=c(4);d.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}};var g=d.prototype;g.render=g.updateView=g.updateLayout=function(a,b,c){var d,e,g;b.eachComponent({mainType:"brush"},function(a){d=a.brushType,e=a.brushOption.brushMode||"single",g|=a.areas.length}),this._brushType=d,this._brushMode=e,f.each(a.get("type",!0),function(b){a.setIconStatus(b,("keep"===b?"multiple"===e:"clear"===b?g:b===d)?"emphasis":"normal")})},g.getIcons=function(){var a=this.model,b=a.get("icon",!0),c={};return f.each(a.get("type",!0),function(a){b[a]&&(c[a]=b[a])}),c},g.onclick=function(a,b,c){var b=this.api,d=this._brushType,e=this._brushMode;"clear"===c?b.dispatchAction({type:"brush",areas:[]}):b.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===c?d:d===c?!1:c,brushMode:"keep"===c?"multiple"===e?"single":"multiple":e}})},e.register("brush",d),a.exports=d},function(a,b){var c={};a.exports={register:function(a,b){c[a]=b},get:function(a){return c[a]}}},function(a,b,c){var d=c(1),e=c(43),f=c(21);d.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),d.extendComponentView({type:"title",render:function(a,b,c){if(this.group.removeAll(),a.get("show")){var d=this.group,g=a.getModel("textStyle"),h=a.getModel("subtextStyle"),i=a.get("textAlign"),j=a.get("textBaseline"),k=new e.Text({style:{text:a.get("text"),textFont:g.getFont(),fill:g.getTextColor()},z2:10}),l=k.getBoundingRect(),m=a.get("subtext"),n=new e.Text({style:{text:m,textFont:h.getFont(),fill:h.getTextColor(),y:l.height+a.get("itemGap"),textBaseline:"top"},z2:10}),o=a.get("link"),p=a.get("sublink");k.silent=!o,n.silent=!p,o&&k.on("click",function(){window.open(o,"_"+a.get("target"))}),p&&n.on("click",function(){window.open(p,"_"+a.get("subtarget"))}),d.add(k),m&&d.add(n);var q=d.getBoundingRect(),r=a.getBoxLayoutParams();r.width=q.width,r.height=q.height;var s=f.getLayoutRect(r,{width:c.getWidth(),height:c.getHeight()},a.get("padding"));i||(i=a.get("left")||a.get("right"),"middle"===i&&(i="center"),"right"===i?s.x+=s.width:"center"===i&&(s.x+=s.width/2)),j||(j=a.get("top")||a.get("bottom"),"center"===j&&(j="middle"),"bottom"===j?s.y+=s.height:"middle"===j&&(s.y+=s.height/2),j=j||"top"),d.attr("position",[s.x,s.y]);var t={textAlign:i,textVerticalAlign:j};k.setStyle(t),n.setStyle(t),q=d.getBoundingRect();var u=s.margin,v=a.getItemStyle(["color","opacity"]);v.fill=a.get("backgroundColor");var w=new e.Rect({shape:{x:q.x-u[3],y:q.y-u[0],width:q.width+u[1]+u[3],height:q.height+u[0]+u[2]},style:v,silent:!0});e.subPixelOptimizeRect(w),d.add(w)}}})},function(a,b,c){c(330),c(331),c(334),c(335),c(336),c(338),c(339),c(341),c(342)},function(a,b,c){c(19).registerSubTypeDefaulter("dataZoom",function(a){return"slider"})},function(a,b,c){function d(a){var b={};return l(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b}function e(a,b,c,d){null!=c[b]&&null==c[a]&&(d[a]=null)}var f=c(4),g=c(2),h=c(1),i=c(5),j=c(332),k=c(333),l=f.each,m=j.eachAxisDim,n=h.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null},init:function(a,b,c){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0;var e=d(a);this.mergeDefaultAndTheme(a,c),this.doInit(e)},mergeOption:function(a){var b=d(a);f.merge(this.option,a,!0),this.doInit(b)},doInit:function(a){var b=this.option;g.canvasSupported||(b.realtime=!1),this._setDefaultThrottle(a),e("start","startValue",a,b),e("end","endValue",a,b),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,c,d,e){var f=this.dependentModels[b.axis][c],g=f.__dzAxisProxy||(f.__dzAxisProxy=new k(b.name,c,this,e));a[b.name+"_"+c]=g},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();m(function(b){var c=b.axisIndex;a[c]=i.normalizeToArray(a[c])},this),"axisIndex"===b?this._autoSetAxisIndex():"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1;m(function(c){null!=a[c.axisIndex]&&(b=!0)},this);var c=a.orient;return null==c&&b?"orient":b?void 0:(null==c&&(a.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var a=!0,b=this.get("orient",!0),c=this.option,d=this.dependentModels;if(a){var e="vertical"===b?"y":"x";d[e+"Axis"].length?(c[e+"AxisIndex"]=[0],a=!1):l(d.singleAxis,function(d){a&&d.get("orient",!0)===b&&(c.singleAxisIndex=[d.componentIndex],a=!1)})}a&&m(function(b){if(a){var d=[],e=this.dependentModels[b.axis];if(e.length&&!d.length)for(var f=0,g=e.length;g>f;f++)"category"===e[f].get("type")&&d.push(f);c[b.axisIndex]=d,d.length&&(a=!1)}},this),a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&m(function(b){var d=c[b.axisIndex],e=a.get(b.axisIndex),g=a.get(b.axisId),h=a.ecModel.queryComponents({mainType:b.axis,index:e,id:g})[0];if(!h)throw new Error(b.axis+' "'+f.retrieve(e,g,0)+'" not found');e=h.componentIndex,f.indexOf(d,e)<0&&d.push(e)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this),this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var c=!0;return m(function(d){var e=a.get(d.axisIndex),f=this.dependentModels[d.axis][e];f&&f.get("type")===b||(c=!1)},this),c},_setDefaultThrottle:function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var b=this.ecModel.option;this.option.throttle=b.animation&&b.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var a;return m(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this),a},eachTargetAxis:function(a,b){var c=this.ecModel;m(function(d){l(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},setRawRange:function(a){l(["start","end","startValue","endValue"],function(b){this.option[b]=a[b]},this)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();return a?a.getDataPercentWindow():void 0},getValueRange:function(a,b){if(null!=a||null!=b)return this.getAxisProxy(a,b).getDataValueWindow();var c=this.findRepresentativeAxisProxy();return c?c.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(){
var a=this._axisProxies;for(var b in a)if(a.hasOwnProperty(b)&&a[b].hostedBy(this))return a[b];for(var b in a)if(a.hasOwnProperty(b)&&!a[b].hostedBy(this))return a[b]}});a.exports=n},function(a,b,c){var d=c(6),e=c(4),f={},g=["x","y","z","radius","angle","single"],h=["cartesian2d","polar","singleAxis"];f.isCoordSupported=function(a){return e.indexOf(h,a)>=0},f.createNameEach=function(a,b){a=a.slice();var c=e.map(a,d.capitalFirst);b=(b||[]).slice();var f=e.map(b,d.capitalFirst);return function(d,g){e.each(a,function(a,e){for(var h={name:a,capital:c[e]},i=0;i<b.length;i++)h[b[i]]=a+f[i];d.call(g,h)})}},f.eachAxisDim=f.createNameEach(g,["axisIndex","axis","index","id"]),f.createLinkedNodesFinder=function(a,b,c){function d(a,b){return e.indexOf(b.nodes,a)>=0}function f(a,d){var f=!1;return b(function(b){e.each(c(a,b)||[],function(a){d.records[b.name][a]&&(f=!0)})}),f}function g(a,d){d.nodes.push(a),b(function(b){e.each(c(a,b)||[],function(a){d.records[b.name][a]=!0})})}return function(c){function e(a){!d(a,h)&&f(a,h)&&(g(a,h),i=!0)}var h={nodes:[],records:{}};if(b(function(a){h.records[a.name]={}}),!c)return h;g(c,h);var i;do i=!1,a(e);while(i);return h}},a.exports=f},function(a,b,c){function d(a,b){var c=[1/0,-(1/0)];return j(b,function(b){var d=b.getData();d&&j(b.coordDimToDataDim(a),function(a){var b=d.getDataExtent(a);b[0]<c[0]&&(c[0]=b[0]),b[1]>c[1]&&(c[1]=b[1])})},this),c[1]<c[0]&&(c=[NaN,NaN]),c}function e(a,b){var c=b.getMin(!0);null!=c&&"dataMin"!==c&&(a[0]=c);var d=b.getMax(!0);return null!=d&&"dataMax"!==d&&(a[1]=d),b.get("scale",!0)||(a[0]>0&&(a[0]=0),a[1]<0&&(a[1]=0)),a}function f(a,b){var c=a.getAxisModel(),d=a._percentWindow,e=a._valueWindow;if(d){var f=h.getPixelPrecision(e,[0,500]),g=b||0===d[0]&&100===d[1];c.setRange(g?null:+e[0].toFixed(f),g?null:+e[1].toFixed(f))}}var g=c(4),h=c(7),i=c(332),j=g.each,k=h.asc,l=function(a,b,c,d){this._dimName=a,this._axisIndex=b,this._valueWindow,this._percentWindow,this._dataExtent,this.ecModel=d,this._dataZoomModel=c};l.prototype={constructor:l,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;return b.eachSeries(function(c){if(i.isCoordSupported(c.get("coordinateSystem"))){var d=this._dimName,e=b.queryComponents({mainType:d+"Axis",index:c.get(d+"AxisIndex"),id:c.get(d+"AxisId")})[0];this._axisIndex===(e&&e.componentIndex)&&a.push(c)}},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a,b,c=this._dimName,d=this.ecModel,e=this.getAxisModel(),f="x"===c||"y"===c;f?(b="gridIndex",a="x"===c?"y":"x"):(b="polarIndex",a="angle"===c?"radius":"angle");var g;return d.eachComponent(a+"Axis",function(a){(a.get(b)||0)===(e.get(b)||0)&&(g=a)}),g},calculateDataWindow:function(a){var b=this._dataExtent,c=this.getAxisModel(),d=c.axis.scale,f=[0,100],g=[a.start,a.end],i=[];return b=b.slice(),e(b,c),j(["startValue","endValue"],function(b){i.push(null!=a[b]?d.parse(a[b]):null)}),j([0,1],function(a){var c=i[a],e=g[a];null!=e||null==c?(null==e&&(e=f[a]),c=d.parse(h.linearMap(e,f,b,!0))):e=h.linearMap(c,b,f,!0),i[a]=c,g[a]=e}),{valueWindow:k(i),percentWindow:k(g)}},reset:function(a){if(a===this._dataZoomModel){this._dataExtent=d(this._dimName,this.getTargetSeriesModels());var b=this.calculateDataWindow(a.option);this._valueWindow=b.valueWindow,this._percentWindow=b.percentWindow,f(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,f(this,!0))},filterData:function(a){function b(a){return a>=f[0]&&a<=f[1]}if(a===this._dataZoomModel){var c=this._dimName,d=this.getTargetSeriesModels(),e=a.get("filterMode"),f=this._valueWindow,g=this.getOtherAxisModel();a.get("$fromToolbox")&&g&&"category"===g.get("type")&&(e="empty"),j(d,function(a){var d=a.getData();d&&j(a.coordDimToDataDim(c),function(c){"empty"===e?a.setData(d.map(c,function(a){return b(a)?a:NaN})):d.filterSelf(c,b)})})}}},a.exports=l},function(a,b,c){var d=c(29);a.exports=d.extend({type:"dataZoom",render:function(a,b,c,d){this.dataZoomModel=a,this.ecModel=b,this.api=c},getTargetCoordInfo:function(){function a(a,b,c,d){for(var e,f=0;f<c.length;f++)if(c[f].model===a){e=c[f];break}e||c.push(e={model:a,axisModels:[],coordIndex:d}),e.axisModels.push(b)}var b=this.dataZoomModel,c=this.ecModel,d={};return b.eachTargetAxis(function(b,e){var f=c.getComponent(b.axis,e);if(f){var g=f.getCoordSysModel();g&&a(g,f,d[g.mainType]||(d[g.mainType]=[]),g.componentIndex)}},this),d}})},function(a,b,c){var d=c(331),e=d.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});a.exports=e},function(a,b,c){function d(a){var b={x:"y",y:"x",radius:"angle",angle:"radius"};return b[a]}var e=c(4),f=c(43),g=c(81),h=c(334),i=f.Rect,j=c(7),k=j.linearMap,l=c(21),m=c(337),n=j.asc,o=e.bind,p=e.each,q=7,r=1,s=30,t="horizontal",u="vertical",v=5,w=["line","bar","candlestick","scatter"],x=h.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=b},render:function(a,b,c,d){return x.superApply(this,"render",arguments),g.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=a.get("orient"),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),void this._updateView())},remove:function(){x.superApply(this,"remove",arguments),g.clear(this,"_dispatchZoomAction")},dispose:function(){x.superApply(this,"dispose",arguments),g.clear(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll(),this._resetLocation(),this._resetInterval();var b=this._displayables.barGroup=new f.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(b),this._positionGroup()},_resetLocation:function(){var a=this.dataZoomModel,b=this.api,c=this._findCoordRect(),d={width:b.getWidth(),height:b.getHeight()},f=this._orient===t?{right:d.width-c.x-c.width,top:d.height-s-q,width:c.width,height:s}:{right:q,top:c.y,width:s,height:c.height},g=l.getLayoutParams(a.option);e.each(["right","top","width","height"],function(a){"ph"===g[a]&&(g[a]=f[a])});var h=l.getLayoutRect(g,d,a.padding);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===u&&this._size.reverse()},_positionGroup:function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),e=d&&d.get("inverse"),f=this._displayables.barGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(c!==t||e?c===t&&e?{scale:g?[-1,1]:[-1,-1]}:c!==u||e?{scale:g?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:g?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:g?[1,1]:[1,-1]});var h=a.getBoundingRect([f]);a.attr("position",[b.x-h.x,b.y-h.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this.dataZoomModel,b=this._size;this._displayables.barGroup.add(new i({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:a.get("backgroundColor")},z2:-40}))},_renderDataShadow:function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(a){var b=this._size,c=a.series,d=c.getRawData(),g=c.getShadowDim?c.getShadowDim():a.otherDim;if(null!=g){var h=d.getDataExtent(g),i=.3*(h[1]-h[0]);h=[h[0]-i,h[1]+i];var j,l=[0,b[1]],m=[0,b[0]],n=[[b[0],0],[0,0]],o=[],p=m[1]/(d.count()-1),q=0,r=Math.round(d.count()/b[0]);d.each([g],function(a,b){if(r>0&&b%r)return void(q+=p);var c=null==a||isNaN(a)||""===a,d=c?0:k(a,h,l,!0);c&&!j&&b?(n.push([n[n.length-1][0],0]),o.push([o[o.length-1][0],0])):!c&&j&&(n.push([q,0]),o.push([q,0])),n.push([q,d]),o.push([q,d]),q+=p,j=c});var s=this.dataZoomModel;this._displayables.barGroup.add(new f.Polygon({shape:{points:n},style:e.defaults({fill:s.get("dataBackgroundColor")},s.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new f.Polyline({shape:{points:o},style:s.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var a=this.dataZoomModel,b=a.get("showDataShadow");if(b!==!1){var c,f=this.ecModel;return a.eachTargetAxis(function(g,h){var i=a.getAxisProxy(g.name,h).getTargetSeriesModels();e.each(i,function(a){if(!(c||b!==!0&&e.indexOf(w,a.get("type"))<0)){var i,j=f.getComponent(g.axis,h).axis,k=d(g.name),l=a.coordinateSystem;null!=k&&l.getOtherAxis&&(i=l.getOtherAxis(j).inverse),c={thisAxis:j,series:a,thisDim:g.name,otherDim:k,otherAxisInverse:i}}},this)},this),c}},_renderHandle:function(){var a=this._displayables,b=a.handles=[],c=a.handleLabels=[],d=this._displayables.barGroup,e=this._size,g=this.dataZoomModel;d.add(a.filler=new i({draggable:!0,cursor:"move",drift:o(this._onDragMove,this,"all"),ondragstart:o(this._showDataInfo,this,!0),ondragend:o(this._onDragEnd,this),onmouseover:o(this._showDataInfo,this,!0),onmouseout:o(this._showDataInfo,this,!1),style:{fill:g.get("fillerColor"),textPosition:"inside"}})),d.add(new i(f.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:g.get("dataBackgroundColor")||g.get("borderColor"),lineWidth:r,fill:"rgba(0,0,0,0)"}})));var h=g.get("handleIcon");p([0,1],function(a){var e=f.makePath(h,{style:{strokeNoScale:!0},rectHover:!0,cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:o(this._onDragMove,this,a),ondragend:o(this._onDragEnd,this),onmouseover:o(this._showDataInfo,this,!0),onmouseout:o(this._showDataInfo,this,!1)},{x:-.5,y:0,width:1,height:1},"center"),i=e.getBoundingRect();this._handleHeight=j.parsePercent(g.get("handleSize"),this._size[1]),this._handleWidth=i.width/i.height*this._handleHeight,e.setStyle(g.getModel("handleStyle").getItemStyle());var k=g.get("handleColor");null!=k&&(e.style.fill=k),d.add(b[a]=e);var l=g.textStyleModel;this.group.add(c[a]=new f.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:l.getTextColor(),textFont:l.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[k(a[0],[0,100],b,!0),k(a[1],[0,100],b,!0)]},_updateInterval:function(a,b){var c=this._handleEnds,d=this._getViewExtent();m(b,c,d,"all"===a||this.dataZoomModel.get("zoomLock")?"rigid":"cross",a),this._range=n([k(c[0],d,[0,100],!0),k(c[1],d,[0,100],!0)])},_updateView:function(a){var b=this._displayables,c=this._handleEnds,d=n(c.slice()),e=this._size;p([0,1],function(a){var d=b.handles[a],f=this._handleHeight;d.attr({scale:[f,f],position:[c[a],e[1]/2-f/2]})},this),b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]}),this._updateDataInfo(a)},_updateDataInfo:function(a){function b(a){var b=f.getTransform(d.handles[a].parent,this.group),c=f.transformDirection(0===a?"right":"left",b),i=this._handleWidth/2+v,j=f.applyTransform([m[a]+(0===a?-i:i),this._size[1]/2],b);e[a].setStyle({x:j[0],y:j[1],textVerticalAlign:g===t?"middle":c,textAlign:g===t?c:"center",text:h[a]})}var c=this.dataZoomModel,d=this._displayables,e=d.handleLabels,g=this._orient,h=["",""];if(c.get("showDetail")){var i=c.findRepresentativeAxisProxy();if(i){var j=i.getAxisModel().axis,k=this._range,l=a?i.calculateDataWindow({start:k[0],end:k[1]}).valueWindow:i.getDataValueWindow();h=[this._formatLabel(l[0],j),this._formatLabel(l[1],j)]}}var m=n(this._handleEnds.slice());b.call(this,0),b.call(this,1)},_formatLabel:function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter"),f=c.get("labelPrecision");(null==f||"auto"===f)&&(f=b.getPixelPrecision());var g=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(f,20));return e.isFunction(d)?d(a,g):e.isString(d)?d.replace("{value}",g):g},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a),b[1].attr("invisible",!a)},_onDragMove:function(a,b,c){this._dragging=!0;var d=this._applyBarTransform([b,c],!0);this._updateInterval(a,d[0]);var e=this.dataZoomModel.get("realtime");this._updateView(!e),e&&e&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_applyBarTransform:function(a,b){var c=this._displayables.barGroup.getLocalTransform();return f.applyTransform(a,c,b)},_findCoordRect:function(){var a;if(p(this.getTargetCoordInfo(),function(b){if(!a&&b.length){var c=b[0].model.coordinateSystem;a=c.getRect&&c.getRect()}}),!a){var b=this.api.getWidth(),c=this.api.getHeight();a={x:.2*b,y:.2*c,width:.6*b,height:.6*c}}return a}});a.exports=x},function(a,b){a.exports=function(a,b,c,d,e){function f(a,b,c){var d=b.length?b.slice():[b,b];return b[0]>b[1]&&d.reverse(),0>a&&d[0]+a<c[0]&&(a=c[0]-d[0]),a>0&&d[1]+a>c[1]&&(a=c[1]-d[1]),a}return a?("rigid"===d?(a=f(a,b,c),b[0]+=a,b[1]+=a):(a=f(a,b[e],c),b[e]+=a,"push"===d&&b[0]>b[1]&&(b[1-e]=b[e])),b):b}},function(a,b,c){a.exports=c(331).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1}})},function(a,b,c){function d(a){var b=[0,100];return!(a[0]<=b[1])&&(a[0]=b[1]),!(a[1]<=b[1])&&(a[1]=b[1]),!(a[0]>=b[0])&&(a[0]=b[0]),!(a[1]>=b[0])&&(a[1]=b[0]),a}var e=c(334),f=c(4),g=c(337),h=c(340),i=f.bind,j=e.extend({type:"dataZoom.inside",init:function(a,b){this._range},render:function(a,b,c,d){j.superApply(this,"render",arguments),h.shouldRecordRange(d,a.id)&&(this._range=a.getPercentRange()),f.each(this.getTargetCoordInfo(),function(b,d){var e=f.map(b,function(a){return h.generateCoordId(a.model)});f.each(b,function(b){var f=b.model;h.register(c,{coordId:h.generateCoordId(f),allCoordIds:e,containsPoint:function(a,b){return f.coordinateSystem.containPoint([a,b])},dataZoomId:a.id,throttleRate:a.get("throttle",!0),panGetRange:i(this._onPan,this,b,d),zoomGetRange:i(this._onZoom,this,b,d)})},this)},this)},dispose:function(){h.unregister(this.api,this.dataZoomModel.id),j.superApply(this,"dispose",arguments),this._range=null},_onPan:function(a,b,c,d,e,f,h,i,j){if(this.dataZoomModel.option.disabled)return this._range;var l=this._range.slice(),m=a.axisModels[0];if(m){var n=k[b]([f,h],[i,j],m,c,a),o=n.signal*(l[1]-l[0])*n.pixel/n.pixelLength;return g(o,l,[0,100],"rigid"),this._range=l}},_onZoom:function(a,b,c,e,f,g){var h=this.dataZoomModel.option;if(h.disabled||h.zoomLock)return this._range;var i=this._range.slice(),j=a.axisModels[0];if(j){var l=k[b](null,[f,g],j,c,a),m=(l.pixel-l.pixelStart)/l.pixelLength*(i[1]-i[0])+i[0];return e=Math.max(1/e,0),i[0]=(i[0]-m)*e+m,i[1]=(i[1]-m)*e+m,this._range=d(i)}}}),k={grid:function(a,b,c,d,e){var f=c.axis,g={},h=e.model.coordinateSystem.getRect();return a=a||[0,0],"x"===f.dim?(g.pixel=b[0]-a[0],g.pixelLength=h.width,g.pixelStart=h.x,g.signal=f.inverse?1:-1):(g.pixel=b[1]-a[1],g.pixelLength=h.height,g.pixelStart=h.y,g.signal=f.inverse?-1:1),g},polar:function(a,b,c,d,e){var f=c.axis,g={},h=e.model.coordinateSystem,i=h.getRadiusAxis().getExtent(),j=h.getAngleAxis().getExtent();return a=a?h.pointToCoord(a):[0,0],b=h.pointToCoord(b),"radiusAxis"===c.mainType?(g.pixel=b[0]-a[0],g.pixelLength=i[1]-i[0],g.pixelStart=i[0],g.signal=f.inverse?1:-1):(g.pixel=b[1]-a[1],g.pixelLength=j[1]-j[0],g.pixelStart=j[0],g.signal=f.inverse?-1:1),g},singleAxis:function(a,b,c,d,e){var f=c.axis,g=e.model.coordinateSystem.getRect(),h={};return a=a||[0,0],"horizontal"===f.orient?(h.pixel=b[0]-a[0],h.pixelLength=g.width,h.pixelStart=g.x,h.signal=f.inverse?1:-1):(h.pixel=b[1]-a[1],h.pixelLength=g.height,h.pixelStart=g.y,h.signal=f.inverse?-1:1),h}};a.exports=j},function(a,b,c){function d(a){var b=a.getZr();return b[o]||(b[o]={})}function e(a,b,c){var d=new l(a.getZr());return d.enable(),d.on("pan",n(g,c)),d.on("zoom",n(h,c)),d}function f(a){k.each(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function g(a,b,c,d,e,f,g){i(a,function(h){return h.panGetRange(a.controller,b,c,d,e,f,g)})}function h(a,b,c,d){i(a,function(e){return e.zoomGetRange(a.controller,b,c,d)})}function i(a,b){var c=[];k.each(a.dataZoomInfos,function(a){var d=b(a);d&&c.push({dataZoomId:a.dataZoomId,start:d[0],end:d[1]})}),a.dispatchAction(c)}function j(a,b){a.dispatchAction({type:"dataZoom",batch:b})}var k=c(4),l=c(177),m=c(81),n=k.curry,o="\x00_ec_dataZoom_roams",p={register:function(a,b){var c=d(a),g=b.dataZoomId,h=b.coordId;k.each(c,function(a,c){var d=a.dataZoomInfos;d[g]&&k.indexOf(b.allCoordIds,h)<0&&(delete d[g],a.count--)}),f(c);var i=c[h];i||(i=c[h]={coordId:h,dataZoomInfos:{},count:0},i.controller=e(a,b,i),i.dispatchAction=k.curry(j,a)),i.controller.setContainsPoint(b.containsPoint),m.createOrUpdate(i,"dispatchAction",b.throttleRate,"fixRate"),!i.dataZoomInfos[g]&&i.count++,i.dataZoomInfos[g]=b},unregister:function(a,b){var c=d(a);k.each(c,function(a){a.controller.dispose();var c=a.dataZoomInfos;c[b]&&(delete c[b],a.count--)}),f(c)},shouldRecordRange:function(a,b){if(a&&"dataZoom"===a.type&&a.batch)for(var c=0,d=a.batch.length;d>c;c++)if(a.batch[c].dataZoomId===b)return!1;return!0},generateCoordId:function(a){return a.type+"\x00_"+a.id}};a.exports=p},function(a,b,c){function d(a,b,c){c.getAxisProxy(a.name,b).reset(c)}function e(a,b,c){c.getAxisProxy(a.name,b).filterData(c)}var f=c(1);f.registerProcessor(function(a,b){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(d),a.eachTargetAxis(e)}),a.eachComponent("dataZoom",function(a){var b=a.findRepresentativeAxisProxy(),c=b.getDataPercentWindow(),d=b.getDataValueWindow();a.setRawRange({start:c[0],end:c[1],startValue:d[0],endValue:d[1]})})})},function(a,b,c){var d=c(4),e=c(332),f=c(1);f.registerAction("dataZoom",function(a,b){var c=e.createLinkedNodesFinder(d.bind(b.eachComponent,b,"dataZoom"),e.eachAxisDim,function(a,b){return a.get(b.axisIndex)}),f=[];b.eachComponent({mainType:"dataZoom",query:a},function(a,b){f.push.apply(f,c(a).nodes)}),d.each(f,function(b,c){b.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})})},function(a,b,c){c(344),c(355)},function(a,b,c){c(1).registerPreprocessor(c(345)),c(346),c(347),c(348),c(351),c(354)},function(a,b,c){function d(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}var e=c(4),f=e.each;a.exports=function(a){var b=a&&a.visualMap;e.isArray(b)||(b=b?[b]:[]),f(b,function(a){if(a){d(a,"splitList")&&!d(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList);var b=a.pieces;b&&e.isArray(b)&&f(b,function(a){e.isObject(a)&&(d(a,"start")&&!d(a,"min")&&(a.min=a.start),d(a,"end")&&!d(a,"max")&&(a.max=a.end))})}})}},function(a,b,c){c(19).registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?a.pieces.length>0:a.splitNumber>0)&&!a.calculable?"piecewise":"continuous"})},function(a,b,c){function d(a,b){a.eachTargetSeries(function(b){var c=b.getData();h.applyVisual(a.stateList,a.targetVisuals,c,a.getValueState,a,a.getDataDimension(c))})}function e(a){a.eachSeries(function(b){var c=b.getData(),d=[];a.eachComponent("visualMap",function(a){if(a.isTargetSeries(b)){var e=a.getVisualMeta(j.bind(f,null,b,a))||{stops:[],outerColors:[]};e.dimension=a.getDataDimension(c),d.push(e)}}),b.getData().setVisual("visualMeta",d)})}function f(a,b,c,d){function e(a){return j[a]}function f(a,b){j[a]=b}for(var g=b.targetVisuals[d],h=i.prepareVisualTypes(g),j={color:a.getData().getVisual("color")},k=0,l=h.length;l>k;k++){var m=h[k],n=g["opacity"===m?"__alphaForOpacity":m];n&&n.applyVisual(c,e,f)}return j.color}var g=c(1),h=c(320),i=c(195),j=c(4);g.registerVisual(g.PRIORITY.VISUAL.COMPONENT,function(a){a.eachComponent("visualMap",function(b){d(b,a)}),e(a)})},function(a,b,c){function d(a,b,c){if(c[0]===c[1])return c.slice();for(var d=200,e=(c[1]-c[0])/d,f=c[0],g=[],h=0;d>=h&&f<c[1];h++)g.push(f),f+=e;return g.push(c[1]),g}var e=c(349),f=c(4),g=c(7),h=[20,140],i=e.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function(a,b){i.superApply(this,"optionUpdated",arguments),this.resetTargetSeries(),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){i.superApply(this,"resetItemSize",arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse(),(null==a[0]||isNaN(a[0]))&&(a[0]=h[0]),(null==a[1]||isNaN(a[1]))&&(a[1]=h[1])},_resetRange:function(){var a=this.getExtent(),b=this.option.range;!b||b.auto?(a.auto=1,this.option.range=a):f.isArray(b)&&(b[0]>b[1]&&b.reverse(),b[0]=Math.max(b[0],a[0]),b[1]=Math.min(b[1],a[1]))},completeVisualOption:function(){e.prototype.completeVisualOption.apply(this,arguments),f.each(this.stateList,function(a){var b=this.option.controller[a].symbolSize;b&&b[0]!==b[1]&&(b[0]=0)},this)},setSelected:function(a){this.option.range=a.slice(),this._resetRange()},getSelected:function(){var a=this.getExtent(),b=g.asc((this.get("range")||[]).slice());return b[0]>a[1]&&(b[0]=a[1]),b[1]>a[1]&&(b[1]=a[1]),b[0]<a[0]&&(b[0]=a[0]),b[1]<a[0]&&(b[1]=a[0]),b},getValueState:function(a){var b=this.option.range,c=this.getExtent();return(b[0]<=c[0]||b[0]<=a)&&(b[1]>=c[1]||a<=b[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];return this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(b,c){a[0]<=b&&b<=a[1]&&d.push(c)},!0,this),b.push({seriesId:c.id,dataIndex:d})},this),b},getVisualMeta:function(a){function b(b,c){f.push({value:b,color:a(b,c)})}for(var c=d(this,"outOfRange",this.getExtent()),e=d(this,"inRange",this.option.range.slice()),f=[],g=0,h=0,i=e.length,j=c.length;j>h&&(!e.length||c[h]<=e[0]);h++)c[h]<e[g]&&b(c[h],"outOfRange");for(var k=1;i>g;g++,k=0)k&&f.length&&b(e[g],"outOfRange"),b(e[g],"inRange");for(var k=1;j>h;h++)(!e.length||e[e.length-1]<c[h])&&(k&&(f.length&&b(f[f.length-1].value,"outOfRange"),k=0),b(c[h],"outOfRange"));var l=f.length;return{stops:f,outerColors:[l?f[0].color:"transparent",l?f[l-1].color:"transparent"]}}});a.exports=i},function(a,b,c){var d=c(1),e=c(4),f=c(2),g=c(350),h=c(195),i=c(320),j=h.mapVisual,k=c(5),l=h.eachVisual,m=c(7),n=e.isArray,o=e.each,p=m.asc,q=m.linearMap,r=e.noop,s=["#f6efa6","#d88273","#bf444c"],t=d.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-(1/0),1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,c){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(a,c)},optionUpdated:function(a,b){var c=this.option;f.canvasSupported||(c.realtime=!1),!b&&i.replaceVisualOption(c,a,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=e.bind(a,this),this.controllerVisuals=i.createVisualMappings(this.option.controller,b,a),this.targetVisuals=i.createVisualMappings(this.option.target,b,a)},resetTargetSeries:function(){var a=this.option,b=null==a.seriesIndex;a.seriesIndex=b?[]:k.normalizeToArray(a.seriesIndex),b&&this.ecModel.eachSeries(function(b,c){a.seriesIndex.push(c)})},eachTargetSeries:function(a,b){e.each(this.option.seriesIndex,function(c){a.call(b,this.ecModel.getSeriesByIndex(c))},this)},isTargetSeries:function(a){var b=!1;return this.eachTargetSeries(function(c){c===a&&(b=!0)}),b},formatValueText:function(a,b,c){function d(a){return a===j[0]?"min":a===j[1]?"max":(+a).toFixed(i)}var f,g,h=this.option,i=h.precision,j=this.dataBound,k=h.formatter;return c=c||["<",">"],e.isArray(a)&&(a=a.slice(),f=!0),g=b?a:f?[d(a[0]),d(a[1])]:d(a),e.isString(k)?k.replace("{value}",f?g[0]:g).replace("{value2}",f?g[1]:g):e.isFunction(k)?f?k(a[0],a[1]):k(a):f?a[0]===j[0]?c[0]+" "+g[1]:a[1]===j[1]?c[1]+" "+g[0]:g[0]+" - "+g[1]:g},resetExtent:function(){var a=this.option,b=p([a.min,a.max]);this._dataExtent=b},getDataDimension:function(a){var b=this.option.dimension;return null!=b?b:a.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function a(a){n(d.color)&&!a.inRange&&(a.inRange={color:d.color.slice().reverse()}),a.inRange=a.inRange||{color:s},o(this.stateList,function(b){var c=a[b];if(e.isString(c)){var d=g.get(c,"active",m);d?(a[b]={},a[b][c]=d):delete a[b]}},this)}function b(a,b,c){var d=a[b],e=a[c];d&&!e&&(e=a[c]={},o(d,function(a,b){if(h.isValidType(b)){var c=g.get(b,"inactive",m);null!=c&&(e[b]=c,"color"!==b||e.hasOwnProperty("opacity")||e.hasOwnProperty("colorAlpha")||(e.opacity=[0,0]))}}))}function c(a){var b=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,c=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,d=this.get("inactiveColor");o(this.stateList,function(f){var g=this.itemSize,h=a[f];h||(h=a[f]={color:m?d:[d]}),null==h.symbol&&(h.symbol=b&&e.clone(b)||(m?"roundRect":["roundRect"])),null==h.symbolSize&&(h.symbolSize=c&&e.clone(c)||(m?g[0]:[g[0],g[0]])),h.symbol=j(h.symbol,function(a){return"none"===a||"square"===a?"roundRect":a});var i=h.symbolSize;if(null!=i){var k=-(1/0);l(i,function(a){a>k&&(k=a)}),h.symbolSize=j(i,function(a){return q(a,[0,k],[0,g[0]],!0)})}},this)}var d=this.option,f={inRange:d.inRange,outOfRange:d.outOfRange},i=d.target||(d.target={}),k=d.controller||(d.controller={});e.merge(i,f),e.merge(k,f);var m=this.isCategory();a.call(this,i),a.call(this,k),b.call(this,i,"inRange","outOfRange"),c.call(this,k)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:r,getValueState:r,getVisualMeta:r});a.exports=t},function(a,b,c){var d=c(4),e={get:function(a,b,c){var e=d.clone((f[a]||{})[b]);return c&&d.isArray(e)?e[e.length-1]:e}},f={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};a.exports=e},function(a,b,c){function d(a,b,c,d){return new j.Polygon({shape:{points:a},draggable:!!c,cursor:b,drift:c,ondragend:d})}function e(a,b){return 0===a?[[0,0],[b,0],[b,-b]]:[[0,0],[b,0],[b,b]]}function f(a,b,c,d){return a?[[0,-s(b,t(c,0))],[v,0],[0,s(b,t(d-c,0))]]:[[0,0],[5,-5],[5,5]]}function g(a,b,c){var d=u/2,e=a.get("hoverLinkDataSize");return e&&(d=q(e,b,c,!0)/2),d}function h(a){return!a.get("realtime")&&a.get("hoverLinkOnHandle")}var i=c(352),j=c(43),k=c(4),l=c(7),m=c(337),n=c(78),o=c(353),p=c(5),q=l.linearMap,r=k.each,s=Math.min,t=Math.max,u=12,v=6,w=i.extend({type:"visualMap.continuous",init:function(){w.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(a,b,c,d){d&&"selectDataRange"===d.type&&d.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient"),this._useHandle=a.get("calculable"),this._resetInterval(),this._renderBar(b);var c=a.get("text");this._renderEndsText(b,c,0),this._renderEndsText(b,c,1),this._updateView(!0),this.renderBackground(b),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(b)},_renderEndsText:function(a,b,c){if(b){var d=b[1-c];d=null!=d?d+"":"";var e=this.visualMapModel,f=e.get("textGap"),g=e.itemSize,h=this._shapes.barGroup,i=this._applyTransform([g[0]/2,0===c?-f:g[1]+f],h),k=this._applyTransform(0===c?"bottom":"top",h),l=this._orient,m=this.visualMapModel.textStyleModel;this.group.add(new j.Text({style:{x:i[0],y:i[1],textVerticalAlign:"horizontal"===l?"middle":k,textAlign:"horizontal"===l?k:"center",text:d,textFont:m.getFont(),fill:m.getTextColor()}}))}},_renderBar:function(a){var b=this.visualMapModel,c=this._shapes,e=b.itemSize,f=this._orient,g=this._useHandle,h=o.getItemAlign(b,this.api,e),i=c.barGroup=this._createBarGroup(h);i.add(c.outOfRange=d()),i.add(c.inRange=d(null,g?"move":null,k.bind(this._dragHandle,this,"all",!1),k.bind(this._dragHandle,this,"all",!0)));var j=b.textStyleModel.getTextRect("国"),l=t(j.width,j.height);g&&(c.handleThumbs=[],c.handleLabels=[],c.handleLabelPoints=[],this._createHandle(i,0,e,l,f,h),this._createHandle(i,1,e,l,f,h)),this._createIndicator(i,e,l,f),a.add(i)},_createHandle:function(a,b,c,f,g){var h=k.bind(this._dragHandle,this,b,!1),i=k.bind(this._dragHandle,this,b,!0),l=d(e(b,f),"move",h,i);l.position[0]=c[0],a.add(l);var m=this.visualMapModel.textStyleModel,n=new j.Text({draggable:!0,drift:h,ondragend:i,style:{x:0,y:0,text:"",textFont:m.getFont(),fill:m.getTextColor()}});this.group.add(n);var o=["horizontal"===g?f/2:1.5*f,"horizontal"===g?0===b?-(1.5*f):1.5*f:0===b?-f/2:f/2],p=this._shapes;p.handleThumbs[b]=l,p.handleLabelPoints[b]=o,p.handleLabels[b]=n},_createIndicator:function(a,b,c,e){var f=d([[0,0]],"move");f.position[0]=b[0],f.attr({invisible:!0,silent:!0}),a.add(f);var g=this.visualMapModel.textStyleModel,h=new j.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:g.getFont(),fill:g.getTextColor()}});this.group.add(h);var i=["horizontal"===e?c/2:v+3,0],k=this._shapes;k.indicator=f,k.indicatorLabel=h,k.indicatorLabelPoint=i},_dragHandle:function(a,b,c,d){if(this._useHandle){if(this._dragging=!b,!b){var e=this._applyTransform([c,d],this._shapes.barGroup,!0);this._updateInterval(a,e[1]),this._updateView()}b===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),b?!this._hovering&&this._clearHoverLinkToSeries():h(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1)}},_resetInterval:function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),d=[0,a.itemSize[1]];this._handleEnds=[q(b[0],c,d,!0),q(b[1],c,d,!0)]},_updateInterval:function(a,b){b=b||0;var c=this.visualMapModel,d=this._handleEnds;m(b,d,[0,c.itemSize[1]],"all"===a?"rigid":"push",a);var e=c.getExtent(),f=[0,c.itemSize[1]];this._dataInterval=[q(d[0],f,e,!0),q(d[1],f,e,!0)]},_updateView:function(a){var b=this.visualMapModel,c=b.getExtent(),d=this._shapes,e=[0,b.itemSize[1]],f=a?e:this._handleEnds,g=this._createBarVisual(this._dataInterval,c,f,"inRange"),h=this._createBarVisual(c,c,e,"outOfRange");d.inRange.setStyle({fill:g.barColor,opacity:g.opacity}).setShape("points",g.barPoints),d.outOfRange.setStyle({
fill:h.barColor,opacity:h.opacity}).setShape("points",h.barPoints),this._updateHandle(f,g)},_createBarVisual:function(a,b,c,d){var e={forceState:d,convertOpacityToAlpha:!0},f=this._makeColorGradient(a,e),g=[this.getControllerVisual(a[0],"symbolSize",e),this.getControllerVisual(a[1],"symbolSize",e)],h=this._createBarPoints(c,g);return{barColor:new n(0,0,0,1,f),barPoints:h,handlesColor:[f[0].color,f[f.length-1].color]}},_makeColorGradient:function(a,b){var c=100,d=[],e=(a[1]-a[0])/c;d.push({color:this.getControllerVisual(a[0],"color",b),offset:0});for(var f=1;c>f;f++){var g=a[0]+e*f;if(g>a[1])break;d.push({color:this.getControllerVisual(g,"color",b),offset:f/c})}return d.push({color:this.getControllerVisual(a[1],"color",b),offset:1}),d},_createBarPoints:function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new j.Group("horizontal"!==b||c?"horizontal"===b&&c?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||c?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(a,b){if(this._useHandle){var c=this._shapes,d=this.visualMapModel,e=c.handleThumbs,f=c.handleLabels;r([0,1],function(g){var h=e[g];h.setStyle("fill",b.handlesColor[g]),h.position[1]=a[g];var i=j.applyTransform(c.handleLabelPoints[g],j.getTransform(h,this.group));f[g].setStyle({x:i[0],y:i[1],text:d.formatValueText(this._dataInterval[g]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===g?"bottom":"top":"left",c.barGroup)})},this)}},_showIndicator:function(a,b,c,d){var e=this.visualMapModel,g=e.getExtent(),h=e.itemSize,i=[0,h[1]],k=q(a,g,i,!0),l=this._shapes,m=l.indicator;if(m){m.position[1]=k,m.attr("invisible",!1),m.setShape("points",f(!!c,d,k,h[1]));var n={convertOpacityToAlpha:!0},o=this.getControllerVisual(a,"color",n);m.setStyle("fill",o);var p=j.applyTransform(l.indicatorLabelPoint,j.getTransform(m,this.group)),r=l.indicatorLabel;r.attr("invisible",!1);var s=this._applyTransform("left",l.barGroup),t=this._orient;r.setStyle({text:(c?c:"")+e.formatValueText(b),textVerticalAlign:"horizontal"===t?s:"middle",textAlign:"horizontal"===t?"center":s,x:p[0],y:p[1]})}},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on("mousemove",function(b){if(a._hovering=!0,!a._dragging){var c=a.visualMapModel.itemSize,d=a._applyTransform([b.offsetX,b.offsetY],a._shapes.barGroup,!0,!0);d[1]=s(t(0,d[1]),c[1]),a._doHoverLinkToSeries(d[1],0<=d[0]&&d[0]<=c[0])}}).on("mouseout",function(){a._hovering=!1,!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(a,b){var c=this.visualMapModel,d=c.itemSize;if(c.option.hoverLink){var e=[0,d[1]],f=c.getExtent();a=s(t(e[0],a),e[1]);var i=g(c,f,e),j=[a-i,a+i],k=q(a,e,f,!0),l=[q(j[0],e,f,!0),q(j[1],e,f,!0)];j[0]<e[0]&&(l[0]=-(1/0)),j[1]>e[1]&&(l[1]=1/0),b&&(l[0]===-(1/0)?this._showIndicator(k,l[1],"< ",i):l[1]===1/0?this._showIndicator(k,l[0],"> ",i):this._showIndicator(k,k,"≈ ",i));var m=this._hoverLinkDataIndices,n=[];(b||h(c))&&(n=this._hoverLinkDataIndices=c.findTargetDataIndices(l));var r=p.compressBatches(m,n);this._dispatchHighDown("downplay",o.convertDataIndex(r[0])),this._dispatchHighDown("highlight",o.convertDataIndex(r[1]))}},_hoverLinkFromSeriesMouseOver:function(a){var b=a.target;if(b&&null!=b.dataIndex){var c=b.dataModel||this.ecModel.getSeriesByIndex(b.seriesIndex),d=c.getData(b.dataType),e=d.getDimension(this.visualMapModel.getDataDimension(d)),f=d.get(e,b.dataIndex,!0);isNaN(f)||this._showIndicator(f,f)}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",o.convertDataIndex(a)),a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},_applyTransform:function(a,b,c,d){var e=j.getTransform(b,d?null:this.group);return j[k.isArray(a)?"applyTransform":"transformDirection"](a,e,c)},_dispatchHighDown:function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});a.exports=w},function(a,b,c){var d=c(4),e=c(43),f=c(6),g=c(21),h=c(1),i=c(195);a.exports=h.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,b){this.ecModel=a,this.api=b,this.visualMapModel},render:function(a,b,c,d){return this.visualMapModel=a,a.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},renderBackground:function(a){var b=this.visualMapModel,c=f.normalizeCssArray(b.get("padding")||0),d=a.getBoundingRect();a.add(new e.Rect({z2:-1,silent:!0,shape:{x:d.x-c[3],y:d.y-c[0],width:d.width+c[3]+c[1],height:d.height+c[0]+c[2]},style:{fill:b.get("backgroundColor"),stroke:b.get("borderColor"),lineWidth:b.get("borderWidth")}}))},getControllerVisual:function(a,b,c){function e(a){return j[a]}function f(a,b){j[a]=b}c=c||{};var g=c.forceState,h=this.visualMapModel,j={};if("symbol"===b&&(j.symbol=h.get("itemSymbol")),"color"===b){var k=h.get("contentColor");j.color=k}var l=h.controllerVisuals[g||h.getValueState(a)],m=i.prepareVisualTypes(l);return d.each(m,function(d){var g=l[d];c.convertOpacityToAlpha&&"opacity"===d&&(d="colorAlpha",g=l.__alphaForOpacity),i.dependsOn(d,b)&&g&&g.applyVisual(a,e,f)}),j[b]},positionGroup:function(a){var b=this.visualMapModel,c=this.api;g.positionElement(a,b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})},doRender:d.noop})},function(a,b,c){var d=c(4),e=c(21),f={getItemAlign:function(a,b,c){var d=a.option,f=d.align;if(null!=f&&"auto"!==f)return f;for(var g={width:b.getWidth(),height:b.getHeight()},h="horizontal"===d.orient?1:0,i=[["left","right","width"],["top","bottom","height"]],j=i[h],k=[0,null,10],l={},m=0;3>m;m++)l[i[1-h][m]]=k[m],l[j[m]]=2===m?c[0]:d[j[m]];var n=[["x","width",3],["y","height",0]][h],o=e.getLayoutRect(l,g,d.padding);return j[(o.margin[n[2]]||0)+o[n[0]]+.5*o[n[1]]<.5*g[n[1]]?0:1]},convertDataIndex:function(a){return d.each(a||[],function(b){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null)}),a}};a.exports=f},function(a,b,c){var d=c(1),e={type:"selectDataRange",event:"dataRangeSelected",update:"update"};d.registerAction(e,function(a,b){b.eachComponent({mainType:"visualMap",query:a},function(b){b.setSelected(a.selected)})})},function(a,b,c){c(1).registerPreprocessor(c(345)),c(346),c(347),c(356),c(357),c(354)},function(a,b,c){function d(a,b){var c=a.inverse;("vertical"===a.orient?!c:c)&&b.reverse()}var e=c(349),f=c(4),g=c(195),h=c(350),i=c(7).reformIntervals,j=e.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(a,b){j.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetTargetSeries(),this.resetExtent();var c=this._mode=this._determineMode();k[this._mode].call(this),this._resetSelected(a,b);var d=this.option.categories;this.resetVisual(function(a,b){"categories"===c?(a.mappingMethod="category",a.categories=f.clone(d)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=f.map(this._pieceList,function(a){var a=f.clone(a);return"inRange"!==b&&(a.visual=null),a}))})},completeVisualOption:function(){function a(a,b,c){return a&&a[b]&&(f.isObject(a[b])?a[b].hasOwnProperty(c):a[b]===c)}var b=this.option,c={},d=g.listVisualTypes(),i=this.isCategory();f.each(b.pieces,function(a){f.each(d,function(b){a.hasOwnProperty(b)&&(c[b]=1)})}),f.each(c,function(c,d){var e=0;f.each(this.stateList,function(c){e|=a(b,c,d)||a(b.target,c,d)},this),!e&&f.each(this.stateList,function(a){(b[a]||(b[a]={}))[d]=h.get(d,"inRange"===a?"active":"inactive",i)})},this),e.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(a,b){var c=this.option,d=this._pieceList,e=(b?c:a).selected||{};if(c.selected=e,f.each(d,function(a,b){var c=this.getSelectedMapKey(a);e.hasOwnProperty(c)||(e[c]=!0)},this),"single"===c.selectedMode){var g=!1;f.each(d,function(a,b){var c=this.getSelectedMapKey(a);e[c]&&(g?e[c]=!1:g=!0)},this)}},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=f.clone(a)},getValueState:function(a){var b=g.findPieceIndex(a,this._pieceList);return null!=b&&this.option.selected[this.getSelectedMapKey(this._pieceList[b])]?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];return this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(b,c){var e=g.findPieceIndex(b,this._pieceList);e===a&&d.push(c)},!0,this),b.push({seriesId:c.id,dataIndex:d})},this),b},getRepresentValue:function(a){var b;if(this.isCategory())b=a.value;else if(null!=a.value)b=a.value;else{var c=a.interval||[];b=c[0]===-(1/0)&&c[1]===1/0?0:(c[0]+c[1])/2}return b},getVisualMeta:function(a){function b(b,f){var g=e.getRepresentValue({interval:b});f||(f=e.getValueState(g));var h=a(g,f);b[0]===-(1/0)?d[0]=h:b[1]===1/0?d[1]=h:c.push({value:b[0],color:h},{value:b[1],color:h})}if(!this.isCategory()){var c=[],d=[],e=this,g=this._pieceList.slice();if(g.length){var h=g[0].interval[0];h!==-(1/0)&&g.unshift({interval:[-(1/0),h]}),h=g[g.length-1].interval[1],h!==1/0&&g.push({interval:[h,1/0]})}else g.push({interval:[-(1/0),1/0]});var i=-(1/0);return f.each(g,function(a){var c=a.interval;c&&(c[0]>i&&b([i,c[0]],"outOfRange"),b(c.slice()),i=c[1])},this),{stops:c,outerColors:d}}}}),k={splitNumber:function(){var a=this.option,b=this._pieceList,c=a.precision,d=this.getExtent(),e=a.splitNumber;e=Math.max(parseInt(e,10),1),a.splitNumber=e;for(var g=(d[1]-d[0])/e;+g.toFixed(c)!==g&&5>c;)c++;a.precision=c,g=+g.toFixed(c);var h=0;a.minOpen&&b.push({index:h++,interval:[-(1/0),d[0]],close:[0,0]});for(var j=d[0],k=h+e;k>h;j+=g){var l=h===e-1?d[1]:j+g;b.push({index:h++,interval:[j,l],close:[1,1]})}a.maxOpen&&b.push({index:h++,interval:[d[1],1/0],close:[0,0]}),i(b),f.each(b,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var a=this.option;f.each(a.categories,function(a){this._pieceList.push({text:this.formatValueText(a,!0),value:a})},this),d(a,this._pieceList)},pieces:function(){var a=this.option,b=this._pieceList;f.each(a.pieces,function(a,c){f.isObject(a)||(a={value:a});var d={text:"",index:c};if(null!=a.label&&(d.text=a.label),a.hasOwnProperty("value")){var e=d.value=a.value;d.interval=[e,e],d.close=[1,1]}else{for(var h=d.interval=[],i=d.close=[0,0],j=[1,0,1],k=[-(1/0),1/0],l=[],m=0;2>m;m++){for(var n=[["gte","gt","min"],["lte","lt","max"]][m],o=0;3>o&&null==h[m];o++)h[m]=a[n[o]],i[m]=j[o],l[m]=2===o;null==h[m]&&(h[m]=k[m])}l[0]&&h[1]===1/0&&(i[0]=0),l[1]&&h[0]===-(1/0)&&(i[1]=0),h[0]>h[1],h[0]===h[1]&&i[0]&&i[1]&&(d.value=h[0])}d.visual=g.retrieveVisuals(a),b.push(d)},this),d(a,b),i(b),f.each(b,function(a){var b=a.close,c=[["<","≤"][b[1]],[">","≥"][b[0]]];a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,c)},this)}};a.exports=j},function(a,b,c){var d=c(352),e=c(4),f=c(43),g=c(107),h=c(21),i=c(353),j=d.extend({type:"visualMap.piecewise",doRender:function(){function a(a){var g=a.piece,h=new f.Group;h.onclick=e.bind(this._onItemClick,this,g),this._enableHoverLink(h,a.indexInModelPieceList);var m=c.getRepresentValue(g);if(this._createItemSymbol(h,m,[0,0,l[0],l[1]]),o){var n=this.visualMapModel.getValueState(m);h.add(new f.Text({style:{x:"right"===k?-d:l[0]+d,y:l[1]/2,text:g.text,textVerticalAlign:"middle",textAlign:k,textFont:i,fill:j,opacity:"outOfRange"===n?.5:1}}))}b.add(h)}var b=this.group;b.removeAll();var c=this.visualMapModel,d=c.get("textGap"),g=c.textStyleModel,i=g.getFont(),j=g.getTextColor(),k=this._getItemAlign(),l=c.itemSize,m=this._getViewData(),n=m.endsText,o=e.retrieve(c.get("showLabel",!0),!n);n&&this._renderEndsText(b,n[0],l,o,k),e.each(m.viewPieceList,a,this),n&&this._renderEndsText(b,n[1],l,o,k),h.box(c.get("orient"),b,c.get("itemGap")),this.renderBackground(b),this.positionGroup(b)},_enableHoverLink:function(a,b){function c(a){var c=this.visualMapModel;c.option.hoverLink&&this.api.dispatchAction({type:a,batch:i.convertDataIndex(c.findTargetDataIndices(b))})}a.on("mouseover",e.bind(c,this,"highlight")).on("mouseout",e.bind(c,this,"downplay"))},_getItemAlign:function(){var a=this.visualMapModel,b=a.option;if("vertical"===b.orient)return i.getItemAlign(a,this.api,a.itemSize);var c=b.align;return c&&"auto"!==c||(c="left"),c},_renderEndsText:function(a,b,c,d,e){if(b){var g=new f.Group,h=this.visualMapModel.textStyleModel;g.add(new f.Text({style:{x:d?"right"===e?c[0]:0:c[0]/2,y:c[1]/2,textVerticalAlign:"middle",textAlign:d?e:"center",text:b,textFont:h.getFont(),fill:h.getTextColor()}})),a.add(g)}},_getViewData:function(){var a=this.visualMapModel,b=e.map(a.getPieceList(),function(a,b){return{piece:a,indexInModelPieceList:b}}),c=a.get("text"),d=a.get("orient"),f=a.get("inverse");return("horizontal"===d?f:!f)?b.reverse():c&&(c=c.slice().reverse()),{viewPieceList:b,endsText:c}},_createItemSymbol:function(a,b,c){a.add(g.createSymbol(this.getControllerVisual(b,"symbol"),c[0],c[1],c[2],c[3],this.getControllerVisual(b,"color")))},_onItemClick:function(a){var b=this.visualMapModel,c=b.option,d=e.clone(c.selected),f=b.getSelectedMapKey(a);"single"===c.selectedMode?(d[f]=!0,e.each(d,function(a,b){d[b]=b===f})):d[f]=!d[f],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:d})}});a.exports=j},function(a,b,c){c(359),c(361),c(1).registerPreprocessor(function(a){a.markPoint=a.markPoint||{}})},function(a,b,c){a.exports=c(360).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})},function(a,b,c){function d(a){e.defaultEmphasis(a.label,e.LABEL_OPTIONS)}var e=c(5),f=c(4),g=c(2),h=c(6),i=h.addCommas,j=h.encodeHTML,k=c(1).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(a,b,c,d){if("marker"===this.type)throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(a,c),this.mergeOption(a,c,d.createdBySelf,!0)},isAnimationEnabled:function(){if(g.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(a,b,c,e){var g=this.constructor,h=this.mainType+"Model";c||b.eachSeries(function(a){var c=a.get(this.mainType),i=a[h];return c&&c.data?(i?i.mergeOption(c,b,!0):(e&&d(c),f.each(c.data,function(a){a instanceof Array?(d(a[0]),d(a[1])):d(a)}),i=new g(c,this,b),f.extend(i,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),i.__hostSeries=a),void(a[h]=i)):void(a[h]=null)},this)},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a),d=f.isArray(c)?f.map(c,i).join(", "):i(c),e=b.getName(a),g=j(this.name);return(null!=c||e)&&(g+="<br />"),e&&(g+=j(e),null!=c&&(g+=" : ")),null!=c&&(g+=j(d)),g},getData:function(){return this._data},setData:function(a){this._data=a}});f.mixin(k,e.dataFormatMixin),a.exports=k},function(a,b,c){function d(a,b,c){var d=b.coordinateSystem;a.each(function(e){var f,g=a.getItemModel(e),i=h.parsePercent(g.get("x"),c.getWidth()),j=h.parsePercent(g.get("y"),c.getHeight());if(isNaN(i)||isNaN(j)){if(b.getMarkerPosition)f=b.getMarkerPosition(a.getValues(a.dimensions,e));else if(d){var k=a.get(d.dimensions[0],e),l=a.get(d.dimensions[1],e);f=d.dataToPoint([k,l])}}else f=[i,j];isNaN(i)||(f[0]=i),isNaN(j)||(f[1]=j),a.setItemLayout(e,f)})}function e(a,b,c){var d;d=a?g.map(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};return c.name=a,c}):[{name:"value",type:"float"}];var e=new i(d,c),f=g.map(c.get("data"),g.curry(j.dataTransform,b));return a&&(f=g.filter(f,g.curry(j.dataFilter,a))),e.initData(f,null,a?j.dimValueGetter:function(a){return a.value}),e}var f=c(105),g=c(4),h=c(7),i=c(98),j=c(362);c(363).extend({type:"markPoint",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markPointModel;b&&(d(b.getData(),a,c),this.markerGroupMap[a.name].updateLayout(b))},this)},renderSeries:function(a,b,c,g){var h=a.coordinateSystem,i=a.name,j=a.getData(),k=this.markerGroupMap,l=k[i];l||(l=k[i]=new f);var m=e(h,a,b);b.setData(m),d(b.getData(),a,g),m.each(function(a){var c=m.getItemModel(a),d=c.getShallow("symbolSize");"function"==typeof d&&(d=d(b.getRawValue(a),b.getDataParams(a))),m.setItemVisual(a,{symbolSize:d,color:c.get("itemStyle.normal.color")||j.getVisual("color"),symbol:c.getShallow("symbol")})}),l.updateData(m),this.group.add(l.group),m.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=b})}),l.__keep=!0,l.group.silent=b.get("silent")||a.get("silent")}})},function(a,b,c){function d(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function e(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function f(a,b,c){var d=-1;do d=Math.max(i.getPrecision(a.get(b,c)),d),a=a.stackedOn;while(a);return d}function g(a,b,c,d,e,g){var h=[],i=q(b,d,a),j=b.indexOfNearest(d,i,!0);h[e]=b.get(c,j,!0),h[g]=b.get(d,j,!0);var k=f(b,d,j);return k>=0&&(h[g]=+h[g].toFixed(k)),h}var h=c(4),i=c(7),j=h.indexOf,k=h.curry,l={min:k(g,"min"),max:k(g,"max"),average:k(g,"average")},m=function(a,b){var c=a.getData(),d=a.coordinateSystem;if(b&&!e(b)&&!h.isArray(b.coord)&&d){var f=d.dimensions,g=n(b,c,d,a);if(b=h.clone(b),b.type&&l[b.type]&&g.baseAxis&&g.valueAxis){var i=j(f,g.baseAxis.dim),k=j(f,g.valueAxis.dim);b.coord=l[b.type](c,g.baseDataDim,g.valueDataDim,i,k),b.value=b.coord[k]}else{for(var m=[null!=b.xAxis?b.xAxis:b.radiusAxis,null!=b.yAxis?b.yAxis:b.angleAxis],o=0;2>o;o++)if(l[m[o]]){var p=a.coordDimToDataDim(f[o])[0];m[o]=q(c,p,m[o])}b.coord=m}}return b},n=function(a,b,c,d){var e={};return null!=a.valueIndex||null!=a.valueDim?(e.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim,e.valueAxis=c.getAxis(d.dataDimToCoordDim(e.valueDataDim)),e.baseAxis=c.getOtherAxis(e.valueAxis),e.baseDataDim=d.coordDimToDataDim(e.baseAxis.dim)[0]):(e.baseAxis=d.getBaseAxis(),e.valueAxis=c.getOtherAxis(e.baseAxis),e.baseDataDim=d.coordDimToDataDim(e.baseAxis.dim)[0],e.valueDataDim=d.coordDimToDataDim(e.valueAxis.dim)[0]),e},o=function(a,b){return a&&a.containData&&b.coord&&!d(b)?a.containData(b.coord):!0},p=function(a,b,c,d){return 2>d?a.coord&&a.coord[d]:a.value},q=function(a,b,c){if("average"===c){var d=0,e=0;return a.each(b,function(a,b){isNaN(a)||(d+=a,e++)},!0),d/e}return a.getDataExtent(b,!0)["max"===c?1:0]};a.exports={dataTransform:m,dataFilter:o,dimValueGetter:p,getAxisInfo:n,numCalculate:q}},function(a,b,c){a.exports=c(1).extendComponentView({type:"marker",init:function(){this.markerGroupMap={}},render:function(a,b,c){var d=this.markerGroupMap;for(var e in d)d.hasOwnProperty(e)&&(d[e].__keep=!1);var f=this.type+"Model";b.eachSeries(function(a){var d=a[f];d&&this.renderSeries(a,d,b,c)},this);for(var e in d)d.hasOwnProperty(e)&&!d[e].__keep&&this.group.remove(d[e].group)},renderSeries:function(){}})},function(a,b,c){c(365),c(366),c(1).registerPreprocessor(function(a){a.markLine=a.markLine||{}})},function(a,b,c){a.exports=c(360).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})},function(a,b,c){function d(a){return!isNaN(a)&&!isFinite(a)}function e(a,b,c,e){var f=1-a,g=e.dimensions[a];return d(b[f])&&d(c[f])&&b[a]===c[a]&&e.getAxis(g).containData(b[a])}function f(a,b){if("cartesian2d"===a.type){var c=b[0].coord,d=b[1].coord;if(c&&d&&(e(1,c,d,a)||e(0,c,d,a)))return!0}return l.dataFilter(a,b[0])&&l.dataFilter(a,b[1])}function g(a,b,c,e,f){var g,h=e.coordinateSystem,i=a.getItemModel(b),j=k.parsePercent(i.get("x"),f.getWidth()),l=k.parsePercent(i.get("y"),f.getHeight());if(isNaN(j)||isNaN(l)){if(e.getMarkerPosition)g=e.getMarkerPosition(a.getValues(a.dimensions,b));else{var m=h.dimensions,n=a.get(m[0],b),o=a.get(m[1],b);g=h.dataToPoint([n,o])}if("cartesian2d"===h.type){var p=h.getAxis("x"),q=h.getAxis("y"),m=h.dimensions;d(a.get(m[0],b))?g[0]=p.toGlobalCoord(p.getExtent()[c?0:1]):d(a.get(m[1],b))&&(g[1]=q.toGlobalCoord(q.getExtent()[c?0:1]))}isNaN(j)||(g[0]=j),isNaN(l)||(g[1]=l)}else g=[j,l];a.setItemLayout(b,g)}function h(a,b,c){var d;d=a?i.map(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};return c.name=a,c}):[{name:"value",type:"float"}];var e=new j(d,c),g=new j(d,c),h=new j([],c),k=i.map(c.get("data"),i.curry(n,b,a,c));a&&(k=i.filter(k,i.curry(f,a)));var m=a?l.dimValueGetter:function(a){return a.value};return e.initData(i.map(k,function(a){return a[0]}),null,m),g.initData(i.map(k,function(a){return a[1]}),null,m),h.initData(i.map(k,function(a){return a[2]})),h.hasItemOption=!0,{from:e,to:g,line:h}}var i=c(4),j=c(98),k=c(7),l=c(362),m=c(202),n=function(a,b,c,d){var e=a.getData(),f=d.type;if(!i.isArray(d)&&("min"===f||"max"===f||"average"===f||null!=d.xAxis||null!=d.yAxis)){var g,h,j;if(null!=d.yAxis||null!=d.xAxis)h=null!=d.yAxis?"y":"x",g=b.getAxis(h),j=i.retrieve(d.yAxis,d.xAxis);else{var k=l.getAxisInfo(d,e,b,a);h=k.valueDataDim,g=k.valueAxis,j=l.numCalculate(e,h,f)}var m="x"===h?0:1,n=1-m,o=i.clone(d),p={};o.type=null,o.coord=[],p.coord=[],o.coord[n]=-(1/0),p.coord[n]=1/0;var q=c.get("precision");q>=0&&"number"==typeof j&&(j=+j.toFixed(q)),o.coord[m]=p.coord[m]=j,d=[o,p,{type:f,valueIndex:d.valueIndex,value:j}]}return d=[l.dataTransform(a,d[0]),l.dataTransform(a,d[1]),i.extend({},d[2])],d[2].type=d[2].type||"",i.merge(d[2],d[0]),i.merge(d[2],d[1]),d};c(363).extend({type:"markLine",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markLineModel;if(b){var d=b.getData(),e=b.__from,f=b.__to;e.each(function(b){g(e,b,!0,a,c),g(f,b,!1,a,c)}),d.each(function(a){d.setItemLayout(a,[e.getItemLayout(a),f.getItemLayout(a)])}),this.markerGroupMap[a.name].updateLayout()}},this)},renderSeries:function(a,b,c,d){function e(b,c,e){var f=b.getItemModel(c);g(b,c,e,a,d),b.setItemVisual(c,{symbolSize:f.get("symbolSize")||t[e?0:1],symbol:f.get("symbol",!0)||s[e?0:1],color:f.get("itemStyle.normal.color")||k.getVisual("color")})}var f=a.coordinateSystem,j=a.name,k=a.getData(),l=this.markerGroupMap,n=l[j];n||(n=l[j]=new m),this.group.add(n.group);var o=h(f,a,b),p=o.from,q=o.to,r=o.line;b.__from=p,b.__to=q,b.setData(r);var s=b.get("symbol"),t=b.get("symbolSize");i.isArray(s)||(s=[s,s]),"number"==typeof t&&(t=[t,t]),o.from.each(function(a){e(p,a,!0),e(q,a,!1)}),r.each(function(a){var b=r.getItemModel(a).get("lineStyle.normal.color");r.setItemVisual(a,{color:b||p.getItemVisual(a,"color")}),r.setItemLayout(a,[p.getItemLayout(a),q.getItemLayout(a)]),r.setItemVisual(a,{fromSymbolSize:p.getItemVisual(a,"symbolSize"),fromSymbol:p.getItemVisual(a,"symbol"),toSymbolSize:q.getItemVisual(a,"symbolSize"),toSymbol:q.getItemVisual(a,"symbol")})}),n.updateData(r),o.line.eachItemGraphicEl(function(a,c){a.traverse(function(a){a.dataModel=b})}),n.__keep=!0,n.group.silent=b.get("silent")||a.get("silent")}})},function(a,b,c){c(368),c(369),c(1).registerPreprocessor(function(a){a.markArea=a.markArea||{}})},function(a,b,c){a.exports=c(360).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}})},function(a,b,c){function d(a){return!isNaN(a)&&!isFinite(a)}function e(a,b,c,e){var f=1-a;return d(b[f])&&d(c[f])}function f(a,b){var c=b.coord[0],d=b.coord[1];return"cartesian2d"===a.type&&c&&d&&(e(1,c,d,a)||e(0,c,d,a))?!0:n.dataFilter(a,{coord:c,x:b.x0,y:b.y0})||n.dataFilter(a,{coord:d,x:b.x1,y:b.y1})}function g(a,b,c,e,f){var g,h=e.coordinateSystem,i=a.getItemModel(b),j=k.parsePercent(i.get(c[0]),f.getWidth()),l=k.parsePercent(i.get(c[1]),f.getHeight());if(isNaN(j)||isNaN(l)){if(e.getMarkerPosition)g=e.getMarkerPosition(a.getValues(c,b));else{var m=a.get(c[0],b),n=a.get(c[1],b);g=h.dataToPoint([m,n],!0)}if("cartesian2d"===h.type){var o=h.getAxis("x"),p=h.getAxis("y"),m=a.get(c[0],b),n=a.get(c[1],b);d(m)?g[0]=o.toGlobalCoord(o.getExtent()["x0"===c[0]?0:1]):d(n)&&(g[1]=p.toGlobalCoord(p.getExtent()["y0"===c[1]?0:1]))}isNaN(j)||(g[0]=j),isNaN(l)||(g[1]=l)}else g=[j,l];return g}function h(a,b,c){var d,e,g=["x0","y0","x1","y1"];a?(d=i.map(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};return c.name=a,c}),e=new j(i.map(g,function(a,b){return{name:a,type:d[b%2].type}}),c)):(d=[{name:"value",type:"float"}],e=new j(d,c));var h=i.map(c.get("data"),i.curry(o,b,a,c));a&&(h=i.filter(h,i.curry(f,a)));var k=a?function(a,b,c,d){return a.coord[Math.floor(d/2)][d%2]}:function(a){return a.value};return e.initData(h,null,k),e.hasItemOption=!0,e}var i=c(4),j=c(98),k=c(7),l=c(43),m=c(39),n=c(362),o=function(a,b,c,d){var e=n.dataTransform(a,d[0]),f=n.dataTransform(a,d[1]),g=i.retrieve,h=e.coord,j=f.coord;h[0]=g(h[0],-(1/0)),h[1]=g(h[1],-(1/0)),j[0]=g(j[0],1/0),j[1]=g(j[1],1/0);var k=i.mergeAll([{},e,f]);return k.coord=[e.coord,f.coord],k.x0=e.x,k.y0=e.y,k.x1=f.x,k.y1=f.y,k},p=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];c(363).extend({type:"markArea",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markAreaModel;if(b){var d=b.getData();d.each(function(b){var e=i.map(p,function(e){return g(d,b,e,a,c)});d.setItemLayout(b,e);var f=d.getItemGraphicEl(b);f.setShape("points",e)})}},this)},renderSeries:function(a,b,c,d){var e=a.coordinateSystem,f=a.name,j=a.getData(),k=this.markerGroupMap,n=k[f];n||(n=k[f]={group:new l.Group}),this.group.add(n.group),n.__keep=!0;var o=h(e,a,b);b.setData(o),o.each(function(b){o.setItemLayout(b,i.map(p,function(c){return g(o,b,c,a,d)})),o.setItemVisual(b,{color:j.getVisual("color")})}),o.diff(n.__data).add(function(a){var b=new l.Polygon({shape:{points:o.getItemLayout(a)}});o.setItemGraphicEl(a,b),n.group.add(b)}).update(function(a,c){var d=n.__data.getItemGraphicEl(c);l.updateProps(d,{shape:{points:o.getItemLayout(a)}},b,a),n.group.add(d),o.setItemGraphicEl(a,d)}).remove(function(a){var b=n.__data.getItemGraphicEl(a);n.group.remove(b)}).execute(),o.eachItemGraphicEl(function(a,c){var d=o.getItemModel(c),e=d.getModel("label.normal"),f=d.getModel("label.emphasis"),g=o.getItemVisual(c,"color");a.useStyle(i.defaults(d.getModel("itemStyle.normal").getItemStyle(),{fill:m.modifyAlpha(g,.4),stroke:g})),a.hoverStyle=d.getModel("itemStyle.normal").getItemStyle();var h=o.getName(c)||"",j=g||a.style.fill;e.getShallow("show")?(l.setText(a.style,e,j),a.style.text=i.retrieve(b.getFormattedLabel(c,"normal"),h)):a.style.text="",f.getShallow("show")?(l.setText(a.hoverStyle,f,j),a.hoverStyle.text=i.retrieve(b.getFormattedLabel(c,"emphasis"),h)):a.hoverStyle.text="",l.setHoverStyle(a,{}),a.dataModel=b}),n.__data=o,n.group.silent=b.get("silent")||a.get("silent")}})},function(a,b,c){var d=c(1);d.registerPreprocessor(c(371)),c(372),c(373),c(374),c(376)},function(a,b,c){function d(a){var b=a.type,c={number:"value",time:"time"};if(c[b]&&(a.axisType=c[b],delete a.type),e(a),f(a,"controlPosition")){var d=a.controlStyle||(a.controlStyle={});f(d,"position")||(d.position=a.controlPosition),"none"!==d.position||f(d,"show")||(d.show=!1,delete d.position),delete a.controlPosition}g.each(a.data||[],function(a){g.isObject(a)&&!g.isArray(a)&&(!f(a,"value")&&f(a,"name")&&(a.value=a.name),e(a))})}function e(a){var b=a.itemStyle||(a.itemStyle={}),c=b.emphasis||(b.emphasis={}),d=a.label||a.label||{},e=d.normal||(d.normal={}),h={normal:1,emphasis:1};g.each(d,function(a,b){h[b]||f(e,b)||(e[b]=a)}),c.label&&!f(d,"emphasis")&&(d.emphasis=c.label,delete c.label)}function f(a,b){return a.hasOwnProperty(b)}var g=c(4);a.exports=function(a){var b=a&&a.timeline;g.isArray(b)||(b=b?[b]:[]),g.each(b,function(a){a&&d(a)})}},function(a,b,c){c(19).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(a,b,c){var d=c(1),e=c(4);d.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,b){var c=b.getComponent("timeline");return c&&null!=a.currentIndex&&(c.setCurrentIndex(a.currentIndex),!c.get("loop",!0)&&c.isIndexMax()&&c.setPlayState(!1)),b.resetOption("timeline"),e.defaults({currentIndex:c.option.currentIndex},a)}),d.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,b){var c=b.getComponent("timeline");c&&null!=a.playState&&c.setPlayState(a.playState)})},function(a,b,c){var d=c(375),e=c(4),f=c(5),g=d.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]
}});e.mixin(g,f.dataFormatMixin),a.exports=g},function(a,b,c){var d=c(19),e=c(98),f=c(4),g=c(5),h=d.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(a,b,c){this._data,this._names,this.mergeDefaultAndTheme(a,c),this._initData()},mergeOption:function(a){h.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),0>a&&(a=0)),this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var a=this.option,b=a.data||[],c=a.axisType,d=this._names=[];if("category"===c){var h=[];f.each(b,function(a,b){var c,e=g.getDataItemValue(a);f.isObject(a)?(c=f.clone(a),c.value=b):c=b,h.push(c),f.isString(e)||null!=e&&!isNaN(e)||(e=""),d.push(e+"")}),b=h}var i={category:"ordinal",time:"time"}[c]||"number",j=this._data=new e([{name:"value",type:i}],this);j.initData(b,d)},getData:function(){return this._data},getCategories:function(){return"category"===this.get("axisType")?this._names.slice():void 0}});a.exports=h},function(a,b,c){function d(a,b){return j.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"))}function e(a,b,c,d){var e=i.makePath(a.get(b).replace(/^path:\/\//,""),h.clone(d||{}),new o(c[0],c[1],c[2],c[3]),"center");return e}function f(a,b,c,d,e,f){var g=b.get("color");if(e)e.setColor(g),c.add(e),f&&f.onUpdate(e);else{var i=a.get("symbol");e=m.createSymbol(i,-1,-1,2,2,g),e.setStyle("strokeNoScale",!0),c.add(e),f&&f.onCreate(e)}var j=b.getItemStyle(["color","symbol","symbolSize"]);e.setStyle(j),d=h.merge({rectHover:!0,z2:100},d,!0);var k=a.get("symbolSize");k=k instanceof Array?k.slice():[+k,+k],k[0]/=2,k[1]/=2,d.scale=k;var l=a.get("symbolOffset");if(l){var n=d.position=d.position||[0,0];n[0]+=q.parsePercent(l[0],k[0]),n[1]+=q.parsePercent(l[1],k[1])}var o=a.get("symbolRotate");return d.rotation=(o||0)*Math.PI/180||0,e.attr(d),e.updateTransform(),e}function g(a,b,c,d,e){if(!a.dragging){var f=d.getModel("checkpointStyle"),g=c.dataToCoord(d.getData().get(["value"],b));e||!f.get("animation",!0)?a.attr({position:[g,0]}):(a.stopAnimation(!0),a.animateTo({position:[g,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}var h=c(4),i=c(43),j=c(21),k=c(377),l=c(378),m=c(107),n=c(115),o=c(9),p=c(11),q=c(7),r=c(6),s=r.encodeHTML,t=h.bind,u=h.each,v=Math.PI;a.exports=k.extend({type:"timeline.slider",init:function(a,b){this.api=b,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(a,b,c,d){if(this.model=a,this.api=c,this.ecModel=b,this.group.removeAll(),a.get("show",!0)){var e=this._layout(a,c),f=this._createGroup("mainGroup"),g=this._createGroup("labelGroup"),h=this._axis=this._createAxis(e,a);a.formatTooltip=function(a){return s(h.scale.getLabel(a))},u(["AxisLine","AxisTick","Control","CurrentPointer"],function(b){this["_render"+b](e,f,h,a)},this),this._renderAxisLabel(e,g,h,a),this._position(e,a)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(a,b){var c=a.get("label.normal.position"),e=a.get("orient"),f=d(a,b);null==c||"auto"===c?c="horizontal"===e?f.y+f.height/2<b.getHeight()/2?"-":"+":f.x+f.width/2<b.getWidth()/2?"+":"-":isNaN(c)&&(c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[e][c]);var g={horizontal:"center",vertical:c>=0||"+"===c?"left":"right"},h={horizontal:c>=0||"+"===c?"top":"bottom",vertical:"middle"},i={horizontal:0,vertical:v/2},j="vertical"===e?f.height:f.width,k=a.getModel("controlStyle"),l=k.get("show"),m=l?k.get("itemSize"):0,n=l?k.get("itemGap"):0,o=m+n,p=a.get("label.normal.rotate")||0;p=p*v/180;var q,r,s,t,u=k.get("position",!0),l=k.get("show",!0),w=l&&k.get("showPlayBtn",!0),x=l&&k.get("showPrevBtn",!0),y=l&&k.get("showNextBtn",!0),z=0,A=j;return"left"===u||"bottom"===u?(w&&(q=[0,0],z+=o),x&&(r=[z,0],z+=o),y&&(s=[A-m,0],A-=o)):(w&&(q=[A-m,0],A-=o),x&&(r=[0,0],z+=o),y&&(s=[A-m,0],A-=o)),t=[z,A],a.get("inverse")&&t.reverse(),{viewRect:f,mainLength:j,orient:e,rotation:i[e],labelRotation:p,labelPosOpt:c,labelAlign:g[e],labelBaseline:h[e],playPosition:q,prevBtnPosition:r,nextBtnPosition:s,axisExtent:t,controlSize:m,controlGap:n}},_position:function(a,b){function c(a){var b=a.position;a.origin=[l[0][0]-b[0],l[1][0]-b[1]]}function d(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function e(a,b,c,d,e){a[d]+=c[d][e]-b[d][e]}var f=this._mainGroup,g=this._labelGroup,h=a.viewRect;if("vertical"===a.orient){var i=p.create(),j=h.x,k=h.y+h.height;p.translate(i,i,[-j,-k]),p.rotate(i,i,-v/2),p.translate(i,i,[j,k]),h=h.clone(),h.applyTransform(i)}var l=d(h),m=d(f.getBoundingRect()),n=d(g.getBoundingRect()),o=f.position,q=g.position;q[0]=o[0]=l[0][0];var r=a.labelPosOpt;if(isNaN(r)){var s="+"===r?0:1;e(o,m,l,1,s),e(q,n,l,1,1-s)}else{var s=r>=0?0:1;e(o,m,l,1,s),q[1]=o[1]+r}f.attr("position",o),g.attr("position",q),f.rotation=g.rotation=a.rotation,c(f),c(g)},_createAxis:function(a,b){var c=b.getData(),d=b.get("axisType"),e=n.createScaleByModel(b,d),f=c.getDataExtent("value");e.setExtent(f[0],f[1]),this._customizeScale(e,c),e.niceTicks();var g=new l("value",e,a.axisExtent,d);return g.model=b,g},_customizeScale:function(a,b){a.getTicks=function(){return b.mapArray(["value"],function(a){return a})},a.getTicksLabels=function(){return h.map(this.getTicks(),a.getLabel,a)}},_createGroup:function(a){var b=this["_"+a]=new i.Group;return this.group.add(b),b},_renderAxisLine:function(a,b,c,d){var e=c.getExtent();d.get("lineStyle.show")&&b.add(new i.Line({shape:{x1:e[0],y1:0,x2:e[1],y2:0},style:h.extend({lineCap:"round"},d.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(a,b,c,d){var e=d.getData(),g=c.scale.getTicks();u(g,function(a,g){var h=c.dataToCoord(a),j=e.getItemModel(g),k=j.getModel("itemStyle.normal"),l=j.getModel("itemStyle.emphasis"),m={position:[h,0],onclick:t(this._changeTimeline,this,g)},n=f(j,k,b,m);i.setHoverStyle(n,l.getItemStyle()),j.get("tooltip")?(n.dataIndex=g,n.dataModel=d):n.dataIndex=n.dataModel=null},this)},_renderAxisLabel:function(a,b,c,d){var e=d.getModel("label.normal");if(e.get("show")){var f=d.getData(),g=c.scale.getTicks(),h=n.getFormattedLabels(c,e.get("formatter")),j=c.getLabelInterval();u(g,function(d,e){if(!c.isLabelIgnored(e,j)){var g=f.getItemModel(e),k=g.getModel("label.normal.textStyle"),l=g.getModel("label.emphasis.textStyle"),m=c.dataToCoord(d),n=new i.Text({style:{text:h[e],textAlign:a.labelAlign,textVerticalAlign:a.labelBaseline,textFont:k.getFont(),fill:k.getTextColor()},position:[m,0],rotation:a.labelRotation-a.rotation,onclick:t(this._changeTimeline,this,e),silent:!1});b.add(n),i.setHoverStyle(n,l.getItemStyle())}},this)}},_renderControl:function(a,b,c,d){function f(a,c,f,m){if(a){var n={position:a,origin:[g/2,0],rotation:m?-h:0,rectHover:!0,style:j,onclick:f},o=e(d,c,l,n);b.add(o),i.setHoverStyle(o,k)}}var g=a.controlSize,h=a.rotation,j=d.getModel("controlStyle.normal").getItemStyle(),k=d.getModel("controlStyle.emphasis").getItemStyle(),l=[0,-g/2,g,g],m=d.getPlayState(),n=d.get("inverse",!0);f(a.nextBtnPosition,"controlStyle.nextIcon",t(this._changeTimeline,this,n?"-":"+")),f(a.prevBtnPosition,"controlStyle.prevIcon",t(this._changeTimeline,this,n?"+":"-")),f(a.playPosition,"controlStyle."+(m?"stopIcon":"playIcon"),t(this._handlePlayClick,this,!m),!0)},_renderCurrentPointer:function(a,b,c,d){var e=d.getData(),h=d.getCurrentIndex(),i=e.getItemModel(h).getModel("checkpointStyle"),j=this,k={onCreate:function(a){a.draggable=!0,a.drift=t(j._handlePointerDrag,j),a.ondragend=t(j._handlePointerDragend,j),g(a,h,c,d,!0)},onUpdate:function(a){g(a,h,c,d)}};this._currentPointer=f(i,i,this._mainGroup,{},this._currentPointer,k)},_handlePlayClick:function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer(),this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(a,b){var c=this._toAxisCoord(a)[0],d=this._axis,e=q.asc(d.getExtent().slice());c>e[1]&&(c=e[1]),c<e[0]&&(c=e[0]),this._currentPointer.position[0]=c,this._currentPointer.dirty();var f=this._findNearestTick(c),g=this.model;(b||f!==g.getCurrentIndex()&&g.get("realtime"))&&this._changeTimeline(f)},_doPlayStop:function(){function a(){var a=this.model;this._changeTimeline(a.getCurrentIndex()+(a.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(t(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return i.applyTransform(a,b,!0)},_findNearestTick:function(a){var b,c=this.model.getData(),d=1/0,e=this._axis;return c.each(["value"],function(c,f){var g=e.dataToCoord(c),h=Math.abs(g-a);d>h&&(d=h,b=f)}),b},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}})},function(a,b,c){var d=c(29);a.exports=d.extend({type:"timeline"})},function(a,b,c){var d=c(4),e=c(124),f=c(115),g=function(a,b,c,d){e.call(this,a,b,c),this.type=d||"value",this._autoLabelInterval,this.model=null};g.prototype={constructor:g,getLabelInterval:function(){var a=this.model,b=a.getModel("label.normal"),c=b.get("interval");if(null!=c&&"auto"!=c)return c;var c=this._autoLabelInterval;return c||(c=this._autoLabelInterval=f.getAxisLabelInterval(d.map(this.scale.getTicks(),this.dataToCoord,this),f.getFormattedLabels(this,b.get("formatter")),b.getModel("textStyle").getFont(),"horizontal"===a.get("orient"))),c},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}}},d.inherits(g,e),a.exports=g},function(a,b,c){c(380),c(381),c(382),c(383),c(384),c(385),c(390)},function(a,b,c){var d=c(327),e=c(4),f=c(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(a){f.superApply(this,"mergeDefaultAndTheme",arguments),e.each(this.option.feature,function(a,b){var c=d.get(b);c&&e.merge(a,c.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});a.exports=f},function(a,b,c){(function(b){function d(a){return 0===a.indexOf("my")}var e=c(327),f=c(4),g=c(43),h=c(12),i=c(99),j=c(297),k=c(8);a.exports=c(1).extendComponentView({type:"toolbox",render:function(a,b,c,l){function m(f,g){var i,j=s[f],k=s[g],m=q[j],o=new h(m,a,a.ecModel);if(j&&!k){if(d(j))i={model:o,onclick:o.option.onclick,featureName:j};else{var p=e.get(j);if(!p)return;i=new p(o,b,c)}r[j]=i}else{if(i=r[k],!i)return;i.model=o,i.ecModel=b,i.api=c}return!j&&k?void(i.dispose&&i.dispose(b,c)):!o.get("show")||i.unusable?void(i.remove&&i.remove(b,c)):(n(o,i,j),o.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{},c.iconStatus[a]=b,d[a]&&d[a].trigger(b)},void(i.render&&i.render(o,b,c,l)))}function n(d,e,h){var i=d.getModel("iconStyle"),j=e.getIcons?e.getIcons():d.get("icon"),k=d.get("title")||{};if("string"==typeof j){var l=j,m=k;j={},k={},j[h]=l,k[h]=m}var n=d.iconPaths={};f.each(j,function(h,j){var l=i.getModel("normal").getItemStyle(),m=i.getModel("emphasis").getItemStyle(),q={x:-p/2,y:-p/2,width:p,height:p},r=0===h.indexOf("image://")?(q.image=h.slice(8),new g.Image({style:q})):g.makePath(h.replace("path://",""),{style:l,hoverStyle:m,rectHover:!0},q,"center");g.setHoverStyle(r),a.get("showTitle")&&(r.__title=k[j],r.on("mouseover",function(){var a=i.getModel("emphasis").getItemStyle();r.setStyle({text:k[j],textPosition:a.textPosition||"bottom",textFill:a.fill||a.stroke||"#000",textAlign:a.textAlign||"center"})}).on("mouseout",function(){r.setStyle({textFill:null})})),r.trigger(d.get("iconStatus."+j)||"normal"),o.add(r),r.on("click",f.bind(e.onclick,e,b,c,j)),n[j]=r})}var o=this.group;if(o.removeAll(),a.get("show")){var p=+a.get("itemSize"),q=a.get("feature")||{},r=this._features||(this._features={}),s=[];f.each(q,function(a,b){s.push(b)}),new i(this._featureNames||[],s).add(m).update(m).remove(f.curry(m,null)).execute(),this._featureNames=s,j.layout(o,a,c),j.addBackground(o,a),o.eachChild(function(a){var b=a.__title,d=a.hoverStyle;if(d&&b){var e=k.getBoundingRect(b,d.font),f=a.position[0]+o.position[0],g=a.position[1]+o.position[1]+p,h=!1;g+e.height>c.getHeight()&&(d.textPosition="top",h=!0);var i=h?-5-e.height:p+8;f+e.width/2>c.getWidth()?(d.textPosition=["100%",i],d.textAlign="right"):f-e.width/2<0&&(d.textPosition=[0,i],d.textAlign="left")}})}},updateView:function(a,b,c,d){f.each(this._features,function(a){a.updateView&&a.updateView(a.model,b,c,d)})},updateLayout:function(a,b,c,d){f.each(this._features,function(a){a.updateLayout&&a.updateLayout(a.model,b,c,d)})},remove:function(a,b){f.each(this._features,function(c){c.remove&&c.remove(a,b)}),this.group.removeAll()},dispose:function(a,b){f.each(this._features,function(c){c.dispose&&c.dispose(a,b)})}})}).call(b,c(289))},function(a,b,c){function d(a){this.model=a}var e=c(2);d.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"保存为图片",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["右键另存为图片"]},d.prototype.unusable=!e.canvasSupported;var f=d.prototype;f.onclick=function(a,b){var c=this.model,d=c.get("name")||a.get("title.0.text")||"echarts",f=document.createElement("a"),g=c.get("type",!0)||"png";f.download=d+"."+g,f.target="_blank";var h=b.getConnectedDataURL({type:g,backgroundColor:c.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",excludeComponents:c.get("excludeComponents"),pixelRatio:c.get("pixelRatio")});if(f.href=h,"function"!=typeof MouseEvent||e.browser.ie||e.browser.edge){var i=c.get("lang"),j='<body style="margin:0;"><img src="'+h+'" style="max-width:100%;" title="'+(i&&i[0]||"")+'" /></body>',k=window.open();k.document.write(j)}else{var l=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});f.dispatchEvent(l)}},c(327).register("saveAsImage",d),a.exports=d},function(a,b,c){function d(a){this.model=a}var e=c(4);d.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"},option:{},seriesIndex:{}};var f=d.prototype;f.getIcons=function(){var a=this.model,b=a.get("icon"),c={};return e.each(a.get("type"),function(a){b[a]&&(c[a]=b[a])}),c};var g={line:function(a,b,c,d){return"bar"===a?e.merge({id:b,type:"line",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get("option.line")||{},!0):void 0},bar:function(a,b,c,d){return"line"===a?e.merge({id:b,type:"bar",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get("option.bar")||{},!0):void 0},stack:function(a,b,c,d){return"line"===a||"bar"===a?e.merge({id:b,stack:"__ec_magicType_stack__"},d.get("option.stack")||{},!0):void 0},tiled:function(a,b,c,d){return"line"===a||"bar"===a?e.merge({id:b,stack:""},d.get("option.tiled")||{},!0):void 0}},h=[["line","bar"],["stack","tiled"]];f.onclick=function(a,b,c){var d=this.model,f=d.get("seriesIndex."+c);if(g[c]){var i={series:[]},j=function(b){var f=b.subType,h=b.id,j=g[c](f,h,b,d);j&&(e.defaults(j,b.option),i.series.push(j));var k=b.coordinateSystem;if(k&&"cartesian2d"===k.type&&("line"===c||"bar"===c)){var l=k.getAxesByScale("ordinal")[0];if(l){var m=l.dim,n=m+"Axis",o=a.queryComponents({mainType:n,index:b.get(name+"Index"),id:b.get(name+"Id")})[0],p=o.componentIndex;i[n]=i[n]||[];for(var q=0;p>=q;q++)i[n][p]=i[n][p]||{};i[n][p].boundaryGap="bar"===c?!0:!1}}};e.each(h,function(a){e.indexOf(a,c)>=0&&e.each(a,function(a){d.setIconStatus(a,"normal")})}),d.setIconStatus(c,"emphasis"),a.eachComponent({mainType:"series",query:null==f?null:{seriesIndex:f}},j),b.dispatchAction({type:"changeMagicType",currentType:c,newOption:i})}};var i=c(1);i.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)}),c(327).register("magicType",d),a.exports=d},function(a,b,c){function d(a){var b={},c=[],d=[];return a.eachRawSeries(function(a){var e=a.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)c.push(a);else{var f=e.getBaseAxis();if("category"===f.type){var g=f.dim+"_"+f.index;b[g]||(b[g]={categoryAxis:f,valueAxis:e.getOtherAxis(f),series:[]},d.push({axisDim:f.dim,axisIndex:f.index})),b[g].series.push(a)}else c.push(a)}}),{seriesGroupByCategoryAxis:b,other:c,meta:d}}function e(a){var b=[];return o.each(a,function(a,c){var d=a.categoryAxis,e=a.valueAxis,f=e.dim,g=[" "].concat(o.map(a.series,function(a){return a.name})),h=[d.model.getCategories()];o.each(a.series,function(a){h.push(a.getRawData().mapArray(f,function(a){return a}))});for(var i=[g.join(r)],j=0;j<h[0].length;j++){for(var k=[],l=0;l<h.length;l++)k.push(h[l][j]);i.push(k.join(r))}b.push(i.join("\n"))}),b.join("\n\n"+q+"\n\n")}function f(a){return o.map(a,function(a){var b=a.getRawData(),c=[a.name],d=[];return b.each(b.dimensions,function(){for(var a=arguments.length,e=arguments[a-1],f=b.getName(e),g=0;a-1>g;g++)d[g]=arguments[g];c.push((f?f+r:"")+d.join(r))}),c.join("\n")}).join("\n\n"+q+"\n\n")}function g(a){var b=d(a);return{value:o.filter([e(b.seriesGroupByCategoryAxis),f(b.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+q+"\n\n"),meta:b.meta}}function h(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function i(a){var b=a.slice(0,a.indexOf("\n"));return b.indexOf(r)>=0?!0:void 0}function j(a){for(var b=a.split(/\n+/g),c=h(b.shift()).split(s),d=[],e=o.map(c,function(a){return{name:a,data:[]}}),f=0;f<b.length;f++){var g=h(b[f]).split(s);d.push(g.shift());for(var i=0;i<g.length;i++)e[i]&&(e[i].data[f]=g[i])}return{series:e,categories:d}}function k(a){for(var b=a.split(/\n+/g),c=h(b.shift()),d=[],e=0;e<b.length;e++){var f,g=h(b[e]).split(s),i="",j=!1;isNaN(g[0])?(j=!0,i=g[0],g=g.slice(1),d[e]={name:i,value:[]},f=d[e].value):f=d[e]=[];for(var k=0;k<g.length;k++)f.push(+g[k]);1===f.length&&(j?d[e].value=f[0]:d[e]=f[0])}return{name:c,data:d}}function l(a,b){var c=a.split(new RegExp("\n*"+q+"\n*","g")),d={series:[]};return o.each(c,function(a,c){if(i(a)){var e=j(a),f=b[c],g=f.axisDim+"Axis";f&&(d[g]=d[g]||[],d[g][f.axisIndex]={data:e.categories},d.series=d.series.concat(e.series))}else{var e=k(a);d.series.push(e)}}),d}function m(a){this._dom=null,this.model=a}function n(a,b){return o.map(a,function(a,c){var d=b&&b[c];return o.isObject(d)&&!o.isArray(d)?(o.isObject(a)&&!o.isArray(a)&&(a=a.value),o.defaults({value:a},d)):a})}var o=c(4),p=c(88),q=new Array(60).join("-"),r="	",s=new RegExp("["+r+"]+","g");m.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"数据视图",lang:["数据视图","关闭","刷新"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},m.prototype.onclick=function(a,b){function c(){d.removeChild(f),y._dom=null}var d=b.getDom(),e=this.model;this._dom&&d.removeChild(this._dom);var f=document.createElement("div");f.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",f.style.backgroundColor=e.get("backgroundColor")||"#fff";var h=document.createElement("h4"),i=e.get("lang")||[];h.innerHTML=i[0]||e.get("title"),h.style.cssText="margin: 10px 20px;",h.style.color=e.get("textColor");var j=document.createElement("div"),k=document.createElement("textarea");j.style.cssText="display:block;width:100%;overflow:hidden;";var m=e.get("optionToContent"),n=e.get("contentToOption"),q=g(a);if("function"==typeof m){var s=m(b.getOption());"string"==typeof s?j.innerHTML=s:o.isDom(s)&&j.appendChild(s)}else j.appendChild(k),k.readOnly=e.get("readOnly"),k.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",k.style.color=e.get("textColor"),k.style.borderColor=e.get("textareaBorderColor"),k.style.backgroundColor=e.get("textareaColor"),k.value=q.value;var t=q.meta,u=document.createElement("div");u.style.cssText="position:absolute;bottom:0;left:0;right:0;";var v="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),x=document.createElement("div");v+=";background-color:"+e.get("buttonColor"),v+=";color:"+e.get("buttonTextColor");var y=this;p.addEventListener(w,"click",c),p.addEventListener(x,"click",function(){var a;try{a="function"==typeof n?n(j,b.getOption()):l(k.value,t)}catch(d){throw c(),new Error("Data view format error "+d)}a&&b.dispatchAction({type:"changeDataView",newOption:a}),c()}),w.innerHTML=i[1],x.innerHTML=i[2],x.style.cssText=v,w.style.cssText=v,!e.get("readOnly")&&u.appendChild(x),u.appendChild(w),p.addEventListener(k,"keydown",function(a){if(9===(a.keyCode||a.which)){var b=this.value,c=this.selectionStart,d=this.selectionEnd;this.value=b.substring(0,c)+r+b.substring(d),this.selectionStart=this.selectionEnd=c+1,p.stop(a)}}),f.appendChild(h),f.appendChild(j),f.appendChild(u),j.style.height=d.clientHeight-80+"px",d.appendChild(f),this._dom=f},m.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)},m.prototype.dispose=function(a,b){this.remove(a,b)},c(327).register("dataView",m),c(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];o.each(a.newOption.series,function(a){var d=b.getSeriesByName(a.name)[0];if(d){var e=d.get("data");c.push({name:a.name,data:n(a.data,e)})}else c.push(o.extend({type:"scatter"},a))}),b.mergeOption(o.defaults({series:c},a.newOption))}),a.exports=m},function(a,b,c){function d(a,b,c){(this._brushController=new i(c.getZr())).on("brush",h.bind(this._onBrush,this)).mount(),this._isZoomActive}function e(a){var b={};return h.each(["xAxisIndex","yAxisIndex"],function(c){b[c]=a[c],null==b[c]&&(b[c]="all"),(b[c]===!1||"none"===b[c])&&(b[c]=[])}),b}function f(a,b){a.setIconStatus("back",k.count(b)>1?"emphasis":"normal")}function g(a,b,c,d){var f=c._isZoomActive;d&&"takeGlobalCursor"===d.type&&(f="dataZoomSelect"===d.key?d.dataZoomSelectActive:!1),c._isZoomActive=f,a.setIconStatus("zoom",f?"emphasis":"normal");var g=j.makeCoordInfoList(e(a.option),b),h=g.xAxisHas&&!g.yAxisHas?"lineX":!g.xAxisHas&&g.yAxisHas?"lineY":"rect";c._brushController.setPanels(j.makePanelOpts(g)).enableBrush(f?{brushType:h,brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}var h=c(4),i=c(236),j=c(322),k=c(386),l=h.each;c(387);var m="\x00_ec_\x00toolbox-dataZoom_";d.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"区域缩放",back:"区域缩放还原"}};var n=d.prototype;n.render=function(a,b,c,d){this.model=a,this.ecModel=b,this.api=c,g(a,b,this,d),f(a,b)},n.onclick=function(a,b,c){o[c].call(this)},n.remove=function(a,b){this._brushController.unmount()},n.dispose=function(a,b){this._brushController.dispose()};var o={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(k.pop(this.ecModel))}};n._onBrush=function(a,b){function c(a,b,c){var e=d(a,c[a],g);e&&(f[e.id]={dataZoomId:e.id,startValue:b[0],endValue:b[1]})}function d(a,b,c){var d;return c.eachComponent({mainType:"dataZoom",subType:"select"},function(e,f){var g=e.get(a+"Index");null!=g&&c.getComponent(a,g)===b&&(d=e)}),d}if(b.isEnd&&a.length){var f={},g=this.ecModel;this._brushController.updateCovers([]);var h=j.makeCoordInfoList(e(this.model.option),g),i=[];j.parseOutputRanges(a,h,g,i);var l=a[0],m=i[0],n=l.coordRange,o=l.brushType;if(m&&n)if("rect"===o)c("xAxis",n[0],m),c("yAxis",n[1],m);else{var p={lineX:"xAxis",lineY:"yAxis"};c(p[o],n,m)}k.push(g,f),this._dispatchZoomAction(f)}},n._dispatchZoomAction=function(a){var b=[];l(a,function(a,c){b.push(h.clone(a))}),b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})},c(327).register("dataZoom",d),c(1).registerPreprocessor(function(a){function b(a,b){if(b){var e=a+"Index",f=b[e];null==f||"all"==f||h.isArray(f)||(f=f===!1||"none"===f?[]:[f]),c(a,function(b,c){if(null==f||"all"==f||-1!==h.indexOf(f,c)){var g={type:"select",$fromToolbox:!0,id:m+a+c};g[e]=c,d.push(g)}})}}function c(b,c){var d=a[b];h.isArray(d)||(d=d?[d]:[]),l(d,c)}if(a){var d=a.dataZoom||(a.dataZoom=[]);h.isArray(d)||(a.dataZoom=d=[d]);var e=a.toolbox;if(e&&(h.isArray(e)&&(e=e[0]),e&&e.feature)){var f=e.feature.dataZoom;b("xAxis",f),b("yAxis",f)}}}),a.exports=d},function(a,b,c){function d(a){var b=a[g];return b||(b=a[g]=[{}]),b}var e=c(4),f=e.each,g="\x00_ec_hist_store",h={push:function(a,b){var c=d(a);f(b,function(b,d){for(var e=c.length-1;e>=0;e--){var f=c[e];if(f[d])break}if(0>e){var g=a.queryComponents({mainType:"dataZoom",subType:"select",id:d})[0];if(g){var h=g.getPercentRange();c[0][d]={dataZoomId:d,start:h[0],end:h[1]}}}}),c.push(b)},pop:function(a){var b=d(a),c=b[b.length-1];b.length>1&&b.pop();var e={};return f(c,function(a,c){for(var d=b.length-1;d>=0;d--){var a=b[d][c];if(a){e[c]=a;break}}}),e},clear:function(a){a[g]=null},count:function(a){return d(a).length}};a.exports=h},function(a,b,c){c(330),c(331),c(334),c(388),c(389),c(341),c(342)},function(a,b,c){var d=c(331);a.exports=d.extend({type:"dataZoom.select"})},function(a,b,c){a.exports=c(334).extend({type:"dataZoom.select"})},function(a,b,c){function d(a){this.model=a}var e=c(386);d.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"还原"};var f=d.prototype;f.onclick=function(a,b,c){e.clear(a),b.dispatchAction({type:"restore",from:this.uid})},c(327).register("restore",d),c(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")}),a.exports=d},function(a,b,c){c(392),c(82).registerPainter("vml",c(394))},function(a,b,c){if(!c(2).canvasSupported){var d=c(10),e=c(9),f=c(49).CMD,g=c(39),h=c(8),i=c(48),j=c(46),k=c(61),l=c(63),m=c(45),n=c(79),o=c(393),p=Math.round,q=Math.sqrt,r=Math.abs,s=Math.cos,t=Math.sin,u=Math.max,v=d.applyTransform,w=",",x="progid:DXImageTransform.Microsoft",y=21600,z=y/2,A=1e5,B=1e3,C=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",a.coordsize=y+","+y,a.coordorigin="0,0"},D=function(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},E=function(a,b,c){return"rgb("+[a,b,c].join(",")+")"},F=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},G=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},H=function(a,b,c){return(parseFloat(a)||0)*A+(parseFloat(b)||0)*B+c},I=function(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a},J=function(a,b,c){var d=g.parse(b);c=+c,isNaN(c)&&(c=1),d&&(a.color=E(d[0],d[1],d[2]),a.opacity=c*d[3])},K=function(a){var b=g.parse(a);return[E(b[0],b[1],b[2]),b[3]]},L=function(a,b,c){var d=b.fill;if(null!=d)if(d instanceof n){var e,f=0,g=[0,0],h=0,i=1,j=c.getBoundingRect(),k=j.width,l=j.height;if("linear"===d.type){e="gradient";var m=c.transform,o=[d.x*k,d.y*l],p=[d.x2*k,d.y2*l];m&&(v(o,o,m),v(p,p,m));var q=p[0]-o[0],r=p[1]-o[1];f=180*Math.atan2(q,r)/Math.PI,0>f&&(f+=360),1e-6>f&&(f=0)}else{e="gradientradial";var o=[d.x*k,d.y*l],m=c.transform,s=c.scale,t=k,w=l;g=[(o[0]-j.x)/t,(o[1]-j.y)/w],m&&v(o,o,m),t/=s[0]*y,w/=s[1]*y;var x=u(t,w);h=0/x,i=2*d.r/x-h}var z=d.colorStops.slice();z.sort(function(a,b){return a.offset-b.offset});for(var A=z.length,B=[],C=[],D=0;A>D;D++){var E=z[D],F=K(E.color);C.push(E.offset*i+h+" "+F[0]),(0===D||D===A-1)&&B.push(F)}if(A>=2){var G=B[0][0],H=B[1][0],I=B[0][1]*b.opacity,L=B[1][1]*b.opacity;a.type=e,a.method="none",a.focus="100%",a.angle=f,a.color=G,a.color2=H,a.colors=C.join(","),a.opacity=L,a.opacity2=I}"radial"===e&&(a.focusposition=g.join(","))}else J(a,d,b.opacity)},M=function(a,b){null!=b.lineDash&&(a.dashstyle=b.lineDash.join(" ")),null==b.stroke||b.stroke instanceof n||J(a,b.stroke,b.opacity)},N=function(a,b,c,d){var e="fill"==b,f=a.getElementsByTagName(b)[0];null!=c[b]&&"none"!==c[b]&&(e||!e&&c.lineWidth)?(a[e?"filled":"stroked"]="true",c[b]instanceof n&&G(a,f),f||(f=o.createNode(b)),e?L(f,c,d):M(f,c),F(a,f)):(a[e?"filled":"stroked"]="false",G(a,f))},O=[[],[],[]],P=function(a,b){var c,d,e,g,h,i,j=f.M,k=f.C,l=f.L,m=f.A,n=f.Q,o=[];for(g=0;g<a.length;){switch(e=a[g++],d="",c=0,e){case j:d=" m ",c=1,h=a[g++],i=a[g++],O[0][0]=h,O[0][1]=i;break;case l:d=" l ",c=1,h=a[g++],i=a[g++],O[0][0]=h,O[0][1]=i;break;case n:case k:d=" c ",c=3;var r,u,x=a[g++],A=a[g++],B=a[g++],C=a[g++];e===n?(r=B,u=C,B=(B+2*x)/3,C=(C+2*A)/3,x=(h+2*x)/3,A=(i+2*A)/3):(r=a[g++],u=a[g++]),O[0][0]=x,O[0][1]=A,O[1][0]=B,O[1][1]=C,O[2][0]=r,O[2][1]=u,h=r,i=u;break;case m:var D=0,E=0,F=1,G=1,H=0;b&&(D=b[4],E=b[5],F=q(b[0]*b[0]+b[1]*b[1]),G=q(b[2]*b[2]+b[3]*b[3]),H=Math.atan2(-b[1]/G,b[0]/F));var I=a[g++],J=a[g++],K=a[g++],L=a[g++],M=a[g++]+H,N=a[g++]+M+H;g++;var P=a[g++],Q=I+s(M)*K,R=J+t(M)*L,x=I+s(N)*K,A=J+t(N)*L,S=P?" wa ":" at ";Math.abs(Q-x)<1e-4&&(Math.abs(N-M)>.01?P&&(Q+=270/y):Math.abs(R-J)<1e-4?P&&I>Q||!P&&Q>I?A-=270/y:A+=270/y:P&&J>R||!P&&R>J?x+=270/y:x-=270/y),o.push(S,p(((I-K)*F+D)*y-z),w,p(((J-L)*G+E)*y-z),w,p(((I+K)*F+D)*y-z),w,p(((J+L)*G+E)*y-z),w,p((Q*F+D)*y-z),w,p((R*G+E)*y-z),w,p((x*F+D)*y-z),w,p((A*G+E)*y-z)),h=x,i=A;break;case f.R:var T=O[0],U=O[1];T[0]=a[g++],T[1]=a[g++],U[0]=T[0]+a[g++],U[1]=T[1]+a[g++],b&&(v(T,T,b),v(U,U,b)),T[0]=p(T[0]*y-z),U[0]=p(U[0]*y-z),T[1]=p(T[1]*y-z),U[1]=p(U[1]*y-z),o.push(" m ",T[0],w,T[1]," l ",U[0],w,T[1]," l ",U[0],w,U[1]," l ",T[0],w,U[1]);break;case f.Z:o.push(" x ")}if(c>0){o.push(d);for(var V=0;c>V;V++){var W=O[V];b&&v(W,W,b),o.push(p(W[0]*y-z),w,p(W[1]*y-z),c-1>V?w:"")}}}return o.join("")};m.prototype.brushVML=function(a){var b=this.style,c=this._vmlEl;c||(c=o.createNode("shape"),C(c),this._vmlEl=c),N(c,"fill",b,this),N(c,"stroke",b,this);var d=this.transform,e=null!=d,f=c.getElementsByTagName("stroke")[0];if(f){var g=b.lineWidth;if(e&&!b.strokeNoScale){var h=d[0]*d[3]-d[1]*d[2];g*=q(r(h))}f.weight=g+"px"}var i=this.path;this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape),i.toStatic(),this.__dirtyPath=!1),
c.path=P(i.data,this.transform),c.style.zIndex=H(this.zlevel,this.z,this.z2),F(a,c),null!=b.text?this.drawRectText(a,this.getBoundingRect()):this.removeRectText(a)},m.prototype.onRemove=function(a){G(a,this._vmlEl),this.removeRectText(a)},m.prototype.onAdd=function(a){F(a,this._vmlEl),this.appendRectText(a)};var Q=function(a){return"object"==typeof a&&a.tagName&&"IMG"===a.tagName.toUpperCase()};k.prototype.brushVML=function(a){var b,c,d=this.style,e=d.image;if(Q(e)){var f=e.src;if(f===this._imageSrc)b=this._imageWidth,c=this._imageHeight;else{var g=e.runtimeStyle,h=g.width,i=g.height;g.width="auto",g.height="auto",b=e.width,c=e.height,g.width=h,g.height=i,this._imageSrc=f,this._imageWidth=b,this._imageHeight=c}e=f}else e===this._imageSrc&&(b=this._imageWidth,c=this._imageHeight);if(e){var j=d.x||0,k=d.y||0,l=d.width,m=d.height,n=d.sWidth,r=d.sHeight,s=d.sx||0,t=d.sy||0,y=n&&r,z=this._vmlEl;z||(z=o.doc.createElement("div"),C(z),this._vmlEl=z);var A,B=z.style,D=!1,E=1,G=1;if(this.transform&&(A=this.transform,E=q(A[0]*A[0]+A[1]*A[1]),G=q(A[2]*A[2]+A[3]*A[3]),D=A[1]||A[2]),D){var I=[j,k],J=[j+l,k],K=[j,k+m],L=[j+l,k+m];v(I,I,A),v(J,J,A),v(K,K,A),v(L,L,A);var M=u(I[0],J[0],K[0],L[0]),N=u(I[1],J[1],K[1],L[1]),O=[];O.push("M11=",A[0]/E,w,"M12=",A[2]/G,w,"M21=",A[1]/E,w,"M22=",A[3]/G,w,"Dx=",p(j*E+A[4]),w,"Dy=",p(k*G+A[5])),B.padding="0 "+p(M)+"px "+p(N)+"px 0",B.filter=x+".Matrix("+O.join("")+", SizingMethod=clip)"}else A&&(j=j*E+A[4],k=k*G+A[5]),B.filter="",B.left=p(j)+"px",B.top=p(k)+"px";var P=this._imageEl,R=this._cropEl;P||(P=o.doc.createElement("div"),this._imageEl=P);var S=P.style;if(y){if(b&&c)S.width=p(E*b*l/n)+"px",S.height=p(G*c*m/r)+"px";else{var T=new Image,U=this;T.onload=function(){T.onload=null,b=T.width,c=T.height,S.width=p(E*b*l/n)+"px",S.height=p(G*c*m/r)+"px",U._imageWidth=b,U._imageHeight=c,U._imageSrc=e},T.src=e}R||(R=o.doc.createElement("div"),R.style.overflow="hidden",this._cropEl=R);var V=R.style;V.width=p((l+s*l/n)*E),V.height=p((m+t*m/r)*G),V.filter=x+".Matrix(Dx="+-s*l/n*E+",Dy="+-t*m/r*G+")",R.parentNode||z.appendChild(R),P.parentNode!=R&&R.appendChild(P)}else S.width=p(E*l)+"px",S.height=p(G*m)+"px",z.appendChild(P),R&&R.parentNode&&(z.removeChild(R),this._cropEl=null);var W="",X=d.opacity;1>X&&(W+=".Alpha(opacity="+p(100*X)+") "),W+=x+".AlphaImageLoader(src="+e+", SizingMethod=scale)",S.filter=W,z.style.zIndex=H(this.zlevel,this.z,this.z2),F(a,z),null!=d.text&&this.drawRectText(a,this.getBoundingRect())}},k.prototype.onRemove=function(a){G(a,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(a)},k.prototype.onAdd=function(a){F(a,this._vmlEl),this.appendRectText(a)};var R,S="normal",T={},U=0,V=100,W=document.createElement("div"),X=function(a){var b=T[a];if(!b){U>V&&(U=0,T={});var c,d=W.style;try{d.font=a,c=d.fontFamily.split(",")[0]}catch(e){}b={style:d.fontStyle||S,variant:d.fontVariant||S,weight:d.fontWeight||S,size:0|parseFloat(d.fontSize||12),family:c||"Microsoft YaHei"},T[a]=b,U++}return b};h.measureText=function(a,b){var c=o.doc;R||(R=c.createElement("div"),R.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",o.doc.body.appendChild(R));try{R.style.font=b}catch(d){}return R.innerHTML="",R.appendChild(c.createTextNode(a)),{width:R.offsetWidth}};for(var Y=new e,Z=function(a,b,c,d){var e=this.style,f=e.text;if(null!=f&&(f+=""),f){var g,i,j=e.textAlign,k=X(e.textFont),l=k.style+" "+k.variant+" "+k.weight+" "+k.size+'px "'+k.family+'"',m=e.textBaseline,n=e.textVerticalAlign;c=c||h.getBoundingRect(f,l,j,m);var q=this.transform;if(q&&!d&&(Y.copy(b),Y.applyTransform(q),b=Y),d)g=b.x,i=b.y;else{var r=e.textPosition,s=e.textDistance;if(r instanceof Array)g=b.x+I(r[0],b.width),i=b.y+I(r[1],b.height),j=j||"left",m=m||"top";else{var t=h.adjustTextPositionOnRect(r,b,c,s);g=t.x,i=t.y,j=j||t.textAlign,m=m||t.textBaseline}}if(n){switch(n){case"middle":i-=c.height/2;break;case"bottom":i-=c.height}m="top"}var u=k.size;switch(m){case"hanging":case"top":i+=u/1.75;break;case"middle":break;default:i-=u/2.25}switch(j){case"left":break;case"center":g-=c.width/2;break;case"right":g-=c.width}var x,y,z,A=o.createNode,B=this._textVmlEl;B?(z=B.firstChild,x=z.nextSibling,y=x.nextSibling):(B=A("line"),x=A("path"),y=A("textpath"),z=A("skew"),y.style["v-text-align"]="left",C(B),x.textpathok=!0,y.on=!0,B.from="0 0",B.to="1000 0.05",F(B,z),F(B,x),F(B,y),this._textVmlEl=B);var E=[g,i],G=B.style;q&&d?(v(E,E,q),z.on=!0,z.matrix=q[0].toFixed(3)+w+q[2].toFixed(3)+w+q[1].toFixed(3)+w+q[3].toFixed(3)+",0,0",z.offset=(p(E[0])||0)+","+(p(E[1])||0),z.origin="0 0",G.left="0px",G.top="0px"):(z.on=!1,G.left=p(g)+"px",G.top=p(i)+"px"),y.string=D(f);try{y.style.font=l}catch(J){}N(B,"fill",{fill:d?e.fill:e.textFill,opacity:e.opacity},this),N(B,"stroke",{stroke:d?e.stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash},this),B.style.zIndex=H(this.zlevel,this.z,this.z2),F(a,B)}},$=function(a){G(a,this._textVmlEl),this._textVmlEl=null},_=function(a){F(a,this._textVmlEl)},aa=[i,j,k,m,l],ba=0;ba<aa.length;ba++){var ca=aa[ba].prototype;ca.drawRectText=Z,ca.removeRectText=$,ca.appendRectText=_}l.prototype.brushVML=function(a){var b=this.style;null!=b.text?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)},l.prototype.onRemove=function(a){this.removeRectText(a)},l.prototype.onAdd=function(a){this.appendRectText(a)}}},function(a,b,c){if(!c(2).canvasSupported){var d,e="urn:schemas-microsoft-com:vml",f=window,g=f.document,h=!1;try{!g.namespaces.zrvml&&g.namespaces.add("zrvml",e),d=function(a){return g.createElement("<zrvml:"+a+' class="zrvml">')}}catch(i){d=function(a){return g.createElement("<"+a+' xmlns="'+e+'" class="zrvml">')}}var j=function(){if(!h){h=!0;var a=g.styleSheets;a.length<31?g.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}};a.exports={doc:g,initVML:j,createNode:d}}},function(a,b,c){function d(a){return parseInt(a,10)}function e(a,b){h.initVML(),this.root=a,this.storage=b;var c=document.createElement("div"),d=document.createElement("div");c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",d.style.cssText="position:absolute;left:0;top:0;",a.appendChild(c),this._vmlRoot=d,this._vmlViewport=c,this.resize();var e=b.delFromMap,f=b.addToMap;b.delFromMap=function(a){var c=b.get(a);e.call(b,a),c&&c.onRemove&&c.onRemove(d)},b.addToMap=function(a){a.onAdd&&a.onAdd(d),f.call(b,a)},this._firstPaint=!0}function f(a){return function(){g('In IE8.0 VML mode painter not support method "'+a+'"')}}var g=c(40),h=c(393);e.prototype={constructor:e,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){for(var b=this._vmlRoot,c=0;c<a.length;c++){var d=a[c];d.invisible||d.ignore?(d.__alreadyNotVisible||d.onRemove(b),d.__alreadyNotVisible=!0):(d.__alreadyNotVisible&&d.onAdd(b),d.__alreadyNotVisible=!1,d.__dirty&&(d.beforeBrush&&d.beforeBrush(),(d.brushVML||d.brush).call(d,b),d.afterBrush&&d.afterBrush())),d.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(b),this._firstPaint=!1)},resize:function(a,b){var a=null==a?this._getWidth():a,b=null==b?this._getHeight():b;if(this._width!=a||this._height!=b){this._width=a,this._height=b;var c=this._vmlViewport.style;c.width=a+"px",c.height=b+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var a=this.root,b=a.currentStyle;return(a.clientWidth||d(b.width))-d(b.paddingLeft)-d(b.paddingRight)|0},_getHeight:function(){var a=this.root,b=a.currentStyle;return(a.clientHeight||d(b.height))-d(b.paddingTop)-d(b.paddingBottom)|0}};for(var i=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],j=0;j<i.length;j++){var k=i[j];e.prototype[k]=f(k)}a.exports=e}])}),function(a,b){"function"==typeof define&&define.amd?define(["exports","echarts"],b):"object"==typeof exports&&"string"!=typeof exports.nodeName?b(exports,require("echarts")):b({},a.echarts)}(this,function(a,b){var c=function(a){"undefined"!=typeof console&&console&&console.error&&void 0};return b?b.registerMap?void b.registerMap("china",{type:"FeatureCollection",features:[{id:"710000",geometry:{type:"MultiPolygon",coordinates:[["@@°Ü¯Û","@@ƛĴÕƊÉɼģºðʀ\\ƎsÆNŌÔĚänÜƤɊĂǀĆĴĤǊŨxĚĮǂƺòƌâÔ®ĮXŦţƸZûÐƕƑGđ¨ĭMó·ęcëƝɉlÝƯֹÅŃ^Ó·śŃǋƏďíåɛGɉ¿IċããF¥ĘWǬÏĶñÄ","@@\\p|WoYG¿¥Ij@","@@¡@V^RqBbAnTXeQr©C","@@ÆEEkWqë I"]],encodeOffsets:[[[122886,24033],[123335,22980],[122375,24193],[122518,24117],[124427,22618]]]},properties:{cp:[121.509062,25.044332],name:"台湾",childNum:5}},{id:"130000",geometry:{type:"MultiPolygon",coordinates:[["@@\\aM`Ç½ÓnUKĜēs¤­©yrý§uģcJ»eIP]ªrºc_ħ²G¼s`jÎŸnüsÂľP","@@U`Ts¿mÄ","@@FOhđ©OiÃ`ww^ÌkÑH«ƇǤŗĺtFu{Z}Ö@U´ʚLg®¯Oı°Ãw ^VbÉsmAê]]w§RRl£ŭuwNÁ`ÇFēÝčȻuT¡Ĺ¯Õ¯sŗő£YªhVƍ£ƅnëYNgq¼ś¿µı²UºÝUąąŖóxV@tƯJ]eR¾fe|rHA|h~Ėƍl§ÏjVë` ØoÅbbx³^zÃĶ¶Sj®AyÂhðk`«PËµEFÛ¬Y¨Ļrõqi¼Wi°§Ð±²°`[À|ĠO@ÆxO\\ta\\p_Zõ^û{ġȧXýĪÓjùÎRb^Î»j{íděYfíÙTymńŵōHim½éŅ­aVcř§ax¹XŻácWU£ôãºQ¨÷Ñws¥qEHÙ|šYQoŕÇyáĂ£MÃ°oťÊP¡mWO¡v{ôvîēÜISpÌhp¨ jdeŔQÖjX³àĈ[n`Yp@UcM`RKhEbpŞlNut®EtqnsÁgAiúoHqCXhfgu~ÏWP½¢G^}¯ÅīGCÑ^ãziMáļMTÃƘrMc|O_¯Ŏ´|morDkO\\mĆJfl@cĢ¬¢aĦtRıÒXòë¬WP{ŵǫƝīÛ÷ąV×qƥV¿aȉd³BqPBmaËđŻģmÅ®V¹d^KKonYg¯XhqaLdu¥Ípǅ¡KąÅkĝęěhq}HyÃ]¹ǧ£Í÷¿qágPmoei¤o^á¾ZEY^Ný{nOl±Í@Mċèk§daNaÇį¿]øRiiñEūiǱàUtėGyl}ÓM}jpEC~¡FtoQiHkk{ILgĽxqÈƋÄdeVDJj£J|ÅdzÂFt~KŨ¸IÆv|¢r}èonb}`RÎÄn°ÒdÞ²^®lnÐèĄlðÓ×]ªÆ}LiĂ±Ö`^°Ç¶p®đDcŋ`ZÔ¶êqvFÆN®ĆTH®¦O¾IbÐã´BĐɢŴÆíȦpĐÞXR·nndO¤OÀĈƒ­QgµFo|gȒęSWb©osx|hYhgŃfmÖĩnºTÌSp¢dYĤ¶UĈjlǐpäðëx³kÛfw²Xjz~ÂqbTÑěŨ@|oMzv¢ZrÃVw¬ŧĖ¸f°ÐTªqs{S¯r æÝl¼ÖĞ ǆiGĘJ¼lr}~K¨ŸƐÌWö¼Þ°nÞoĦL|C~D©|q]SvKÑcwpÏÏĿćènĪWlĄkT}¬Tp~®Hgd˒ĺBVtEÀ¢ôPĎƗè@~kü\\rÊĔÖæW_§¼F´©òDòjYÈrbĞāøŀG{ƀ|¦ðrb|ÀH`pʞkvGpuARhÞÆǶgĘTǼƹS£¨¡ù³ŘÍ]¿ÂyôEP xX¶¹ÜO¡gÚ¡IwÃé¦ÅBÏ|Ç°N«úmH¯âbęU~xĈbȒ{^xÖlD¸dɂ~"]],encodeOffsets:[[[120023,41045],[121616,39981],[122102,42307]]]},properties:{cp:[114.502461,38.045474],name:"河北",childNum:3}},{id:"140000",geometry:{type:"Polygon",coordinates:["@@ħÜ_ªlìwGkÛÃǏokćiµVZģ¡coTSË¹ĪmnÕńehZg{gtwªpXaĚThȑp{¶Eh®RćƑP¿£PmcªaJyý{ýȥoÅîɡųAďä³aÏJ½¥PG­ąSM­sWz½µÛYÓŖgxoOkĒCo­Èµ]¯_²ÕjāK~©ÅØ^ÔkïçămÏk]­±cÝ¯ÑÃmQÍ~_apm~ç¡qu{JÅŧ·Ls}EyÁÆcI{¤IiCfUcƌÃp§]ě«vD@¡SÀµMÅwuYY¡DbÑc¡h×]nkoQdaMç~eDÛtT©±@¥ù@É¡ZcW|WqOJmĩl«ħşvOÓ«IqăV¥D[mI~Ó¢cehiÍ]Ɠ~ĥqX·eƷn±}v[ěďŕ]_œ`¹§ÕōIo©b­s^}Ét±ū«³p£ÿ¥WÑxçÁ«h×u×¥ř¾dÒ{ºvĴÎêÌɊ²¶ü¨|ÞƸµȲLLúÉƎ¤ϊęĔV`_bªS^|dzY|dz¥pZbÆ£¶ÒK}tĦÔņƠPYznÍvX¶Ěn ĠÔzý¦ª÷ÑĸÙUȌ¸dòÜJð´ìúNM¬XZ´¤ŊǸ_tldI{¦ƀðĠȤ¥NehXnYGR° ƬDj¬¸|CĞKqºfƐiĺ©ª~ĆOQª ¤@ìǦɌ²æBÊTĞHƘÁĪËĖĴŞȀÆÿȄlŤĒötÎ½î¼ĨXh|ªM¤ÐzÞĩÒSrao³"],encodeOffsets:[[117016,41452]]},properties:{cp:[112.549248,37.857014],name:"山西",childNum:1}},{id:"150000",geometry:{type:"MultiPolygon",coordinates:[["@@ǪƫÌÛMĂ[`ÕCn}¶Vcês¯PqFB|S³C|kñHdiÄ¥sŉÅPóÑÑE^ÅPpy_YtShQ·aHwsOnŉÃs©iqjUSiº]ïW«gW¡ARëśĳĘů`çõh]y»ǃǛҤxÒm~zf}pf|ÜroÈzrKÈĵSƧż؜Ġu~è¬vîS¼ĂhĖMÈÄw\\fŦ°W ¢¾luŸDw\\Ŗĝ","@@GVu»Aylßí¹ãe]Eāò³C¹ð¾²iÒAdkò^P²CǜңǄ z¼g^èöŰ_Ĳĕê}gÁnUI«m]jvV¼euhwqAaW_µj»çjioQR¹ēÃßt@r³[ÛlćË^ÍÉáGOUÛOB±XkÅ¹£k|e]olkVÍ¼ÕqtaÏõjgÁ£§U^RLËnX°ÇBz^~wfvypV ¯ƫĉ˭ȫƗŷɿÿĿƑ˃ĝÿÃǃßËőó©ǐȍŒĖM×ÍEyxþp]ÉvïèvƀnÂĴÖ@V~Ĉ³MEĸÅĖtējyÄDXÄxGQuv_i¦aBçw˛wD©{tāmQ{EJ§KPśƘƿ¥@sCTÉ}ɃwƇy±gÑ}T[÷kÐç¦«SÒ¥¸ëBX½HáÅµÀğtSÝÂa[ƣ°¯¦Pï¡]£ġÒk®G²èQ°óMq}EóƐÇ\\@áügQÍu¥FTÕ¿Jû]|mvāÎYua^WoÀa·­ząÒot×¶CLƗi¯¤mƎHǊ¤îìɾŊìTdåwsRÖgĒųúÍġäÕ}Q¶¿A[¡{d×uQAMxVvMOmăl«ct[wº_ÇÊjbÂ£ĦS_éQZ_lwgOiýe`YYJq¥IÁǳ£ÙË[ÕªuƏ³ÍTs·bÁĽäė[b[ŗfãcn¥îC¿÷µ[ŏÀQ­ōĉm¿Á^£mJVmL[{Ï_£F¥Ö{ŹA}×Wu©ÅaųĳƳhB{·TQqÙIķËZđ©Yc|M¡LeVUóK_QWk_ĥ¿ãZ»X\\ĴuUèlG®ěłTĠğDŃGÆÍz]±ŭ©Å]ÅÐ}UË¥©TċïxgckfWgi\\ÏĒ¥HkµEë{»ÏetcG±ahUiñiWsɁ·cCÕk]wȑ|ća}wVaĚá G°ùnM¬¯{ÈÐÆA¥ÄêJxÙ¢hP¢ÛºµwWOóFÁz^ÀŗÎú´§¢T¤ǻƺSėǵhÝÅQgvBHouʝl_o¿Ga{ïq{¥|ſĿHĂ÷aĝÇqZñiñC³ª»E`¨åXēÕqÉû[l}ç@čƘóO¿¡FUsAʽīccocÇS}£IS~ălkĩXçmĈŀÐoÐdxÒuL^T{r@¢ÍĝKén£kQyÅõËXŷƏL§~}kq»IHėǅjĝ»ÑÞoå°qTt|r©ÏS¯·eŨĕx«È[eM¿yupN~¹ÏyN£{©għWí»Í¾səšǅ_ÃĀɗ±ąĳĉʍŌŷSÉA±åǥɋ@ë£R©ąP©}ĹªƏj¹erLDĝ·{i«ƫC½ÉshVzGS|úþXgp{ÁX¿ć{ƱȏñZáĔyoÁhA}ŅĆfdŉ_¹Y°ėǩÑ¡H¯¶oMQqð¡Ë|Ñ`ƭŁX½·óÛxğįÅcQs«tȋǅFù^it«Č¯[hAi©á¥ÇĚ×l|¹y¯Kȝqgů{ñǙµïċĹzŚȭ¶¡oŽäÕG\\ÄT¿Òõr¯LguÏYęRƩɷŌO\\İÐ¢æ^Ŋ ĲȶȆbÜGĝ¬¿ĚVĎgª^íu½jÿĕęjık@Ľ]ėl¥ËĭûÁėéV©±ćn©­ȇÍq¯½YÃÔŉÉNÑÅÝy¹NqáʅDǡËñ­ƁYÅy̱os§ȋµʽǘǏƬɱàưN¢ƔÊuľýľώȪƺɂļxZĈ}ÌŉŪĺœĭFЛĽ̅ȣͽÒŵìƩÇϋÿȮǡŏçƑůĕ~Ç¼ȳÐUfdIxÿ\\G zâɏÙOº·pqy£@qþ@Ǟ˽IBäƣzsÂZÁàĻdñ°ŕzéØűzșCìDȐĴĺf®Àľưø@ɜÖÞKĊŇƄ§͑těï͡VAġÑÑ»d³öǍÝXĉĕÖ{þĉu¸ËʅğU̎éhɹƆ̗̮ȘǊ֥ड़ࡰţાíϲäʮW¬®ҌeרūȠkɬɻ̼ãüfƠSצɩςåȈHϚÎKǳͲOðÏȆƘ¼CϚǚ࢚˼ФÔ¤ƌĞ̪Qʤ´¼mȠJˀƲÀɠmɆǄĜƠ´ǠN~ʢĜ¶ƌĆĘźʆȬ˪ĚĒ¸ĞGȖƴƀj`ĢçĶāàŃºēĢĖćYÀŎüôQÐÂŎŞǆŞêƖoˆDĤÕºÑǘÛˤ³̀gńƘĔÀ^ªƂ`ªt¾äƚêĦĀ¼ÐĔǎ¨Ȕ»͠^ˮÊȦƤøxRrŜH¤¸ÂxDÄ|ø˂˜ƮÐ¬ɚwɲFjĔ²Äw°ǆdÀÉ_ĸdîàŎjÊêTĞªŌŜWÈ|tqĢUB~´°ÎFCU¼pĀēƄN¦¾O¶łKĊOjĚj´ĜYp{¦SĚÍ\\T×ªV÷Ší¨ÅDK°ßtŇĔK¨ǵÂcḷ̌ĚǣȄĽFlġUĵŇȣFʉɁMğįʏƶɷØŭOǽ«ƽū¹Ʊő̝Ȩ§ȞʘĖiɜɶʦ}¨֪ࠜ̀ƇǬ¹ǨE˦ĥªÔêFxúQEr´Wrh¤Ɛ \\talĈDJÜ|[Pll̚¸ƎGú´P¬W¦^¦H]prRn|or¾wLVnÇIujkmon£cX^Bh`¥V¦U¤¸}xRj[^xN[~ªxQ[`ªHÆÂExx^wN¶Ê|¨ìMrdYpoRzNyÀDs~bcfÌ`L¾n|¾T°c¨È¢ar¤`[|òDŞĔöxElÖdHÀI`Ď\\Àì~ÆR¼tf¦^¢ķ¶eÐÚMptgjɡČÅyġLûŇV®ÄÈƀĎ°P|ªVVªj¬ĚÒêp¬E|ŬÂ_~¼rƐK f{ĘFĒƌXưăkÃĄ}nµo×q£ç­kX{uĩ«āíÓUŅÝVUŌ]Ť¥lyň[oi{¦LĸĦ^ôâJ¨^UZðÚĒL¿Ìf£K£ʺoqNwğc`uetOj×°KJ±qÆġmĚŗos¬qehqsuH{¸kH¡ÊRǪÇƌbȆ¢´äÜ¢NìÉʖ¦â©Ɨؗ"]],encodeOffsets:[[[128500,52752],[127089,51784]]]},properties:{cp:[111.670801,40.818311],name:"内蒙古",childNum:2}},{id:"210000",geometry:{type:"MultiPolygon",coordinates:[["@@L@@s]","@@MnNm","@@dc","@@eÀC@b","@@fXwkbrÄ`qg","@@^jtWQ","@@~ Y[c","@@I`ĖN^_¿ZÁM","@@Ïxǌ{q_×^Gigp","@@iX¶BY","@@YZ","@@L_yG`b","@@^WqCTZ","@@\\[§t|]","@@m`p[","@@@é^BntaÊU]x ¯ÄPĲ­°hʙK³VÕ@Y~|EvĹsÇ¦­L^pÃ²ŸÒG Ël]xxÄ_fT¤Ď¤cPC¨¸TVjbgH²sdÎdHt`B²¬GJję¶[ÐhjeXdlwhðSČ¦ªVÊÏÆZÆŶ®²^ÎyÅHńĚDMħĜŁH­kçvV[ĳ¼WYÀäĦ`XlR`ôLUVfK¢{NZdĒªYĸÌÚJRr¸SA|ƴgŴĴÆbvªØX~źB|¦ÕE¤Ð`\\|KUnnI]¤ÀÂĊnŎR®Ő¿¶\\ÀøíDm¦ÎbŨabaĘ\\ľãÂ¸atÎSƐ´©v\\ÖÚÌǴ¤Â¨JKrZ_ZfjþhPkx`YRIjJcVf~sCN¤ EhæmsHy¨SðÑÌ\\\\ĐRÊwS¥fqŒßýáĞÙÉÖ[^¯ǤŲê´\\¦¬ĆPM¯£»uïpùzExanµyoluqe¦W^£ÊL}ñrkqWňûPUP¡ôJoo·U}£[·¨@XĸDXm­ÛÝºGUCÁª½{íĂ^cjk¶Ã[q¤LÉö³cux«|Zd²BWÇ®Yß½ve±ÃCý£W{Ú^q^sÑ·¨ËMr¹·C¥GDrí@wÕKţÃ«V·i}xËÍ÷i©ĝɝǡ]{c±OW³Ya±_ç©HĕoƫŇqr³Lys[ñ³¯OSďOMisZ±ÅFC¥Pq{Ã[Pg}\\¿ghćOk^ĩÃXaĕËĥM­oEqqZûěŉ³F¦oĵhÕP{¯~TÍlªNßYÐ{Ps{ÃVUeĎwk±ŉVÓ½ŽJãÇÇ»Jm°dhcÀffdF~ĀeĖd`sx² ®EĦ¦dQÂd^~ăÔH¦\\LKpĄVez¤NP ǹÓRÆąJSh­a[¦´ÂghwmBÐ¨źhI|VV|p] Â¼èNä¶ÜBÖ¼L`¼bØæKVpoúNZÞÒKxpw|ÊEMnzEQIZZNBčÚFÜçmĩWĪñtÞĵÇñZ«uD±|ƏlǗw·±PmÍada CLǑkùó¡³Ï«QaċÏOÃ¥ÕđQȥċƭy³ÁA"]],encodeOffsets:[[[123686,41445],[126019,40435],[124393,40128],[126117,39963],[125322,40140],[126686,40700],[126041,40374],[125584,40168],[125509,40217],[125453,40165],[125362,40214],[125280,40291],[125774,39997],[125976,40496],[125822,39993],[122731,40949]]]},properties:{cp:[123.429096,41.796767],name:"辽宁",childNum:16}},{id:"220000",geometry:{type:"Polygon",coordinates:["@@ñr½ÉKāGÁ¤ia ÉÈ¹`\\xs¬dĆkNnuNUwNx¶c¸|\\¢GªóĄ~RãÖÎĢùđŴÕhQxtcæëSɽŉíëǉ£ƍG£nj°KƘµDsØÑpyĆ¸®¿bXp]vbÍZuĂ{n^IüÀSÖ¦EvRÎûh@â[ƏÈô~FNr¯ôçR±­HÑlĢ^¤¢OðætxsŒ]ÞÁTĠs¶¿âÆGW¾ìA¦·TÑ¬è¥ÏÐJ¨¼ÒÖ¼ƦɄxÊ~StD@Ă¼Ŵ¡jlºWvÐzƦZÐ²CH AxiukdGgetqmcÛ£Ozy¥cE}|¾cZk¿uŐã[oxGikfeäT@SUwpiÚFM©£è^Ú`@v¶eňf heP¶täOlÃUgÞzŸU`l}ÔÆUvØ_Ō¬Öi^ĉi§²ÃB~¡ĈÚEgc|DC_Ȧm²rBx¼MÔ¦ŮdĨÃâYxƘDVÇĺĿg¿cwÅ\\¹¥Yĭl¤OvLjM_a W`zļMž·\\swqÝSAqŚĳ¯°kRē°wx^ĐkǂÒ\\]nrĂ}²ĊŲÒøãh·M{yMzysěnĒġV·°G³¼XÀ¤¹i´o¤ŃÈ`ÌǲÄUĞd\\iÖmÈBĤÜɲDEh LG¾ƀÄ¾{WaYÍÈĢĘÔRîĐj}ÇccjoUb½{h§Ǿ{KƖµÎ÷GĄØŜçưÌs«lyiē«`å§H¥Ae^§GK}iã\\c]v©ģZmÃ|[M}ģTɟĵÂÂ`ÀçmFK¥ÚíÁbX³ÌQÒHof{]ept·GŋĜYünĎųVY^ydõkÅZW«WUa~U·SbwGçǑiW^qFuNĝ·EwUtW·Ýďæ©PuqEzwAVXRãQ`­©GYYhcUGorBd}ģÉb¡·µMicF«Yƅ»é\\ɹ~ǙG³mØ©BšuT§Ĥ½¢Ã_Ã½L¡ûsT\\rke\\PnwAKy}ywdSefµ]UhĿD@mÿvaÙNSkCuncÿ`lWėVâ¦÷~^fÏ~vwHCį`xqT­­lW«ï¸skmßEGqd¯R©Ý¯¯S\\cZ¹iűƏCuƍÓXoR}M^o£R}oªU­FuuXHlEÅÏ©¤ßgXþ¤D²ÄufàÀ­XXÈ±Ac{Yw¬dvõ´KÊ£\\rµÄlidā]|î©¾DÂVH¹Þ®ÜWnCķ W§@\\¸~¤Vp¸póIO¢VOŇürXql~òÉK]¤¥Xrfkvzpm¶bwyFoúvð¼¤ N°ąO¥«³[éǣű]°Õ\\ÚÊĝôîŇÔaâBYlďQ[ Ë[ïÒ¥RI|`j]P"],encodeOffsets:[[126831,44503]]},properties:{cp:[125.3245,43.886841],name:"吉林",childNum:1}},{id:"230000",geometry:{type:"MultiPolygon",coordinates:[["@@UµNÿ¥īèçHÍøƕ¶Lǽ|g¨|a¾pVidd~ÈiíďÓQġėÇZÎXb½|ſÃH½KFgɱCģÛÇAnjÕc[VĝǱÃËÇ_ £ń³pj£º¿»WH´¯U¸đĢmtĜyzzNN|g¸÷äűÑ±ĉā~mq^[ǁÑďlw]¯xQĔ¯l°řĴrBÞTxr[tŽ¸ĻN_yX`biNKuP£kZĮ¦[ºxÆÀdhĹŀUÈƗCwáZħÄŭcÓ¥»NAw±qȥnD`{ChdÙFć}¢A±Äj¨]ĊÕjŋ«×`VuÓÅ~_kŷVÝyhVkÄãPsOµfgeŇµf@u_Ù ÙcªNªÙEojVxT@ãSefjlwH\\pŏäÀvlY½d{F~¦dyz¤PÜndsrhfHcvlwjF£G±DÏƥYyÏu¹XikĿ¦ÏqƗǀOŜ¨LI|FRĂn sª|C˜zxAè¥bfudTrFWÁ¹Am|ĔĕsķÆF´N}ćUÕ@Áĳſmuçuð^ÊýowFzØÎĕNőǏȎôªÌŒǄàĀÄ˄ĞŀƒʀĀƘŸˮȬƬĊ°Uzouxe]}AyÈW¯ÌmKQ]Īºif¸ÄX|sZt|½ÚUÎ lk^p{f¤lºlÆW A²PVÜPHÊâ]ÎĈÌÜk´\\@qàsĔÄQºpRij¼èi`¶bXrBgxfv»uUi^v~J¬mVp´£´VWrnP½ì¢BX¬hðX¹^TjVriªjtŊÄmtPGx¸bgRsT`ZozÆO]ÒFôÒOÆŊvÅpcGêsx´DR{AEOr°x|íb³Wm~DVjºéNNËÜ˛ɶ­GxŷCSt}]ûōSmtuÇÃĕNāg»íT«u}ç½BĵÞʣ¥ëÊ¡MÛ³ãȅ¡ƋaǩÈÉQG¢·lG|tvgrrf«ptęŘnÅĢrI²¯LiØsPf_vĠdxM prʹL¤¤eËÀđKïÙVY§]Ióáĥ]ķK¥j|pŇ\\kzţ¦šnņäÔVĂîĪ¬|vW®l¤èØrxm¶ă~lÄƯĄ̈́öȄEÔ¤ØQĄĄ»ƢjȦOǺ¨ìSŖÆƬyQv`cwZSÌ®ü±Ǆ]ŀç¬B¬©ńzƺŷɄeeOĨSfm ĊƀP̎ēz©ĊÄÕÊmgÇsJ¥ƔŊśæÎÑqv¿íUOµªÂnĦÁ_½ä@êí£P}Ġ[@gġ}gɊ×ûÏWXá¢užƻÌsNÍ½ƎÁ§čŐAēeL³àydl¦ĘVçŁpśǆĽĺſÊQíÜçÛġÔsĕ¬Ǹ¯YßċġHµ ¡eå`ļrĉŘóƢFìĎWøxÊkƈdƬv|I|·©NqńRŀ¤éeŊŀàŀU²ŕƀBQ£Ď}L¹Îk@©ĈuǰųǨÚ§ƈnTËÇéƟÊcfčŤ^XmHĊĕË«W·ċëx³ǔķÐċJāwİ_ĸȀ^ôWr­°oú¬ĦŨK~ȰCĐ´Ƕ£fNÎèâw¢XnŮeÂÆĶ¾¾xäLĴĘlļO¤ÒĨA¢Êɚ¨®ØCÔ ŬGƠƦYĜĘÜƬDJg_ͥœ@čŅĻA¶¯@wÎqC½Ĉ»NăëKďÍQÙƫ[«ÃígßÔÇOÝáWñuZ¯ĥŕā¡ÑķJu¤E å¯°WKÉ±_d_}}vyõu¬ï¹ÓU±½@gÏ¿rÃ½DgCdµ°MFYxw¿CG£Rƛ½Õ{]L§{qqą¿BÇƻğëܭǊË|c²}Fµ}ÙRsÓpg±QNqǫŋRwŕnéÑÉK«SeYRŋ@{¤SJ}D Ûǖ֍]gr¡µŷjqWÛham³~S«Ü[","@@ƨĶTLÇyqpÇÛqe{~oyen}s`qiXGù]Ëp½©lÉÁp]Þñ´FĂ^fäîºkàz¼BUv¬D"]],encodeOffsets:[[[134456,44547],[127123,51780]]]},properties:{cp:[126.642464,45.756967],name:"黑龙江",childNum:2}},{id:"320000",geometry:{type:"Polygon",coordinates:["@@Õg^vÁbnÀ`Jnĝ¬òM¶ĘTÖŒbe¦¦{¸ZâćNp©Hp|`mjhSEb\\afv`sz^lkljÄtg¤D­¾X¿À|ĐiZȀåB·î}GL¢õcßjayBFµÏC^ĭcÙt¿sğH]j{s©HM¢QnDÀ©DaÜÞ·jgàiDbPufjDk`dPOîhw¡ĥ¥GP²ĐobºrYî¶aHŢ´ ]´rılw³r_{£DB_Ûdåuk|Ũ¯F Cºyr{XFye³Þċ¿ÂkĭB¿MvÛpm`rÚã@Ę¹hågËÖƿxnlč¶Åì½Ot¾dJlVJĂǀŞqvnO^JZż·Q}êÍÅmµÒ]ƍ¦Dq}¬R^èĂ´ŀĻĊIÔtĲyQŐĠMNtR®òLhĚs©»}OÓGZz¶A\\jĨFäOĤHYJvÞHNiÜaĎÉnFQlNM¤B´ĄNöɂtpŬdZÅglmuÇUšŞÚb¤uŃJŴu»¹ĄlȖħŴw̌ŵ²ǹǠ͛hĭłƕrçü±Yrřl¥i`ã__¢ćSÅr[Çq^ùzWmOĈaŐÝɞï²ʯʊáĘĳĒǭPħ͍ôƋÄÄÍīçÛɈǥ£­ÛmY`ó£Z«§°Ó³QafusNıǅ_k}¢m[ÝóDµ¡RLčiXyÅNïă¡¸iĔÏNÌķoıdōîåŤûHcs}~Ûwbù¹£¦ÓCtOPrE^ÒogĉIµÛÅʹK¤½phMú`mR¸¦PƚgÉLRs`£¯ãhD¨|³¤C"],encodeOffsets:[[121451,32518]]},properties:{cp:[118.767413,32.041544],name:"江苏",childNum:1}},{id:"330000",geometry:{type:"MultiPolygon",coordinates:[["@@jX^n","@@sfdM","@@qP\\xz[_i","@@o\\VzRZ}mECy","@@R¢FX}°[m]","@@Cb\\}","@@e|v\\laus","@@v~s{","@@QxÂF©}","@@¹nvÞs©m","@@rQgYIh","@@bi«ZX","@@p[}ILd","@@À¿|","@@¹dnb","@@rS}[Kl","@@g~h}","@@FlCk","@@ůTG°ĄLHm°UF","@@OdRe","@@v[u\\","@@FjâL~wyoo~sµLZ","@@¬e¹aH","@@\\nÔ¡q]L³ë\\ÿ®QÌ","@@ÊA­©]ª","@@Kxv{­","@@@hlIk_","@@pWcrxp","@@Md|_iA","@@¢X£½z\\ðpN","@@hlÜ[LykAvyfw^E ","@@fp¤MusH","@@®_ma~LÁ¬`","@@@°¡mÛGĕ¨§Ianá[ýƤjfæÐNäGp","@@iMt\\","@@Zc[b","@@X®±GrÆ°Zæĉm","@@Z~dOSo|A¿qZv","@@@`EN£p","@@|s","@@@nDi","@@na£¾uYL¯QªmĉÅdMgÇjcº«ę¬­K­´B«Âącoċ\\xK`cįŧ«®á[~ıxu·ÅKsËÉc¢Ù\\ĭƛëbf¹­ģSĜkáƉÔ­ĈZB{aMµfzŉfÓÔŹŁƋǝÊĉ{ğč±g³ne{ç­ií´S¬\\ßðK¦w\\iqªĭiAuA­µ_W¥ƣO\\lċĢttC¨£t`PZäuXßBsĻyekOđġĵHuXBµ]×­­\\°®¬F¢¾pµ¼kŘó¬Wät¸|@L¨¸µrºù³Ù~§WIZW®±Ð¨ÒÉx`²pĜrOògtÁZ{üÙ[|ûKwsPlU[}¦Rvn`hsª^nQ´ĘRWb_ rtČFIÖkĦPJ¶ÖÀÖJĈĄTĚòC ²@PúØz©Pî¢£CÈÚĒ±hŖl¬â~nm¨f©iļ«mntqÒTÜÄjL®EÌFª²iÊxØ¨IÈhhst[Ôx}dtüGæţŔïĬaĸpMËÐjē¢·ðĄÆMzjWKĎ¢Q¶À_ê_@ıi«pZgf¤Nrq]§ĂN®«H±yƳí¾×ŊďŀĐÏŴǝĂíÀBŖÕªÁŐTFqĉ¯³ËCĕģi¨hÜ·ñt»¯Ï","@@ºwZRkĕWK "]],encodeOffsets:[[[125785,31436],[125729,31431],[125513,31380],[125329,30690],[125223,30438],[125115,30114],[124815,29155],[124419,28746],[124095,28635],[124005,28609],[125e3,30713],[125111,30698],[125078,30682],[125150,30684],[124014,28103],[125008,31331],[125411,31468],[125329,31479],[125369,31139],[125626,30916],[125417,30956],[125254,30976],[125199,30997],[125095,31058],[125083,30915],[124885,31015],[125218,30798],[124867,30838],[124755,30788],[124802,30809],[125267,30657],[125218,30578],[125200,30562],[125192,30787],[124968,30474],[125167,30396],[125115,30363],[124955,29879],[124714,29781],[124762,29462],[124325,28754],[124863,30077],[125366,31477]]]},properties:{cp:[120.153576,30.287459],name:"浙江",childNum:43}},{id:"340000",geometry:{type:"MultiPolygon",coordinates:[["@@^iuLV\\","@@e©Edh","@@´CE¶zAXêeödK¡~H¸íæAȽd{ďÅÀ½W®£ChÃsikkly]_teu[bFaTign{]GqªoĈMYá|·¥f¥őaSÕėNµñĞ«Im_m¿Âa]uĜp Z_§{Cäg¤°r[_YjÆOdý[I[á·¥Q_nùgL¾mzˆDÜÆ¶ĊJhpc¹O]iŠ]¥ jtsggDÑ¡w×jÉ©±EFË­KiÛÃÕYvsm¬njĻª§emná}k«ŕgđ²ÙDÇ¤í¡ªOy×Où±@DñSęćăÕIÕ¿IµĥOlJÕÍRÍ|JìĻÒåyķrĕq§ÄĩsWÆßF¶X®¿mwRIÞfßoG³¾©uyHį{Ɓħ¯AFnuPÍÔzVdàôº^Ðæd´oG¤{S¬ćxã}ŧ×Kǥĩ«ÕOEÐ·ÖdÖsƘÑ¨[Û^Xr¢¼§xvÄÆµ`K§ tÒ´Cvlo¸fzŨð¾NY´ı~ÉĔēßúLÃÃ_ÈÏ|]ÂÏHlg`ben¾¢pUh~ƴĖ¶_r sĄ~cƈ]|r c~`¼{À{ȒiJjz`îÀT¥Û³]u}fïQl{skloNdjäËzDvčoQďHI¦rbrHĖ~BmlNRaĥTX\\{fÁKÁ®TLÂÄMtÊgĀDĄXƔvDcÎJbt[¤D@®hh~kt°ǾzÖ@¾ªdbYhüóV´ŮŒ¨Üc±r@J|àuYÇÔG·ĚąĐlŪÚpSJ¨ĸLvÞcPæķŨ®mÐálsgd×mQ¨ųÆ©Þ¤IÎs°KZpĄ|XwWdĎµmkǀwÌÕæhºgBĝâqÙĊzÖgņtÀÁĂÆáhEz|WzqD¹°Eŧl{ævÜcA`¤C`|´qxĲkq^³³GšµbíZ¹qpa±ď OH¦Ħx¢gPícOl_iCveaOjChß¸iÝbÛªCC¿mRV§¢A|tbkĜEÀtîm^g´fÄ"]],encodeOffsets:[[[121722,32278],[119475,30423],[121606,33646]]]},properties:{cp:[117.283042,31.86119],name:"安徽",childNum:3}},{id:"350000",geometry:{type:"MultiPolygon",coordinates:[["@@zht´}[","@@aj^~ĆGå","@@edHse","@@@vPGsyQ","@@sBzddW[O","@@S¨Qy","@@NVucW","@@qptB@q","@@¸[iu","@@Q\\pD[_","@@jSwUappI","@@eXª~","@@AjvFoo","@@fT_Çí\\v|ba¦jZÆy|®","@@IjLg","@@wJIx«¼AoNe{M¥","@@K±¡ÓČ~N¾","@@k¡¹Eh~c®uDqZì¡I~Māe£bN¨gZý¡a±Öcp©PhI¢QqÇGj|¥U g[Ky¬ŏv@OptÉEF\\@ åA¬V{XģĐBycpě¼³Ăp·¤¥ohqqÚ¡ŅLs^Ã¡§qlÀhH¨MCe»åÇGD¥zPO£čÙkJA¼ßėuĕeûÒiÁŧS[¡Uûŗ½ùěcÝ§SùĩąSWó«íęACµeRåǃRCÒÇZÍ¢ź±^dlstjD¸ZpuÔâÃH¾oLUêÃÔjjēò´ĄWƛ^Ñ¥Ħ@ÇòmOw¡õyJyD}¢ďÑÈġfZda©º²z£NjD°Ötj¶¬ZSÎ~¾c°¶ÐmxO¸¢Pl´SL|¥AȪĖMņĲg®áIJČĒü` QF¬h|ĂJ@zµ |ê³È ¸UÖŬŬÀCtrĸr]ðM¤ĶĲHtÏ AĬkvsq^aÎbvdfÊòSD´Z^xPsĂrvƞŀjJd×ŘÉ ®AÎ¦ĤdxĆqAZRÀMźnĊ»İÐZ YXæJyĊ²·¶q§·K@·{sXãô«lŗ¶»o½E¡­«¢±¨Y®Ø¶^AvWĶGĒĢPlzfļtàAvWYãO_¤sD§ssČġ[kƤPX¦`¶®BBvĪjv©jx[L¥àï[F¼ÍË»ğV`«Ip}ccÅĥZEãoP´B@D¸m±z«Ƴ¿å³BRØ¶Wlâþäą`]Z£Tc ĹGµ¶Hm@_©k¾xĨôȉðX«½đCIbćqK³ÁÄš¬OAwã»aLŉËĥW[ÂGIÂNxĳ¤D¢îĎÎB§°_JGs¥E@¤ućPåcuMuw¢BI¿]zG¹guĮI"]],encodeOffsets:[[[123250,27563],[122541,27268],[123020,27189],[122916,27125],[122887,26845],[122808,26762],[122568,25912],[122778,26197],[122515,26757],[122816,26587],[123388,27005],[122450,26243],[122578,25962],[121255,25103],[120987,24903],[122339,25802],[121042,25093],[122439,26024]]]},properties:{cp:[119.306239,26.075302],name:"福建",childNum:18}},{id:"360000",geometry:{type:"Polygon",coordinates:["@@ÖP¬ǦĪØLŨä~Ĉw«|TH£pc³Ïå¹]ĉđxe{ÎÓvOEm°BƂĨİ|Gvz½ª´HàpeJÝQxnÀW­EµàXÅĪt¨ÃĖrÄwÀFÎ|Ă¡WÕ¸cf¥XaęST±m[r«_gmQu~¥V\\OkxtL E¢Ú^~ýØkbēqoě±_Êw§Ñ²ÏƟė¼mĉŹ¿NQYBąrwģcÍ¥B­ŗÊcØiIƝĿuqtāwO]³YCñTeÉcaubÍ]trluīBÐGsĵıN£ï^ķqsq¿DūūVÕ·´Ç{éĈýÿOER_đûIċâJh­ŅıNȩĕB¦K{Tk³¡OP·wnµÏd¯}½TÍ«YiµÕsC¯iM¤­¦¯P|ÿUHvhe¥oFTuõ\\OSsMòđƇiaºćXĊĵà·çhƃ÷Ç{ígu^đgm[ÙxiIN¶Õ»lđÕwZSÆv©_ÈëJbVkĔVÀ¤P¾ºÈMÖxlò~ªÚàGĂ¢B±ÌKyñ`w²¹·`gsÙfIěxŕeykpudjuTfb·hh¿Jd[\\LáƔĨƐAĈepÀÂMD~ņªe^\\^§ý©j×cZØ¨zdÒa¶lÒJìõ`oz÷@¤uŞ¸´ôęöY¼HČƶajlÞƩ¥éZ[|h}^U  ¥pĄžƦO lt¸Æ Q\\aÆ|CnÂOjt­ĚĤdÈF`¶@Ðë ¦ōÒ¨SêvHĢÛ@[ÆQoxHW[ŰîÀt¦Ǆ~NĠ¢lĄtZoCƞÔºCxrpČNpj¢{f_Y`_eq®Aot`@oDXfkp¨|s¬\\DÄSfè©Hn¬^DhÆyøJhØxĢĀLÊƠPżċĄwĮ¶"],encodeOffsets:[[118923,30536]]},properties:{cp:[115.892151,28.676493],name:"江西",childNum:1}},{id:"370000",geometry:{type:"MultiPolygon",coordinates:[["@@Xjd]mE","@@itnq","@@Dl@k","@@TGw","@@K¬U","@@Wd`c","@@PtMs","@@LnXlc","@@ppVu]Qn","@@cdzAU_","@@udRhnCE","@@oIpP","@@M{ĿčwbxƨîKÎMĮ]ZF½Y]â£ph¶¨râøÀÎǨ¤^ºÄGz~grĚĜlĞÆLĆǆ¢Îo¦cvKbgr°WhmZp L]LºcUÆ­nżĤÌĒbAnrOA´ȊcÀbƦUØrĆUÜøĬƞŶǬĴóò_A̈«ªdÎÉnb²ĦhņBĖįĦåXćì@L¯´ywƕCéÃµė ƿ¸lµZæyj|BíÂKNNnoƈfÈMZwnŐNàúÄsTJULîVjǎ¾ĒØDz²XPn±ŴPè¸ŔLƔÜƺ_TüÃĤBBċÈöA´faM¨{«M`¶d¡ôÖ°mȰBÔjj´PM|c^d¤u¤Û´ä«ƢfPk¶Môl]Lb}su^ke{lCMrDÇ­]NÑFsmoõľHyGă{{çrnÓEƕZGª¹Fj¢ÿ©}ÌCǷë¡ąuhÛ¡^KxC`C\\bÅxì²ĝÝ¿_NīCȽĿåB¥¢·IŖÕy\\¹kxÃ£ČáKµË¤ÁçFQ¡KtŵƋ]CgÏAùSedcÚźuYfyMmhUWpSyGwMPqŀÁ¼zK¶G­Y§Ë@´śÇµƕBm@IogZ¯uTMx}CVKï{éƵP_K«pÛÙqċtkkù]gTğwoɁsMõ³ăAN£MRkmEÊčÛbMjÝGuIZGPģãħE[iµBEuDPÔ~ª¼ęt]ûG§¡QMsğNPŏįzs£Ug{đJĿļā³]ç«Qr~¥CƎÑ^n¶ÆéÎR~Ż¸YI] PumŝrƿIā[xeÇ³L¯v¯s¬ÁY~}ťuŁgƋpÝĄ_ņī¶ÏSR´ÁP~¿Cyċßdwk´SsX|t`Ä ÈðAªìÎT°¦Dda^lĎDĶÚY°`ĪŴǒàŠv\\ebZHŖR¬ŢƱùęOÑM­³FÛaj"]],encodeOffsets:[[[123806,39303],[123821,39266],[123742,39256],[123702,39203],[123649,39066],[123847,38933],[123580,38839],[123894,37288],[123043,36624],[123344,38676],[123522,38857],[123628,38858],[118267,36772]]]},properties:{cp:[117.000923,36.675807],name:"山东",childNum:13}},{id:"410000",geometry:{type:"MultiPolygon",coordinates:[["@@dXD}~Hgq~ÔN~zkĘHVsǲßjŬŢ`Pûàl¢\\ÀEhİgÞē X¼`khÍLùµP³swIÓzeŠĠð´E®ÚPtºIŊÊºL«šŕQGYfa[şußǑĩų_Z¯ĵÙčC]kbc¥CS¯ëÍB©ïÇÃ_{sWTt³xlàcČzÀD}ÂOQ³ÐTĬµƑÐ¿ŸghłŦv~}ÂZ«¤lPÇ£ªÝŴÅR§ØnhctâknÏ­ľŹUÓÝdKuķI§oTũÙďkęĆH¸Ó\\Ä¿PcnS{wBIvÉĽ[GqµuŇôYgûZca©@½Õǽys¯}lgg@­C\\£asIdÍuCQñ[L±ęk·ţb¨©kK»KC²òGKmĨS`UQnk}AGēsqaJ¥ĐGRĎpCuÌy ã iMcplk|tRkðev~^´¦ÜSí¿_iyjI|ȑ|¿_»d}q^{Ƈdă}tqµ`ŷé£©V¡om½ZÙÏÁRD|JOÈpÀRsI{ùÓjuµ{t}uËRivGçJFjµåkWê´MÂHewixGw½Yŷpµú³XU½ġyłåkÚwZX·l¢Á¢KzOÎÎjc¼htoDHr|­J½}JZ_¯iPq{tę½ĕ¦Zpĵø«kQĹ¤]MÛfaQpě±ǽ¾]u­Fu÷nčÄ¯ADp}AjmcEÇaª³o³ÆÍSƇĈÙDIzçñİ^KNiÞñ[aA²zzÌ÷D|[íÄ³gfÕÞd®|`Ć~oĠƑô³ŊD×°¯CsøÂ«ìUMhTº¨¸ǝêWÔDruÂÇZ£ĆPZW~ØØv¬gèÂÒw¦X¤Ā´oŬ¬²Ês~]®tªapŎJ¨Öº_ŔfŐ\\Đ\\Ĝu~m²Ƹ¸fWĦrƔ}Î^gjdfÔ¡J}\\n C¦þWxªJRÔŠu¬ĨĨmFdM{\\d\\YÊ¢ú@@¦ª²SÜsC}fNècbpRmlØ^gd¢aÒ¢CZZxvÆ¶N¿¢T@uC¬^ĊðÄn|lIlXhun[","@@hzUq"]],encodeOffsets:[[[116744,37216],[116480,33048]]]},properties:{cp:[113.665412,34.757975],name:"河南",childNum:2}},{id:"420000",geometry:{type:"MultiPolygon",coordinates:[["@@ASd","@@ls{d","@@¾«}{ra®pîÃ\\{øCËyyB±b\\òÝjKL ]ĎĽÌJyÚCƈćÎT´Å´pb©ÈdFin~BCo°BĎÃømv®E^vǾ½Ĝ²RobÜeN^ĺ£R¬lĶ÷YoĖ¥Ě¾|sOr°jY`~I¾®I{GqpCgyl{£ÍÍyPLÂ¡¡¸kWxYlÙæŁĢz¾V´W¶ùŸo¾ZHxjwfxGNÁ³Xéæl¶EièIH ujÌQ~v|sv¶Ôi|ú¢FhQsğ¦SiŠBgÐE^ÁÐ{čnOÂÈUÎóĔÊēĲ}Z³½Mŧïeyp·uk³DsÑ¨L¶_ÅuÃ¨w»¡WqÜ]\\Ò§tƗcÕ¸ÕFÏǝĉăxŻČƟOKÉġÿ×wg÷IÅzCg]m«ªGeçÃTC«[t§{loWeC@ps_Bp­rf_``Z|ei¡oċMqow¹DƝÓDYpûsYkıǃ}s¥ç³[§cY§HK«Qy]¢wwö¸ïx¼ņ¾Xv®ÇÀµRĠÐHM±cÏdƒǍũȅȷ±DSyúĝ£ŤĀàtÖÿï[îb\\}pĭÉI±Ñy¿³x¯No|¹HÏÛmjúË~TuęjCöAwě¬Rđl¯ Ñb­ŇTĿ_[IčĄʿnM¦ğ\\É[T·k¹©oĕ@A¾wya¥Y\\¥Âaz¯ãÁ¡k¥ne£ÛwE©Êō¶˓uoj_U¡cF¹­[WvP©whuÕyBF`RqJUw\\i¡{jEPïÿ½fćQÑÀQ{°fLÔ~wXgītêÝ¾ĺHd³fJd]HJ²EoU¥HhwQsƐ»Xmg±çve]DmÍPoCc¾_hhøYrŊU¶eD°Č_N~øĹĚ·`z]Äþp¼äÌQv\\rCé¾TnkžŐÚÜa¼ÝƆĢ¶ÛodĔňÐ¢JqPb ¾|J¾fXƐîĨ_Z¯À}úƲN_ĒÄ^ĈaŐyp»CÇÄKñL³ġM²wrIÒŭxjb[n«øæà ^²­h¯ÚŐªÞ¸Y²ĒVø}Ā^İ´LÚm¥ÀJÞ{JVųÞŃx×sxxƈē ģMřÚðòIfĊŒ\\Ʈ±ŒdÊ§ĘDvČ_Àæ~Dċ´A®µ¨ØLV¦êHÒ¤"]],encodeOffsets:[[[113712,34e3],[115612,30507],[113649,34054]]]},properties:{cp:[114.298572,30.584355],name:"湖北",childNum:3}},{id:"430000",geometry:{type:"MultiPolygon",coordinates:[["@@nFZw","@@ãÆá½ÔXrCOËRïÿĩ­TooQyÓ[ŅBE¬ÎÓXaį§Ã¸G °ITxpúxÚĳ¥ÏĢ¾edÄ©ĸGàGhM¤Â_U}Ċ}¢pczfþg¤ÇôAV","@@ȴÚĖÁĐiOĜ«BxDõĚivSÌ}iùÜnÐºG{p°M°yÂÒzJ²Ì ÂcXëöüiáÿñőĞ¤ùTz²CȆȸǎŪƑÐc°dPÎğË¶[È½u¯½WM¡­ÉB·rínZÒ `¨GA¾\\pēXhÃRC­üWGġuTé§ŎÑ©êLM³}_EÇģc®ęisÁPDmÅ{b[RÅs·kPŽƥóRoOV~]{g\\êYƪ¦kÝbiċƵGZ»Ěõó·³vŝ£ø@pyö_ëIkÑµbcÑ§y×dYØªiþUjŅ³C}ÁN»hĻħƏâƓKA·³CQ±µ§¿AUƑ¹AtćOwD]JUÖgk¯b£ylZFËÑ±H­}EbóľA¡»Ku¦·³åş¥ùBD^{ÌC´­¦ŷJ£^[ª¿ğ|ƅN skóā¹¿ï]ă~÷O§­@Vm¡Qđ¦¢Ĥ{ºjÔª¥nf´~Õo×ÛąGû¥cÑ[Z¶ŨĪ²SÊǔƐƀAÚŌ¦QØ¼rŭ­«}NÏürÊ¬mjr@ĘrTW ­SsdHzƓ^ÇÂyUi¯DÅYlŹu{hT}mĉ¹¥ěDÿë©ıÓ[Oº£¥ótł¹MÕƪ`PDiÛU¾ÅâìUñBÈ£ýhedy¡oċ`pfmjP~kZaZsÐd°wj§@Ĵ®w~^kÀÅKvNmX\\¨aŃqvíó¿F¤¡@ũÑVw}S@j}¾«pĂrªg àÀ²NJ¶¶DôK|^ª°LX¾ŴäPĪ±£EXd^¶ĲÞÜ~u¸ǔMRhsRe`ÄofIÔ\\Ø  ićymnú¨cj ¢»GČìƊÿÐ¨XeĈĀ¾Oð Fi ¢|[jVxrIQ_EzAN¦zLU`cªxOTu RLÄªpUĪȴ^ŎµªÉFxÜf¤ºgĲèy°Áb[¦Zb¦z½xBĖ@ªpºjS´rVźOd©ʪiĎăJP`"]],encodeOffsets:[[[115640,30489],[112577,27316],[114113,30649]]]},properties:{cp:[112.982279,28.19409],name:"湖南",childNum:3}},{id:"440000",geometry:{type:"MultiPolygon",coordinates:[["@@QdAsa","@@lxDRm","@@sbhNLo","@@Ă ý","@@WltOY[","@@Kr]S","@@e~AS}","@@I|Mym","@@Û³LS²Q","@@nvºBë¥cÕº","@@zdÛJm","@@°³","@@a yAª¸ËJIxØ@ĀHÉÕZofoo","@@sŗÃÔėAƁZÄ ~°ČPºb","@@¶ÝÌvmĞh¹Ĺ","@@HdSjĒ¢D}waru«ZqadY{K","@@el\\LqqO","@@~rMmX","@@f^E","@@øPªoj÷ÍÝħXČx°Q¨ıXJp","@@gÇƳmxatfu","@@EÆC½","@@¸B_¶ekWvSivc}p}Ăº¾NĎyj¦Èm th_®Ä}»âUzLË²Aā¡ßH©Ùñ}wkNÕ¹ÇO½¿£ēUlaUìIÇª`uTÅxYĒÖ¼kÖµMjJÚwn\\hĒv]îh|ÈƄøèg¸Ķß ĉĈWb¹ƀdéĘNTtP[öSvrCZaGubo´ŖÒÇĐ~¡zCIözx¢PnÈñ @ĥÒ¦]ƜX³ăĔñiiÄÓVépKG½ÄÓávYoC·sitiaÀyŧÎ¡ÈYDÑům}ý|m[węõĉZÅxUO}÷N¹³ĉo_qtăqwµŁYÙǝŕ¹tïÛUÃ¯mRCºĭ|µÕÊK½Rē ó]GªęAxNqSF|ām¡diď×YïYWªŉOeÚtĐ«zđ¹TāúEáÎÁWwíHcòßÎſ¿Çdğ·ùT×Çūʄ¡XgWÀǇğ·¿ÃOj YÇ÷Sğ³kzőõmĝ[³¡VÙæÅöMÌ³¹pÁaËýý©D©ÜJŹƕģGą¤{ÙūÇO²«BƱéAÒĥ¡«BhlmtÃPµyU¯ucd·w_bŝcīímGOGBȅŹãĻFŷŽŕ@Óoo¿ē±ß}}ÓF÷tĲWÈCőâUâǙIğŉ©IĳE×Á³AĥDĈ±ÌÜÓĨ£L]ĈÙƺZǾĆĖMĸĤfÎĵlŨnÈĐtFFĤêk¶^k°f¶g}®Faf`vXŲxl¦ÔÁ²¬Ð¦pqÊÌ²iXØRDÎ}Ä@ZĠsx®AR~®ETtĄZƈfŠŠHâÒÐAµ\\S¸^wĖkRzalŜ|E¨ÈNĀňZTpBh£\\ĎƀuXĖtKL¶G|»ĺEļĞ~ÜĢÛĊrOÙîvd]n¬VÊĜ°RÖpMƀ¬HbwEÀ©\\¤]ŸI®¥D³|Ë]CúAŠ¦æ´¥¸Lv¼¢ĽBaôF~®²GÌÒEYzk¤°ahlVÕI^CxĈPsBƒºVÀB¶¨R²´D","@@OR"]],encodeOffsets:[[[117381,22988],[116552,22934],[116790,22617],[116973,22545],[116444,22536],[116931,22515],[116496,22490],[116453,22449],[113301,21439],[118726,21604],[118709,21486],[113210,20816],[115482,22082],[113171,21585],[113199,21590],[115232,22102],[115739,22373],[115134,22184],[113056,21175],[119573,21271],[119957,24020],[115859,22356],[116680,26053],[116561,22649]]]},properties:{cp:[113.280637,23.125178],name:"广东",childNum:24}},{id:"450000",geometry:{type:"MultiPolygon",coordinates:[["@@H TI¡U","@@Ɣ_LÊFZgčP­kini«qÇczÍY®¬Ů»qR×ō©DÕ§ƙǃŵTÉĩ±ıdÑnYYĲvNĆĆØÜ Öp}e³¦m©iÓ|¹ħņ|ª¦QF¢Â¬ʖovg¿em^ucäāmÇÖåB¡Õçĝ}FĻ¼Ĺ{µHKsLSđƃrč¤[AgoSŇYMÿ§Ç{FśbkylQxĕ]T·¶[BÑÏGáşşƇeăYSs­FQ}­BwtYğÃ@~CÍQ ×WjË±rÉ¥oÏ ±«ÓÂ¥kwWűue_b­E~µh¯ecl¯Ïr¯EģJğ}w³Ƈē`ãògK_ÛsUʝćğ¶höO¤Ǜn³c`¡yię[ďĵűMę§]XÎ_íÛ]éÛUćİÕBƣ±dy¹T^dûÅÑŦ·PĻþÙ`K¦¢ÍeĥR¿³£[~äu¼dltW¸oRM¢ď\\z}Æzdvň{ÎXF¶°Â_ÒÂÏL©ÖTmu¼ãlīkiqéfA·Êµ\\őDc¥ÝFyÔćcűH_hLÜêĺĐ¨c}rn`½Ì@¸¶ªVLhŒ\\Ţĺk~Ġið°|gtTĭĸ^xvKVGréAébUuMJVÃO¡qĂXËSģãlýà_juYÛÒBG^éÖ¶§EGÅzěƯ¤EkN[kdåucé¬dnYpAyČ{`]þ±X\\ÞÈk¡ĬjàhÂƄ¢Hè ŔâªLĒ^Öm¶ħĊAǦė¸zÚGn£¾rªŀÜt¬@ÖÚSx~øOŒŶÐÂæȠ\\ÈÜObĖw^oÞLf¬°bI lTØBÌF£Ć¹gñĤaYt¿¤VSñK¸¤nM¼JE±½¸ñoÜCƆæĪ^ĚQÖ¦^f´QüÜÊz¯lzUĺš@ìp¶n]sxtx¶@~ÒĂJb©gk{°~c°`Ô¬rV\\la¼¤ôá`¯¹LCÆbxEræOv[H­[~|aB£ÖsºdAĐzNÂðsÞÆĤªbab`ho¡³F«èVZs\\\\ÔRzpp®SĪº¨ÖºNĳd`a¦¤F³¢@`¢ĨĀìhYvlĆº¦Ċ~nS|gźv^kGÆÀè·"]],
encodeOffsets:[[[111707,21520],[113706,26955]]]},properties:{cp:[108.320004,22.82402],name:"广西",childNum:2}},{id:"460000",geometry:{type:"Polygon",coordinates:["@@¦Ŝil¢XƦƞòïè§ŞCêɕrŧůÇąĻõ·ĉ³œ̅kÇm@ċȧŧĥĽʉ­ƅſȓÒË¦ŝE}ºƑ[ÍĜȋ gÎfǐÏĤ¨êƺ\\Ɔ¸ĠĎvʄȀÐ¾jNðĀÒRZǆzÐĊ¢DÀɘZ"],encodeOffsets:[[112750,20508]]},properties:{cp:[110.33119,20.031971],name:"海南",childNum:1}},{id:"510000",geometry:{type:"MultiPolygon",coordinates:[["@@LqSn","@@ĆOìÛÐ@ĞǔNY{¤Á§di´ezÝúØãwIþËQÇ¦ÃqÉSJ»ĂéʔõÔƁİlƞ¹§ĬqtÀƄmÀêErĒtD®ċæcQE®³^ĭ¥©l}äQtoŖÜqÆkµªÔĻĴ¡@Ċ°B²Èw^^RsºTĀ£ŚæQPJvÄz^Đ¹Æ¯fLà´GC²dt­ĀRt¼¤ĦOðğfÔðDŨŁĞƘïPÈ®âbMüÀXZ ¸£@Å»»QÉ­]dsÖ×_Í_ÌêŮPrĔĐÕGĂeZÜîĘqBhtO ¤tE[h|YÔZśÎs´xº±Uñt|OĩĠºNbgþJy^dÂY Į]Řz¦gC³R`Āz¢Aj¸CL¤RÆ»@­Ŏk\\Ç´£YW}z@Z}Ã¶oû¶]´^NÒ}èNªPÍy¹`S°´ATeVamdUĐwʄvĮÕ\\uÆŗ¨Yp¹àZÂmWh{á}WØǍÉüwga§ßAYrÅÂQĀÕ¬LŐý®Xøxª½Ű¦¦[þ`ÜUÖ´òrÙŠ°²ÄkĳnDX{U~ET{ļº¦PZcjF²Ė@pg¨B{u¨ŦyhoÚD®¯¢ WòàFÎ¤¨GDäz¦kŮPġqË¥À]eâÚ´ªKxīPÖ|æ[xÃ¤JÞĥsNÖ½I¬nĨY´®ÐƐmDŝuäđđEbee_v¡}ìęǊē}qÉåT¯µRs¡M@}ůaa­¯wvƉåZw\\Z{åû`[±oiJDÅ¦]ĕãïrG réÏ·~ąSfy×Í·ºſƽĵȁŗūmHQ¡Y¡®ÁÃ×t«­T¤JJJyJÈ`Ohß¦¡uËhIyCjmÿwZGTiSsOB²fNmsPa{M{õE^Hj}gYpaeu¯oáwHjÁ½M¡pMuåmni{fk\\oÎqCwEZ¼KĝAy{m÷LwO×SimRI¯rKõBS«sFe]fµ¢óY_ÆPRcue°Cbo×bd£ŌIHgtrnyPt¦foaXďxlBowz_{ÊéWiêEGhÜ¸ºuFĈIxf®Y½ĀǙ]¤EyF²ċw¸¿@g¢§RGv»áW`ÃĵJwi]t¥wO­½a[×]`Ãi­üL¦LabbTÀåc}ÍhÆh®BHî|îºÉk­¤Sy£ia©taį·Ɖ`ō¥UhOĝLk}©Fos´JmµlŁuønÑJWÎªYÀïAetTŅÓGË«bo{ıwodƟ½OġÜÂµxàNÖ¾P²§HKv¾]|BÆåoZ`¡Ø`ÀmºĠ~ÌÐ§nÇ¿¤]wğ@srğu~Io[é±¹ ¿ſđÓ@qg¹zƱřaí°KtÇ¤V»Ã[ĩǭƑ^ÇÓ@áťsZÏÅĭƋěpwDóÖáŻneQËq·GCœýS]x·ýq³OÕ¶Qzßti{řáÍÇWŝŭñzÇWpç¿JXĩè½cFÂLiVjx}\\NŇĖ¥GeJA¼ÄHfÈu~¸Æ«dE³ÉMA|bÒćhG¬CMõƤąAvüVéŀ_VÌ³ĐwQj´·ZeÈÁ¨X´Æ¡Qu·»ÕZ³ġqDoy`L¬gdp°şp¦ėìÅĮZ°Iähzĵf²å ĚÑKpIN|Ñz]ń·FU×é»R³MÉ»GM«kiér}Ã`¹ăÞmÈnÁîRǀ³ĜoİzŔwǶVÚ£À]ɜ»ĆlƂ²ĠþTº·àUȞÏʦ¶I«dĽĢdĬ¿»Ĕ×h\\c¬ä²GêëĤł¥ÀǿżÃÆMº}BÕĢyFVvwxBèĻĒ©Ĉt@Ğû¸£B¯¨ˋäßkķ½ªôNÔ~t¼Ŵu^s¼{TA¼ø°¢İªDè¾Ň¶ÝJ®Z´ğ~Sn|ªWÚ©òzPOȸbð¢|øĞA"]],encodeOffsets:[[[108815,30935],[100197,35028]]]},properties:{cp:[104.065735,30.659462],name:"四川",childNum:2}},{id:"520000",geometry:{type:"MultiPolygon",coordinates:[["@@G\\lY£cj","@@q|mc¯vÏV","@@hÑ£IsNgßHHªķÃh_¹¡ĝÄ§ń¦uÙùgS¯JH|sÝÅtÁïyMDč»eÕtA¤{b\\}G®u\\åPFqwÅaDK°ºâ_£ùbµmÁÛĹM[q|hlaªāI}Ñµ@swtwm^oµDéĽŠyVky°ÉûÛR³e¥]RÕěħ[ƅåÛDpJiVÂF²I»mN·£LbÒYbWsÀbpkiTZĄă¶Hq`ĥ_J¯ae«KpÝx]aĕÛPÇȟ[ÁåŵÏő÷Pw}TÙ@Õs«ĿÛq©½m¤ÙH·yǥĘĉBµĨÕnđ]K©œáGçş§ÕßgǗĦTèƤƺ{¶ÉHÎd¾ŚÊ·OÐjXWrãLyzÉAL¾ę¢bĶėy_qMĔąro¼hĊw¶øV¤w²Ĉ]ÊKx|`ź¦ÂÈdrcÈbe¸`I¼čTF´¼Óýȃr¹ÍJ©k_șl³´_pĐ`oÒh¶pa^ÓĔ}D»^Xy`d[KvJPhèhCrĂĚÂ^Êƌ wZL­Ġ£ÁbrzOIlMMĪŐžËr×ÎeŦtw|¢mKjSǘňĂStÎŦEtqFT¾Eì¬¬ôxÌO¢ K³ŀºäYPVgŎ¦ŊmŞ¼VZwVlz¤£Tl®ctĽÚó{G­AÇge~Îd¿æaSba¥KKûj®_Ä^\\Ø¾bP®¦x^sxjĶI_Ä Xâ¼Hu¨Qh¡À@Ëô}±GNìĎlT¸`V~R°tbÕĊ`¸úÛtÏFDu[MfqGH·¥yAztMFe|R_GkChZeÚ°tov`xbDnÐ{E}ZèxNEÞREn[Pv@{~rĆAB§EO¿|UZ~ìUf¨J²ĂÝÆsªB`s¶fvö¦Õ~dÔq¨¸º»uù[[§´sb¤¢zþF¢ÆÀhÂW\\ıËIÝo±ĭŠ£þÊs}¡R]ěDg´VG¢j±®èºÃmpU[Áëº°rÜbNu¸}º¼`niºÔXĄ¤¼ÔdaµÁ_ÃftQQgR·Ǔv}Ý×ĵ]µWc¤F²OĩųãW½¯K©]{LóµCIµ±Mß¿h©āq¬o½~@i~TUxð´Đhw­ÀEîôuĶb[§nWuMÆJl½]vuıµb"]],encodeOffsets:[[[112158,27383],[112105,27474],[112095,27476]]]},properties:{cp:[106.713478,26.578343],name:"贵州",childNum:3}},{id:"530000",geometry:{type:"Polygon",coordinates:["@@[ùx½}ÑRHYīĺûsÍniEoã½Ya²ė{c¬ĝgĂsAØÅwďõzFjw}«Dx¿}Uũlê@HÅ­F¨ÇoJ´Ónũuą¡Ã¢pÒÅØ TF²xa²ËXcÊlHîAßËŁkŻƑŷÉ©hW­æßUËs¡¦}teèÆ¶StÇÇ}Fd£jĈZĆÆ¤Tč\\D}O÷£U§~ŃGåŃDĝ¸Tsd¶¶Bª¤u¢ŌĎo~t¾ÍŶÒtD¦ÚiôözØX²ghįh½Û±¯ÿm·zR¦Ɵ`ªŊÃh¢rOÔ´£Ym¼èêf¯ŪĽncÚbw\\zlvWªâ ¦gmĿBĹ£¢ƹřbĥkǫßeeZkÙIKueT»sVesbaĕ  ¶®dNĄÄpªy¼³BE®lGŭCǶwêżĔÂepÍÀQƞpC¼ŲÈ­AÎô¶RäQ^Øu¬°_Èôc´¹ò¨PÎ¢hlĎ¦´ĦÆ´sâÇŲPnÊD^¯°Upv}®BPÌªjǬxSöwlfòªvqĸ|`H­viļndĜ­Ćhňem·FyÞqóSį¯³X_ĞçêtryvL¤§z¦c¦¥jnŞklD¤øz½ĜàĂŧMÅ|áƆàÊcðÂFÜáŢ¥\\\\ºİøÒÐJĴîD¦zK²ǏÎEh~CD­hMn^ÌöÄ©ČZÀaüfɭyœpį´ěFűk]Ôě¢qlÅĆÙa¶~ÄqêljN¬¼HÊNQ´ê¼VØ¸E^ŃÒyM{JLoÒęæe±Ķygã¯JYÆĭĘëo¥Šo¯hcK«z_prC´ĢÖY¼ v¸¢RÅW³Â§fÇ¸Yi³xR´ďUË`êĿUûuĆBƣöNDH«ĈgÑaB{ÊNF´¬c·Åv}eÇÃGB»If¦HňĕM~[iwjUÁKE¾dĪçWIèÀoÈXòyŞŮÈXâÎŚj|àsRyµÖPr´þ ¸^wþTDŔHr¸RÌmfżÕâCôoxĜƌÆĮÐYtâŦÔ@]ÈǮƒ\\Ī¼Ä£UsÈ¯LbîƲŚºyhr@ĒÔƀÀ²º\\êpJ}ĠvqtĠ@^xÀ£È¨mËÏğ}n¹_¿¢×Y_æpÅA^{½Lu¨GO±Õ½ßM¶wÁĢÛPƢ¼pcĲx|apÌ¬HÐŊSfsðBZ¿©XÏÒKk÷Eû¿SrEFsÕūkóVǥŉiTL¡n{uxţÏhôŝ¬ğōNNJkyPaqÂğ¤K®YxÉƋÁ]āęDqçgOgILu\\_gz]W¼~CÔē]bµogpÑ_oď`´³Țkl`IªºÎȄqÔþ»E³ĎSJ»_f·adÇqÇc¥Á_Źw{L^É±ćxU£µ÷xgĉp»ĆqNē`rĘzaĵĚ¡K½ÊBzyäKXqiWPÏÉ¸½řÍcÊG|µƕƣGË÷k°_^ý|_zċBZocmø¯hhcæ\\lMFlư£ĜÆyHF¨µêÕ]HAàÓ^it `þßäkĤÎT~Wlÿ¨ÔPzUCNVv [jâôDôď[}z¿msSh¯{jïğl}šĹ[őgK©U·µË@¾m_~q¡f¹ÅË^»f³ø}Q¡ÖË³gÍ±^Ç\\ëÃA_¿bWÏ[¶ƛé£F{īZgm@|kHǭƁć¦UĔť×ëǟeċ¼ȡȘÏíBÉ£āĘPªĳ¶ŉÿy©nď£G¹¡I±LÉĺÑdĉÜW¥}gÁ{aqÃ¥aıęÏZÁ`"],encodeOffsets:[[104636,22969]]},properties:{cp:[102.712251,25.040609],name:"云南",childNum:1}},{id:"540000",geometry:{type:"Polygon",coordinates:["@@ÂhľxŖxÒVºÅâAĪÝȆµę¯Ňa±r_w~uSÕňqOj]ɄQ£ZUDûoY»©M[L¼qãË{VÍçWVi]ë©Ä÷àyƛhÚU°adcQ~Mx¥caÛcSyFÖk­uRýq¿ÔµQĽ³aG{¿FµëªéĜÿª@¬·K·àariĕĀ«V»ŶĴūgèLǴŇƶaftèBŚ£^âǐÝ®M¦ÁǞÿ¬LhJ¾óƾÆºcxwf]Y´¦|QLn°adĊ\\¨oǀÍŎ´ĩĀd`tÊQŞŕ|¨C^©Ĉ¦¦ÎJĊ{ëĎjª²rÐl`¼Ą[t|¦Stè¾PÜK¸dƄı]s¤î_v¹ÎVòŦj£Əsc¬_Ğ´|Ł¦Av¦w`ăaÝaa­¢e¤ı²©ªSªÈMĄwÉØŔì@T¤Ę\\õª@þo´­xA sÂtŎKzó²ÇČµ¢r^nĊ­Æ¬×üG¢³ {âĊ]G~bÀgVjzlhǶfOfdªB]pjTOtĊn¤}®¦Č¥d¢¼»ddY¼t¢eȤJ¤}Ǿ¡°§¤AÐlc@ĝsªćļđAçwxUuzEÖġ~AN¹ÄÅȀŻ¦¿ģŁéì±Hãd«g[Ø¼ēÀcīľġ¬cJµÐʥVȝ¸ßS¹ý±ğkƁ¼ą^ɛ¤Ûÿb[}¬ōõÃ]ËNm®g@Bg}ÍF±ǐyL¥íCIĳÏ÷Ñį[¹¦[âšEÛïÁÉdƅß{âNÆāŨß¾ě÷yC£k­´ÓH@Â¹TZ¥¢į·ÌAÐ§®Zcv½Z­¹|ÅWZqgW|ieZÅYVÓqdqbc²R@c¥Rã»GeeƃīQ}J[ÒK¬Ə|oėjġĠÑN¡ð¯EBčnwôɍėª²CλŹġǝʅįĭạ̃ūȹ]ΓͧgšsgȽóϧµǛęgſ¶ҍć`ĘąŌJÞä¤rÅň¥ÖÁUětęuůÞiĊÄÀ\\Æs¦ÓRb|Â^řÌkÄŷ¶½÷f±iMÝ@ĥ°G¬ÃM¥n£Øąğ¯ß§aëbéüÑOčk£{\\eµª×MÉfm«Ƒ{Å×Gŏǩãy³©WÑăû··Qòı}¯ãIéÕÂZ¨īès¶ZÈsæĔTŘvgÌsN@îá¾ó@ÙwU±ÉTå»£TđWxq¹Zobs[×¯cĩvėŧ³BM|¹kªħ¥TzNYnÝßpęrñĠĉRS~½ěVVµõ«M££µBĉ¥áºae~³AuĐh`Ü³ç@BÛïĿa©|z²Ý¼D£àč²ŸIûI āóK¥}rÝ_Á´éMaň¨~ªSĈ½½KÙóĿeƃÆB·¬ën×W|Uº}LJrƳlŒµ`bÔ`QÐÓ@s¬ñIÍ@ûws¡åQÑßÁ`ŋĴ{ĪTÚÅTSÄ³Yo|Ç[Ç¾µMW¢ĭiÕØ¿@MhpÕ]jéò¿OƇĆƇpêĉâlØwěsǩĵ¸cbU¹ř¨WavquSMzeo_^gsÏ·¥Ó@~¯¿RiīB\\qTGªÇĜçPoÿfñòą¦óQīÈáPābß{ZŗĸIæÅhnszÁCËìñÏ·ąĚÝUm®ó­L·ăUÈíoù´Êj°ŁŤ_uµ^°ìÇ@tĶĒ¡ÆM³Ģ«İĨÅ®ğRāðggheÆ¢zÊ©Ô\\°ÝĎz~ź¤PnMĪÖB£kné§żćĆKĒ°¼L¶èâz¨u¦¥LDĘz¬ýÎmĘd¾ßFzhg²Fy¦ĝ¤ċņbÎ@yĄæm°NĮZRÖíJ²öLĸÒ¨Y®ƌÐVàtt_ÚÂyĠz]ŢhzĎ{ÂĢXc|ÐqfO¢¤ögÌHNPKŖUú´xx[xvĐCûĀìÖT¬¸^}Ìsòd´_KgžLĴÀBon|H@Êx¦BpŰŌ¿fµƌA¾zǈRx¶FkĄźRzŀ~¶[´HnªVƞuĒ­È¨ƎcƽÌm¸ÁÈM¦x͊ëÀxǆBú^´W£dkɾĬpw˂ØɦļĬIŚÊnŔa¸~J°îlɌxĤÊÈðhÌ®gT´øàCÀ^ªerrƘd¢İP|Ė ŸWªĦ^¶´ÂLaT±üWƜǀRÂŶUńĖ[QhlLüAÜ\\qRĄ©"],encodeOffsets:[[90849,37210]]},properties:{cp:[91.132212,29.660361],name:"西藏",childNum:1}},{id:"610000",geometry:{type:"Polygon",coordinates:["@@¸ÂW¢xR­Fq§uF@N¢XLRMº[ğȣſï|¥Jkc`sŉǷ£Y³WN«ùMëï³ÛIg÷±mTșÚÒķø©þ¥yÓğęmWµÎumZyOŅƟĥÓ~sÑL¤µaÅY¦ocyZ{y c]{Ta©`U_Ěē£ωÊƍKùK¶ȱÝƷ§{û»ÅÁȹÍéuĳ|¹cÑdìUYOuFÕÈYvÁCqÓTǢí§·S¹NgV¬ë÷Át°DØ¯C´ŉƒópģ}ąiEËFéGU¥×K§­¶³BČ}C¿åċ`wġB·¤őcƭ²ő[Å^axwQOñJÙïŚĤNĔwƇÄńwĪ­o[_KÓª³ÙnKÇěÿ]ďă_d©·©Ýŏ°Ù®g]±ß×¥¬÷m\\iaǑkěX{¢|ZKlçhLtŇîŵœè[É@ƉĄEtƇÏ³­ħZ«mJ×¾MtÝĦ£IwÄå\\Õ{OwĬ©LÙ³ÙTª¿^¦rÌĢŭO¥lãyC§HÍ£ßEñX¡­°ÙCgpťzb`wIvA|¥hoĕ@E±iYd¥OÿµÇvPW|mCĴŜǂÒW¶¸AĜh^Wx{@¬­F¸¡ķn£P|ªĴ@^ĠĈæbÔc¶lYi^MicĎ°Â[ävï¶gv@ÀĬ·lJ¸sn|¼u~a]ÆÈtŌºJpþ£KKf~¦UbyäIĺãnÔ¿^­ŵMThĠÜ¤ko¼Ŏìąǜh`[tRd²Ĳ_XPrɲlXiL§à¹H°Ȧqº®QCbAŌJ¸ĕÚ³ĺ§ `d¨YjiZvRĺ±öVKkjGȊÄePĞZmļKÀ[`ösìhïÎoĬdtKÞ{¬èÒÒBÔpĲÇĬJŊ¦±J«[©ārHµàåVKe§|P²ÇÓ·vUzgnN¾yI@oHĆÛķhxen¡QQ±ƝJǖRbzy¸ËÐl¼EºpĤ¼x¼½~Ğà@ÚüdK^mÌSjp²ȮµûGĦ}Ħðǚ¶òƄjɂz°{ºØkÈęâ¦jªBg\\ċ°s¬]jú EȌǆ¬stRÆdĠİwÜ¸ôW¾ƮłÒ_{Ìû¼jº¹¢GǪÒ¯ĘZ`ºŊecņą~BÂgzpâēòYƲȐĎ"],encodeOffsets:[[113634,40474]]},properties:{cp:[108.948024,34.263161],name:"陕西",childNum:1}},{id:"620000",geometry:{type:"MultiPolygon",coordinates:[["@@Vu_^","@@ųEĠtt~nkh`Q¦ÅÄÜdwAb×ĠąJ¤DüègĺqBqj°lI¡Ĩ¶ĖIHdjÎB°aZ¢KJO[|A£Dx}NĂ¬HUnrk kp¼Y kMJn[aGáÚÏ[½rc}aQxOgsPMnUsncZsKúvAtÞġ£®ĀYKdnFw¢JE°Latf`¼h¬we|Æbj}GA·~W`¢MC¤tL©Ĳ°qdfObÞĬ¹ttu`^ZúE`[@Æsîz®¡CƳƜG²R¢RmfwĸgÜą G@pzJM½mhVy¸uÈÔO±¨{LfæU¶ßGĂq\\ª¬²I¥IŉÈīoıÓÑAçÑ|«LÝcspīðÍgtë_õ\\ĉñLYnĝgRǡÁiHLlõUĹ²uQjYi§Z_c¨´ĹĖÙ·ŋIaBD­R¹ȥr¯GºßK¨jWkɱOqWĳ\\a­Q\\sg_ĆǛōëp»£lğÛgSŶN®À]ÓämĹãJaz¥V}Le¤Lýo¹IsŋÅÇ^bz³tmEÁ´a¹cčecÇNĊãÁ\\č¯dNj]jZµkÓdaćå]ğĳ@ ©O{¤ĸm¢E·®«|@Xwg]Aģ±¯XǁÑǳªcwQÚŝñsÕ³ÛV_ý¥\\ů¥©¾÷w©WÕÊĩhÿÖÁRo¸V¬âDb¨hûxÊ×ǌ~Zâg|XÁnßYoº§ZÅŘv[ĭÖʃuďxcVbnUSfB¯³_TzºÎO©çMÑ~M³]µ^püµÄY~y@X~¤Z³[Èōl@®Å¼£QK·Di¡ByÿQ_´D¥hŗy^ĭÁZ]cIzýah¹MĪğPs{ò²Vw¹t³ŜË[Ñ}X\\gsF£sPAgěp×ëfYHāďÖqēŭOÏëdLü\\it^c®RÊº¶¢H°mrY£B¹čIoľu¶uI]vģSQ{UŻÅ}QÂ|Ì°ƅ¤ĩŪU ęĄÌZÒ\\v²PĔ»ƢNHĂyAmƂwVm`]ÈbH`Ì¢²ILvĜH®¤Dlt_¢JJÄämèÔDëþgºƫaʎÌrêYi~ Îİ¤NpÀA¾Ĕ¼bð÷®üszMzÖĖQdȨýv§Tè|ªHÃ¾a¸|Ð ƒwKĢx¦ivr^ÿ ¸l öæfƟĴ·PJv}n\\h¹¶v·À|\\ƁĚN´ĜçèÁz]ġ¤²¨QÒŨTIlªťØ}¼˗ƦvÄùØEÂ«FïËIqōTvāÜŏíÛßÛVj³âwGăÂíNOPìyV³ŉĖýZso§HÑiYw[ß\\X¦¥c]ÔƩÜ·«jÐqvÁ¦m^ċ±R¦΋ƈťĚgÀ»IïĨʗƮ°ƝĻþÍAƉſ±tÍEÕÞāNUÍ¡\\ſčåÒʻĘm ƭÌŹöʥëQ¤µ­ÇcƕªoIýIÉ_mkl³ăƓ¦j¡YzŇi}Msßõīʋ }ÁVm_[n}eı­Uĥ¼ªI{Î§DÓƻėojqYhĹT©oūĶ£]ďxĩǑMĝq`B´ƃ˺Чç~²ņj@¥@đ´ί}ĥtPńÇ¾V¬ufÓÉCtÓ̻¹£G³]ƖƾŎĪŪĘ̖¨ʈĢƂlɘ۪üºňUðǜȢƢż̌ȦǼĤŊɲĖÂ­KqĘŉ¼ĔǲņɾªǀÞĈĂD½ĄĎÌŗĞrôñnN¼â¾ʄľԆ|Ǆ֦ज़ȗǉ̘̭ɺƅêgV̍ʆĠ·ÌĊv|ýĖÕWĊǎÞ´õ¼cÒÒBĢ͢UĜð͒s¨ňƃLĉÕÝ@ɛƯ÷¿Ľ­ĹeȏĳëCȚDŲyê×Ŗyò¯ļcÂßYtÁƤyAã˾J@ǝrý@¤rz¸oP¹ɐÚyáHĀ[JwcVeȴÏ»ÈĖ}ƒŰŐèȭǢόĀƪÈŶë;Ñ̆ȤМľĮEŔĹŊũ~ËUă{ĻƹɁύȩþĽvĽƓÉ@ēĽɲßǐƫʾǗĒpäWÐxnsÀ^ƆwW©¦cÅ¡Ji§vúF¶¨c~c¼īeXǚ\\đ¾JwÀďksãAfÕ¦L}waoZD½Ml«]eÒÅaÉ²áo½FõÛ]ĻÒ¡wYR£¢rvÓ®y®LFLzĈôe]gx}|KK}xklL]c¦£fRtív¦PŨ£","@@M T¥"]],encodeOffsets:[[[108619,36299],[108594,36341],[108600,36306]]]},properties:{cp:[103.823557,36.058039],name:"甘肃",childNum:3}},{id:"630000",geometry:{type:"MultiPolygon",coordinates:[["@@InJo","@@CÆ½OŃĦsΰ~Ē³¦@@Ņi±è}ШƄ˹A³r_ĞǒNĪĐw¤^ŬĵªpĺSZgrpiƼĘÔ¨C|ÍJ©Ħ»®VĲ~f\\m `UnÂ~ʌĬàöNt~ňjy¢ZiƔ¥Ąk´nl`JÊJþ©pdƖ®È£¶ìRʦźõƮËnʼėæÑƀĎ[¢VÎĂMÖÝÎF²sƊƀÎBļýƞ¯ʘƭðħ¼Jh¿ŦęΌƇ¥²Q]Č¥nuÂÏri¸¬ƪÛ^Ó¦d¥[Wàx\\ZjÒ¨GtpþYŊĕ´zUOëPîMĄÁxH´áiÜUàîÜŐĂÛSuŎrJðÌ¬EFÁú×uÃÎkrĒ{V}İ«O_ÌËĬ©ÓŧSRÑ±§Ģ£^ÂyèçěM³Ƃę{[¸¿uºµ[gt£¸OƤĿéYõ·kĀq]juw¥DĩƍõÇPéÄ½G©ã¤GuȧþRcÕĕNyyût­øï»a½ē¿BMoį£Íj}éZËqbʍƬh¹ìÿÓAçãnIÃ¡I`ks£CG­ěUy×Cy@¶ʡÊBnāzGơMē¼±O÷õJËĚăVĪũƆ£¯{ËL½ÌzżVR|ĠTbuvJvµhĻĖHAëáa­OÇðñęNwœľ·LmI±íĠĩPÉ×®ÿscB³±JKßĊ«`ađ»·QAmOVţéÿ¤¹SQt]]Çx±¯A@ĉĳ¢Óļ©l¶ÅÛrŕspãRk~¦ª]Į­´FRåd­ČsCqđéFn¿ÅƃmÉx{W©ºƝºįkÕƂƑ¸wWūÐ©ÈF£\\tÈ¥ÄRÈýÌJ lGr^×äùyÞ³fjc¨£ÂZ|ǓMĝÏ@ëÜőRĝ÷¡{aïȷPu°ËXÙ{©TmĠ}Y³­ÞIňµç½©C¡į÷¯B»|St»]vųs»}MÓ ÿʪƟǭA¡fs»PY¼c¡»¦cċ­¥£~msĉPSi^o©AecPeǵkgyUi¿h}aHĉ^|á´¡HØûÅ«ĉ®]m¡qċ¶±ÈyôōLÁstB®wn±ă¥HSòė£Së@×œÊăxÇN©©T±ª£Ĳ¡fb®Þbb_Ą¥xu¥B{łĝ³«`dƐt¤ťiñÍUuºí`£^tƃĲc·ÛLO½sç¥Ts{ă\\_»kÏ±q©čiìĉ|ÍI¥ć¥]ª§D{ŝŖÉR_sÿc³ĪōƿÎ§p[ĉc¯bKmR¥{³Ze^wx¹dƽÅ½ôIg §Mĕ ƹĴ¿ǣÜÍ]Ý]snåA{eƭ`ǻŊĿ\\ĳŬűYÂÿ¬jĖqßb¸L«¸©@ěĀ©ê¶ìÀEH|´bRľÓ¶rÀQþvl®ÕETzÜdb hw¤{LRdcb¯ÙVgƜßzÃôì®^jUèXÎ|UäÌ»rK\\ªN¼pZCüVY¤ɃRi^rPŇTÖ}|br°qňbĚ°ªiƶGQ¾²x¦PmlŜ[Ĥ¡ΞsĦÔÏâ\\ªÚŒU\\f¢N²§x|¤§xĔsZPòʛ²SÐqF`ªVÞŜĶƨVZÌL`¢dŐIqr\\oäõFÎ·¤»Ŷ×h¹]ClÙ\\¦ďÌį¬řtTӺƙgQÇÓHţĒ´ÃbEÄlbʔC|CŮkƮ[ʼ¬ň´KŮÈΰÌĪ¶ƶlðļATUvdTGº̼ÔsÊDÔveMg"]],encodeOffsets:[[[105308,37219],[95370,40081]]]},properties:{cp:[101.778916,36.623178],name:"青海",childNum:2}},{id:"640000",geometry:{type:"Polygon",coordinates:["@@KëÀęĞ«Oęȿȕı]ŉ¡åįÕÔ«ǴõƪĚQÐZhv K°öqÀÑS[ÃÖHƖčËnL]ûcÙß@ĝ¾}w»»oģF¹»kÌÏ·{zP§B­¢íyÅt@@á]Yv_ssģ¼ißĻL¾ġsKD£¡N_X¸}B~HaiÅf{«x»ge_bsKF¯¡IxmELcÿZ¤­ĢÝsuBLùtYdmVtNmtOPhRw~bd¾qÐ\\âÙH\\bImlNZ»loqlVmGā§~QCw¤{A\\PKNY¯bFkC¥sks_Ã\\ă«¢ħkJi¯rrAhĹûç£CUĕĊ_ÔBixÅÙĄnªÑaM~ħpOu¥sîeQ¥¤^dkKwlL~{L~hw^ófćKyE­K­zuÔ¡qQ¤xZÑ¢^ļöÜ¾Ep±âbÊÑÆ^fk¬NC¾YpxbK~¥eÖäBlt¿Đx½I[ĒǙWf»Ĭ}d§dµùEuj¨IÆ¢¥dXªƅx¿]mtÏwßRĶX¢͎vÆzƂZò®ǢÌʆCrâºMÞzÆMÒÊÓŊZÄ¾r°Î®Ȉmª²ĈUªĚîøºĮ¦ÌĘk^FłĬhĚiĀĖ¾iİbjË"],encodeOffsets:[[109366,40242]]},properties:{cp:[106.278179,38.46637],name:"宁夏",childNum:1}},{id:"650000",geometry:{type:"Polygon",coordinates:["@@QØĔ²X¨~ǘBºjʐßØvKƔX¨vĊOÃ·¢i@~cĝe_«E}QxgɪëÏÃ@sÅyXoŖ{ô«ŸuXêÎf`C¹ÂÿÐGĮÕĞXŪōŸMźÈƺQèĽôe|¿ƸJR¤ĘEjcUóº¯Ĩ_ŘÁMª÷Ð¥OéÈ¿ÖğǤǷÂFÒzÉx[]­Ĥĝœ¦EP}ûƥé¿İƷTėƫœŕƅƱB»Đ±ēO¦E}`cȺrĦáŖuÒª«ĲπdƺÏØZƴwʄ¤ĖGĐǂZĶèH¶}ÚZצʥĪï|ÇĦMŔ»İĝǈì¥Βba­¯¥ǕǚkĆŵĦɑĺƯxūД̵nơʃĽá½M»òmqóŘĝčË¾ăCćāƿÝɽ©ǱŅ»ēėŊLrÁ®ɱĕģŉǻ̋ȥơŻǛȡVï¹Ň۩ûkɗġƁ§ʇė̕ĩũƽō^ƕUv£ƁQïƵkŏ½ΉÃŭÇ³LŇʻ«ƭ\\lŭD{ʓDkaFÃÄa³ŤđÔGRÈƚhSӹŚsİ«ĐË[¥ÚDkº^Øg¼ŵ¸£EÍöůŉT¡c_ËKYƧUśĵÝU_©rETÏʜ±OñtYwē¨{£¨uM³x½şL©Ùá[ÓÐĥ Νtģ¢\\śnkOw¥±T»ƷFɯàĩÞáB¹ÆÑUwŕĽw]kE½Èå~Æ÷QyěCFmĭZīŵVÁƿQƛûXS²b½KÏ½ĉS©ŷXĕ{ĕK·¥Ɨcqq©f¿]ßDõU³h­gËÇïģÉɋwk¯í}I·œbmÉřīJɥĻˁ×xoɹīlc¤³Xù]ǅA¿w͉ì¥wÇN·ÂËnƾƍdÇ§đ®ƝvUm©³G\\}µĿQyŹlăµEwǇQ½yƋBe¶ŋÀůo¥AÉw@{Gpm¿AĳŽKLh³`ñcËtW±»ÕSëüÿďDu\\wwwù³VLŕOMËGh£õP¡erÏd{ġWÁč|yšg^ğyÁzÙs`s|ÉåªÇ}m¢Ń¨`x¥ù^}Ì¥H«YªƅAÐ¹n~ź¯f¤áÀzgÇDIÔ´AňĀÒ¶ûEYospõD[{ù°]uJqU|Soċxţ[õÔĥkŋÞŭZËºóYËüċrw ÞkrťË¿XGÉbřaDü·Ē÷AÃª[ÄäIÂ®BÕĐÞ_¢āĠpÛÄȉĖġDKwbmÄNôfƫVÉviǳHQµâFù­Âœ³¦{YGd¢ĚÜO {Ö¦ÞÍÀP^bƾl[vt×ĈÍEË¨¡Đ~´î¸ùÎhuè`¸HÕŔVºwĠââWò@{ÙNÝ´ə²ȕn{¿¥{l÷eé^eďXj©î\\ªÑòÜìc\\üqÕ[Č¡xoÂċªbØ­ø|¶ȴZdÆÂońéG\\¼C°ÌÆn´nxÊOĨŪƴĸ¢¸òTxÊǪMīĞÖŲÃɎOvʦƢ~FRěò¿ġ~åŊúN¸qĘ[Ĕ¶ÂćnÒPĒÜvúĀÊbÖ{Äî¸~Ŕünp¤ÂH¾ĄYÒ©ÊfºmÔĘcDoĬMŬS¤s²ʘÚžȂVŦ èW°ªB|ĲXŔþÈJĦÆæFĚêYĂªĂ]øªŖNÞüAfɨJ¯ÎrDDĤ`mz\\§~D¬{vJÂ«lµĂb¤pŌŰNĄ¨ĊXW|ų ¿¾ɄĦƐMTòP÷fØĶK¢ȝ˔Sô¹òEð­`Ɩ½ǒÂň×äı§ĤƝ§C~¡hlåǺŦŞkâ~}FøàĲaĞfƠ¥Ŕd®U¸źXv¢aƆúŪtŠųƠjdƺƺÅìnrh\\ĺ¯äɝĦ]èpĄ¦´LƞĬ´ƤǬ˼Ēɸ¤rºǼ²¨zÌPðŀbþ¹ļD¢¹\\ĜÑŚ¶ZƄ³âjĦoâȴLÊȮĐ­ĚăÀêZǚŐ¤qȂ\\L¢ŌİfÆs|zºeªÙæ§΢{Ā´ƐÚ¬¨Ĵà²łhʺKÞºÖTiƢ¾ªì°`öøu®Ê¾ãÖ"],encodeOffsets:[[88824,50096]]},properties:{cp:[87.617733,43.792818],name:"新疆",childNum:1}},{id:"110000",geometry:{type:"Polygon",coordinates:["@@RºaYÕQaúÍÔiþĩȨWĢü|Ėu[qb[swP@ÅğP¿{\\¯Y²·Ñ¨j¯X\\¯MSvU¯YIŕY{[fk­VÁûtŷmiÍt_H»Ĩ±d`¹­{bwYr³S]§§o¹qGtm_SŧoaFLgQN_dV@Zom_ć\\ßW´ÕiœRcfio§ËgToÛJíĔóu|wP¤XnO¢ÉŦ¯pNÄā¤zâŖÈRpŢZÚ{GrFt¦Òx§ø¹RóäV¤XdżâºWbwŚ¨Ud®bêņ¾jnŎGŃŶnzÚScîĚZen¬"],encodeOffsets:[[119421,42013]]},properties:{cp:[116.405285,39.904989],name:"北京",childNum:1}},{id:"120000",geometry:{type:"Polygon",coordinates:["@@ŬgX§Ü«E¶FÌ¬O_ïlÁgz±AXeµÄĵ{¶]gitgIj·¥ì_iU¨ÐƎk}ĕ{gBqGf{¿aU^fIư³õ{YıëNĿk©ïËZukāAīlĕĥs¡bġ«@dekąI[nlPqCnp{ō³°`{PNdƗqSÄĻNNâyj]äÒD ĬH°Æ]~¡HO¾X}ÐxgpgWrDGpù^LrzWxZ^¨´T\\|~@IzbĤjeĊªz£®ĔvěLmV¾Ô_ÈNW~zbĬvG²ZmDM~~"],encodeOffsets:[[120237,41215]]},properties:{cp:[117.190182,39.125596],name:"天津",childNum:1}},{id:"310000",geometry:{type:"MultiPolygon",coordinates:[["@@ɧư¬EpƸÁx]","@@©²","@@MA","@@QpªKWT§¨","@@bŝÕÕEȣÚƥêImɇǦèÜĠÚÄÓŴ·ʌÇ","@@Sô¤r]ìƬįǜûȬɋŭ×^sYɍDŋŽąñCG²«ªč@h_p¯A{oloY¬j@Ĳ`gQÚpptǀ^MĲvtbe´Rh@oj¨","@@ÆLH{a}Eo¦"]],encodeOffsets:[[[124702,32062],[124547,32200],[124808,31991],[124726,32110],[124903,32376],[124065,32166],[124870,31965]]]},properties:{cp:[121.472644,31.231706],name:"上海",childNum:7}},{id:"500000",geometry:{type:"Polygon",coordinates:["@@TÂÛ`Ùƅően½SêqDu[RåÍ¹÷eXÍy¸_ĺę}÷`M¯ċfCVµqŉ÷Zgg^d½pDOÎCn^uf²ènh¼WtƏxRGg¦pVFI±G^Ic´ecGĹÞ½sëÆNäÌ¤KÓe¯|R¸§LÜkPoïƭNï¶}Gywdiù©nkĈzj@Óc£»Wă¹Óf§c[µo·Ó|MvÛaq½«è\\ÂoVnÓØÍ²«bq¿ehCĜ^Q~ Évýş¤²ĮpEĶyhsŊwH½¿gÅ¡ýE¡ya£³t\\¨\\vú¹¼©·Ñr_oÒý¥et³]Et©uÖ¥±ă©KVeë]}wVPÀFA¨ąB}qTjgRemfFmQFÝMyùnÑAmÑCawu_p¯sfÛ_gI_pNysB¦zG¸rHeN\\CvEsÐñÚkcDÖĉsaQ¯}_UzÁē}^R Äd^ÍĸZ¾·¶`wećJE¹vÛ·HgéFXjÉê`|ypxkAwWĐpb¥eOsmzwqChóUQl¥F^lafanòsrEvfQdÁUVfÎvÜ^eftET¬ôA\\¢sJnQTjPØxøK|nBzĞ»LYFDxÓvr[ehľvN¢o¾NiÂxGpâ¬zbfZo~hGi]öF||NbtOMn eA±tPTLjpYQ|SHYĀxinzDJÌg¢và¥Pg_ÇzIIII£®S¬ØsÎ¼¥¨^LnGĲļĲƤjÎƀƾ¹¸ØÎezĆT¸}êÐqHðqĖä¥^CÆIj²p\\_ æüY|[YxƊæu°xb®Űb@~¢NQt°¶Sæ Ê~rǉĔëĚ¢~uf`faĔJåĊnÔ]jƎćÊ@£¾a®£Ű{ŶĕFègLk{Y|¡ĜWƔtƬJÑxq±ĢN´òKLÈÃ¼D|s`ŋć]Ã`đMùƱ¿~Y°ħ`ƏíW½eI½{aOIrÏ¡ĕŇapµÜƃġ²"],encodeOffsets:[[111728,31311]]},properties:{cp:[106.504962,29.533155],name:"重庆",childNum:1}},{id:"810000",geometry:{type:"MultiPolygon",coordinates:[["@@AlFi","@@mp","@@EpHo","@@rMUwAS¬]","@@ea¢pl¸Eõ¹hj[]ÔCÎ@lj¡uBX´AI¹[yDU]W`çwZkmcMpÅv}IoJlcafŃK°ä¬XJmÐ đhI®æÔtSHnEÒrÄc"]],encodeOffsets:[[[117111,23002],[117072,22876],[117045,22887],[116882,22747],[116975,23082]]]},properties:{cp:[114.173355,22.320048],name:"香港",childNum:5}},{id:"820000",geometry:{type:"Polygon",coordinates:["@@áw{Îr"],encodeOffsets:[[116285,22746]]},properties:{cp:[113.54909,22.198951],name:"澳门",childNum:1}}],UTF8Encoding:!0}):void c("ECharts Map is not loaded"):void c("ECharts is not Loaded")}),angular.module("haimaApp").filter("forwardMatchFilter",function(){return function(a,b){var c=[];return angular.isArray(a)?a.forEach(function(a){for(var d=!1,e=Object.keys(b),f=0;f<e.length;f++){var g=e[f],h=b[g]?b[g].toLowerCase():"";if(0===a[g].toString().toLowerCase().indexOf(h)){d=!0;break}}d&&c.push(a)}):c=a,c}}).filter("notArrayFilter",function(){return function(a,b){if(!a)return a;if(!b)return a;var c=(""+b).toLowerCase(),d={};return angular.forEach(a,function(a,b){var e=(""+a).toLowerCase();-1!==e.indexOf(c)&&(d[b]=a)}),d}}).filter("dateFilter",["$filter",function(a){return function(b,c){var d=new Date(b),e=a("date");return b?e(d,c):""}}]).filter("unixtimeFilter",["$filter",function(a){return function(b,c){b&&(b=1e3*b);var d=a("date");return b?d(b,c):""}}]).filter("moneyDefault",function(){return function(a){return a||(a="0.00"),a}}).filter("sexFilter",["Util","codeMasterService",function(a,b){return function(c){var d="";if(c){var e=b.get("sexList");d=a.getValueByCodeOfCodeMaster(e.sexList,c)}return d}}]).filter("filterFirstChar",function(){return function(a,b){return a&&b&&0==a.indexOf(b)?a.substring(b.length):a}}).filter("dealerId",["CommonApi",function(a){return function(b,c){if(!b||!c)return"";var d=a.getDeptAll(),e=d[b];return e?e[c]:""}}]).filter("codeMasterFilter",["Util","codeMasterService",function(a,b){return function(c,d){var e="";if(c&&d){var f=b.get(d);e=a.getValueByCodeOfCodeMaster(f[d],c)}else e=c;return e}}]),angular.module("haimaApp").factory("HybridUiGrid",["PAGE_CONST","$injector",function(a,b){return function(){var c={};c.fePageNo=1,c.bePageNo=1,c.bePageSize=a.numPerGet,c.totalItems=0,c.feData=[],c.filter={},c.alerts=[],c.htmlId="grid",c.useAutoFitHeight=!0,c.rowHeight=30,c.titleHeight=30,c.pagingHeight=45,c.horizonScrollbarHeight=5,c.selectedRow={},c.gridOptions={enableRowSelection:!0,enableRowHeaderSelection:!1,enableSelectAll:!1,multiSelect:!1,noUnselect:!0,enableSorting:!1,enableFiltering:!1,paginationPageSizes:a.pageList,paginationPageSize:a.pageList[1],useExternalPagination:!0,useExternalSorting:!1},c.getData=function(){return c.fePageSize=c.gridOptions.paginationPageSize,c.isOverFeRange()?c.getDataFromBe():void c.getDataFromFe()},c.getDataFromFe=function(){for(var a=[],b=(c.fePageNo-1)*c.fePageSize-(c.bePageNo-1)*c.bePageSize,d=b;d<b+c.fePageSize;d++)c.feData[d]&&a.push(c.feData[d]);c.gridOptions.data=a,c.gridOptions.totalItems=c.totalItems,c.useAutoFitHeight&&c.autoFitHeight()},c.getDataFromBe=function(){var a=c.processBeforeGetDataFromBe();return c.beApi(a,function(a){c.processAfterGetDataFromBe(a)})},c.processBeforeGetDataFromBeCommon=function(){var a=angular.copy(c.filter)||{};return a.pageNo=c.calcBePageNoBeforeGetDataFromBe(),a.pageSize=c.bePageSize,a},c.processAfterGetDataFromBeCommon=function(a,b){c.feData=a,c.totalItems=b,c.bePageNo=c.calcBePageNoBeforeGetDataFromBe(),c.calcIdx(),c.getDataFromFe()},c.calcIdx=function(){for(var a=b.get("Util"),d=c.bePageNo,e=c.bePageSize,f=0;f<c.feData.length;f++)c.feData[f].idx=a.getIdxForUiGrid(f+1,d,e)},c.isOverFeRange=function(){var a=!1;return c.feData&&0!==c.feData.length?c.fePageNo*c.fePageSize>c.bePageNo*c.bePageSize?a=!0:c.fePageNo*c.fePageSize<=(c.bePageNo-1)*c.bePageSize&&(a=!0):a=!0,a},c.calcBePageNoBeforeGetDataFromBe=function(){return Math.ceil(c.fePageNo*c.fePageSize/c.bePageSize)},c.onPaginationChanged=function(a,b){return c.fePageNo=a,c.fePageSize=b,c.getData()};var d=function(){return c.fePageNo*c.fePageSize<=c.gridOptions.totalItems?c.fePageSize:Math.floor(c.gridOptions.totalItems%c.fePageSize)};return c.autoFitHeight=function(){var a=d(),b=a*c.rowHeight+c.titleHeight+c.pagingHeight+c.horizonScrollbarHeight,e=angular.element(document.querySelector("#"+c.htmlId));e.css("height",b+"px")},c.initForNoPaging=function(){c.bePageSize=9999999,c.gridOptions.paginationPageSize=c.bePageSize,c.useAutoFitHeight=!1},c.selectRow=function(a,b,d){b&&b===d.entity[a]&&c.gridApi.selection.selectRow(d.entity)},c}}]),!function(a){var b=function(b){if(b=b||""){var c=this;b.each(function(b,d){if(!a(d).parent("div.form-tags")[0]){a(d).wrap(a('<div class="form-tags"></div>')).hide();var e=a('<input class="input-tags form-control" />').insertAfter(a(d));c.bind(e)}})}};b.prototype={set:function(b,d){self=a(b);var e=this;b.each(function(b,f){for(var b in d){var g=a('<span class="label label-info">'+d[b]+"</span>");a(f).after(g),g.click(c),e.value(g)}})},bind:function(b){var d=this;b.keypress(function(e){self=a(this);var f=e.keyCode?e.keyCode:e.which;if("13"==f){var g=a(this).val();if(g){var h=a('<span class="label label-info">'+g+"</span>");self.before(h).val(""),h.click(c),d.value(b)}}})},value:function(b){var c=b.prevAll("input"),d=b.parent().children("span.label"),e=[];return d.each(function(b,c){e.push(a(c).text())}),c.val(e)}};var c=function(){var b=a(this),c=b.text(),e=a('<input class="form-control input-tags" type="text" />');b.after(e).hide(),e.val(c).focus().blur(function(){d(b,e)}).keypress(function(a){var c=a.keyCode?a.keyCode:a.which;"13"==c&&d(b,e)})},d=function(a,c){var d=c.val(),e=a.next("input.input-tags");d?a.text(d).show():a.remove(),(new b).value(e),c.remove(),e.focus()};a.fn.tags=function(){var a=new b(this),c=Array.prototype.slice.call(arguments);return a.set(this,c),this}}(jQuery),$(function(){$("head").append($("<style>.form-tags span, .input-tags {padding: .3em .6em .3em; display: inline-block;font-size: 14px;margin: 4px 4px 0 0;line-height: 26px;font-weight: normal;}.input-tags {width: auto;}</style>")),$('[data-toggle="tags"]').tags()}),angular.module("haimaApp").config(["$translateProvider",function(a){var b={1001:"{{param}}保存成功。",1002:"{{param}}创建成功。",1003:"{{param}}更新成功。",1004:"{{param}}删除成功。",1005:"{{param}}查询成功。",1006:"{{param}}提取成功",1007:"发送成功。",1008:"关闭成功。",1009:"恭喜,生成保养计划成功 :)",1010:"操作成功",1011:"提交成功",1012:"PDI检查成功",1013:"修改PDI检查成功",1014:"审核成功",1015:"分配成功",1016:"导入成功",1017:"导入失败",1101:"{{param}}保存失败。",1102:"生成保养计失败",1103:"上传失败 :(",1104:"操作失败",1105:"清除失败",1106:"非法操作",1107:"提交失败",1108:"无此单号",1109:"两次密码输入不一致。",1110:"更新失败",1111:"创建失败",1112:"删除失败",1113:"分配失败",2002:"请选择一行",3002:"表单填写不符合",4001:"请选择申请关闭的投诉单",4002:"请选择未分配的投诉单",4003:"请选择已分配的投诉单",4004:"请选择未申请延迟的投诉单",4005:"请选择未批复的投诉单",4006:"请选择未转发的投诉单",4007:"请选择处理中的投诉单",4008:"短信已发送","-1":"系统错误。请联系管理员。",400:"后台数据操作失败。",401:"未授权的用户。",403:"禁止访问。",404:"请求的资源未找到。",500:"服务器遇到了未知的错误。",501:"服务器不支持当前请求。",502:"网关错误。",503:"服务器无法处理当前请求。",504:"请求超时。",image:"图片",generalInvoice:"发票",banners:"广告条",workorder:"工单",guest:"客户",haimaGuest:"海马客户",maintItem:"维修项目",requirePart:"需求配件",pIncar:"预计交车时间",threeDescrip:"三包故障描述",threeResult:"三包检查结果",compensation:"理赔",maintain:"保养",pdi:"PDI",recall:"召回",carCompensation:"商品车理赔",repertoryRecall:"库存召回",code:"编码",name:"名称",detailDesc:"详细描述",reasonAnalysis:"原因分析",process:"处理过程",reservationList:"预约单",batchCode:"旧件批次",dummy:""};a.translations("cn",b),a.preferredLanguage("cn"),a.useSanitizeValueStrategy("escape")}]),angular.module("crmApp").controller("applyDelayConditionCtrl",["$scope","REGEX","Util","CommonModalSearch","codeMasterService","ComplaintApi","CommonGridOperate","$state","$uibModal",function(a,b,c,d,e,f,g,h,i){var j={page:1,limit:150,complainBase:""},k=function(){a.pattern=b,a.param=angular.copy(j),a.pageInfo={},a.complaintList=[],a.codeMaster=e.get("complaint_state,complaint_type,complaint_level,complaint_area,base,satisfaction",!0);var h=function(){a.param.page=a.backendPage,a.param.ifSelectDelayInfo=!0,a.param.audited?a.param.delayStatus="2":a.param.delayStatus="12",a.promise=f.getList(a.param,function(b){a.pageInfo=b,a.complaintList=a.pageInfo.page.list,a.totalItems=a.pageInfo.page.totalCount,a.formatData(a.complaintList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new d({getData:h})),angular.extend(a,new g)};k(),a.query(),a.resetParam=function(){a.param=angular.copy(j)},a.getServiceStore=function(){var b={},c=i.open({animation:!1,templateUrl:"views/crm/modal/service-field.html",controller:"serviceFieldCtrl",size:"md",resolve:{data:function(){return b}}});c.result.then(function(b){a.param.salesServicesCode=b.salesServicesCode,a.param.salesServicesService=b.salesServicesService})},a.information=function(a,b){a.stopPropagation();var c=i.open({animation:!1,templateUrl:"views/crm/modal/information.html",controller:"InformationCtrl",size:"lg",resolve:{data:function(){return b}}});c.result.then(function(a){})}}]),angular.module("crmApp").controller("complaintCountCtrl",["$scope","REGEX","Util","CommonModalSearch","codeMasterService","ComplaintApi","$state","$uibModal","$filter","CommonGridOperate",function(a,b,c,d,e,f,g,h,i,j){var k={page:1,limit:150,complainType:"",statisticsType:"st_ct"},l=function(){a.pattern=b,a.param=angular.copy(k),a.pageInfo={},a.complaintList=[],a.codeMaster=e.get("complaint_type,statisticsType",!0);var g=function(){a.param.statisticsType||(a.param.statisticsType="st_ct"),a.statisticsTypeName=i("codeMasterFilter")(a.param.statisticsType,"statisticsType"),a.param.page=a.backendPage,a.promise=f.getAnalysisList(a.param,function(b){a.pageInfo=b,a.complaintList=a.pageInfo.page.list,a.totalItems=a.pageInfo.page.totalCount,a.formatData(a.complaintList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new d({getData:g})),angular.extend(a,new j)};l(),a.query(),a.resetParam=function(){a.param=angular.copy(k)},a.getServiceStore=function(){var b={},c=h.open({animation:!1,templateUrl:"views/crm/modal/service-field.html",controller:"serviceFieldCtrl",size:"md",resolve:{data:function(){return b}}});c.result.then(function(b){a.param.salesServicesCode=b.salesServicesCode,a.param.salesServicesService=b.salesServicesService})}}]),angular.module("crmApp").controller("ComplaintDelayedApplicationCtrl",["$scope","REGEX","Util","CommonModalSearch","$uibModal","codeMasterService","ComplaintApi","CommonGridOperate","$state",function(a,b,c,d,e,f,g,h,i){var j={page:1,limit:150,delayStatus:""},k=function(){a.pattern=b,a.param=angular.copy(j),a.pageInfo={},a.complaintList=[],a.codeMaster=f.get("activityType,distribution,delay_status","true");var e=function(){a.param.page=a.backendPage,a.promise=g.getList(a.param,function(b){a.pageInfo=b,a.complaintList=a.pageInfo.page.list,a.totalItems=a.pageInfo.page.totalCount,a.formatData(a.complaintList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new d({getData:e})),angular.extend(a,new h)};k(),a.query(),a.resetParam=function(){a.param=angular.copy(j)},a.information=function(a,b){a.stopPropagation();var c=e.open({animation:!1,templateUrl:"views/crm/modal/information.html",controller:"InformationCtrl",size:"lg",resolve:{data:function(){return b}}});c.result.then(function(a){})},a.operate=function(b){var d=a.getSelectIndex(a.grid.rows);d>=0?"0"!=a.grid.rows[d].delayStatus?c.putSysMsg("warning","4004"):i.go("main.complaint.newComplaint",{id:a.grid.rows[d].id,operate:b}):c.putSysMsg("warning","2002")}}]),angular.module("crmApp").controller("ComplaintFormCtrl",["$scope","REGEX","Util","CommonModalSearch","$uibModal","codeMasterService","ComplaintApi","CommonGridOperate","$state",function(a,b,c,d,e,f,g,h,i){var j={page:1,limit:150,distributeStatus:""},k=function(){a.pattern=b,a.param=angular.copy(j),a.pageInfo={},a.complaintList=[],a.codeMaster=f.get("activityType,distribution",!0);var e=function(){a.param.page=a.backendPage,a.promise=g.getList(a.param,function(b){a.pageInfo=b,a.complaintList=a.pageInfo.page.list,a.totalItems=a.pageInfo.page.totalCount,a.formatData(a.complaintList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new d({getData:e})),angular.extend(a,new h)};k(),a.query(),a.resetParam=function(){a.param=angular.copy(j)},a.operate=function(b){var d=a.getSelectIndex(a.grid.rows);d>=0?"distribute"==b&&"0"!=a.grid.rows[d].distributeStatus?c.putSysMsg("warning","4002"):"changeUser"==b&&"1"!=a.grid.rows[d].distributeStatus?c.putSysMsg("warning","4003"):i.go("main.complaint.newComplaint",{id:a.grid.rows[d].id,operate:b}):c.putSysMsg("warning","2002")},a.information=function(a,b){a.stopPropagation();var c=e.open({animation:!1,templateUrl:"views/crm/modal/information.html",controller:"InformationCtrl",size:"lg",resolve:{data:function(){return b}}});c.result.then(function(a){})}}]),angular.module("crmApp").controller("ComplaintHistoryCtrl",["$scope","$stateParams","REGEX","Util","CommonModalSearch","$uibModal","codeMasterService","ComplaintApi","CommonGridOperate","$state",function(a,b,c,d,e,f,g,h,i,j){var k=function(){a.pattern=c,a.param={page:1,limit:150,vin:b.vin},a.pageInfo={},a.complaintList=[],a.totalItems=0,a.codeMaster=g.get("activityType,distribution");var f=function(){a.param.page=a.backendPage,a.promise=h.getList(a.param,function(c){a.pageInfo=c,a.complaintList=a.pageInfo.page.list,a.complaintList.forEach(function(c,d){c.id==b.complaintId&&a.complaintList.splice(d,1)}),a.totalItems=a.pageInfo.page.totalCount-1,a.formatData(a.complaintList,a.backendPage,a.numPerGet),a.grid.rows=d.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new e({getData:f})),angular.extend(a,new i)};b.complaintId&&b.vin?(k(),a.query()):window.history.go(-1),a.exit=function(){window.history.go(-1)}}]),angular.module("crmApp").controller("newComplaintCtrl",["$scope","$rootScope","$stateParams","REGEX","Util","CommonModalSearch","codeMasterService","ComplaintApi","$uibModal","$state","PAGE_CONST",function(a,b,c,d,e,f,g,h,i,j,k){var l=function(){-1==b.crmAuths.indexOf("complaint_edit")?a.disabledAll=!0:a.disabledAll=!1,a.pattern=d,a.complaint={},a.isNew=!c.id,c.id?a.promise=h.getOne(c.id,function(b){a.complaint=b.complaint,a.complaint||a.exit(),a.complaint.complaintDelay||(a.complaint.complaintDelay={}),a.complaint.complaintFlow||(a.complaint.complaintFlow={}),c.operate&&a.operate(c.operate)}):(a.complaint.customerLevel="",a.complaint.area="",a.complaint.complainLevel="0",a.complaint.complainType="2",a.complaint.complainSource="1",a.complaint.complainTime=new Date,a.complaint.finishTime=(new Date).getTime()+1296e6,a.complaint.complainBase="2",a.complaint.recordBy=b.currentUser.username,a.complaint.satisfactionDegree=0),a.codeMaster=g.get("complaint_area,customLevel,complaint_type,base,source,other",!0)};l(),a.exit=function(b){b===!1&&confirm("您已对页面内容进行了修改，是否保存？")?(h.updateRecords(a.complaint,function(a){}),a.save()):window.history.go(-1)},a.sendMsg=function(){e.putSysMsg("success","4008")},a.print=function(){j.go("main.complaint.print",{id:a.complaint.id})},a.complaintHistory=function(){j.go("main.complaint.history",{complaintId:a.complaint.id,vin:a.complaint.vin})},a.save=function(){c.id?h.update(a.complaint,function(b){0==b.code?(e.putSysMsg("success","1003"),a.exit()):e.putSysMsg("danger",b.msg)}):h.save(a.complaint,function(b){0==b.code?(e.putSysMsg("success","1002"),a.exit()):e.putSysMsg("danger",b.msg)})};var m=function(a){for(var b=-1,c=0;c<a.length;c++)a[c].selected&&(b=c);
return b};a.editRecords=!1,a.addRecords=function(){a.editRecords=!0;var c={content:"",createTime:new Date,createBy:b.currentUser.username};a.complaint.complaintDealLogs&&a.complaint.complaintDealLogs.length?a.complaint.complaintDealLogs.push(c):a.complaint.complaintDealLogs=[c]},a.deleteRecords=function(){var b=a.complaint.complaintDealLogs,c=m(b);c>=0?confirm("确认删除处理记录？")&&(a.complaint.complaintDealLogs[c].id?h.deleteRecord(a.complaint.complaintDealLogs[c].id,function(b){0==b.code?(e.putSysMsg("success","1004"),a.complaint.complaintDealLogs[c].delFlag=1):e.putSysMsg("danger",b.msg)}):a.complaint.complaintDealLogs.splice(c,1)):e.putSysMsg("success","2002")},a.updateRecords=function(){h.updateRecords(a.complaint,function(b){0==b.code?(e.putSysMsg("success","1001"),a.complaint.complaintDealLogs=b.complaintDealLogs):e.putSysMsg("danger",b.msg)})},a.selectGridData=function(b){for(var c=a.complaint.complaintDealLogs,d=0;d<c.length;d++)d===b?c[d].selected=!c[d].selected:c[d].selected=!1},a.operate=function(b){var d={complainId:c.id,operateType:b,complaintDelayId:a.complaint.complaintDelay.id,complaintFlowId:a.complaint.complaintFlow.id},e=i.open({animation:!1,templateUrl:"views/crm/modal/complaint-operate.html",controller:"complaintOperateCtrl",size:"md",resolve:{data:function(){return d}}});e.result.then(function(b){a.exit()})},a.getCustomerCar=function(){var b={},c=i.open({animation:!1,templateUrl:"views/crm/modal/customer-car-field.html",controller:"customerCarFieldCtrl",size:"md",resolve:{data:function(){return b}}});c.result.then(function(b){a.complaint.vin=b.vin,a.complaint.phoneNo=b.phone,a.complaint.custormerName=b.customerName,a.complaint.plateNo=b.plateNo,a.complaint.buyDate=b.purchaseDate,a.complaint.carColor=b.colorName,a.complaint.carName=b.carModelName,a.complaint.vno=b.carModelCode,a.complaint.customerLevel="其他",a.complaint.city="上海",a.complaint.area="1",a.complaint.mileage=b.mileage})},a.getCarModel=function(){var b={},c=i.open({animation:!1,templateUrl:"views/crm/modal/car-model-field.html",controller:"carModelFieldCtrl",size:"md",resolve:{data:function(){return b}}});c.result.then(function(b){a.complaint.vno=b.carModelCode,a.complaint.carName=b.carModelName})},a.getServiceStore=function(){var b={},c=i.open({animation:!1,templateUrl:"views/crm/modal/service-field.html",controller:"serviceFieldCtrl",size:"md",resolve:{data:function(){return b}}});c.result.then(function(b){a.complaint.salesServicesCode=b.salesServicesCode,a.complaint.salesServicesService=b.salesServicesService})}}]),angular.module("crmApp").controller("complaintPrintCtrl",["$scope","$rootScope","$stateParams","REGEX","Util","codeMasterService","ComplaintApi","$state",function(a,b,c,d,e,f,g,h){var i=function(){window.history.go(-1)},j=function(){window.print()},k=function(){a.pattern=d,a.complaint={},c.id?a.promise=g.getOne(c.id,function(b){a.complaint=b.complaint,a.complaint?(setTimeout(j,100),setTimeout(i,500)):i()}):window.history.go(-1),a.codeMaster=f.get("complaint_area,customLevel,complaint_type,base,source,other","satisfaction")};k()}]),angular.module("crmApp").controller("complaintQueryCtrl",["$scope","REGEX","Util","CommonModalSearch","codeMasterService","ComplaintApi","CommonGridOperate","$state","$uibModal","transformRequestAsFormPost",function(a,b,c,d,e,f,g,h,i,j){var k={page:1,limit:150,complainStatus:"",complainType:"",complainLevel:"",area:"",complainBase:"",satisfactionDegree:""},l=function(){a.pattern=b,a.param=angular.copy(k),a.pageInfo={},a.complaintList=[],a.codeMaster=e.get("complaint_state,complaint_type,complaint_level,complaint_area,base,satisfaction",!0);var h=function(){a.param.page=a.backendPage,a.param.isDelay?a.param.delayStatus="12":a.param.delayStatus=null,a.promise=f.getList(a.param,function(b){a.pageInfo=b,a.complaintList=a.pageInfo.page.list,a.totalItems=a.pageInfo.page.totalCount,a.formatData(a.complaintList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new d({getData:h})),angular.extend(a,new g)};l(),a.query(),a.resetParam=function(){a.param=angular.copy(k)},a.getServiceStore=function(){var b={},c=i.open({animation:!1,templateUrl:"views/crm/modal/service-field.html",controller:"serviceFieldCtrl",size:"md",resolve:{data:function(){return b}}});c.result.then(function(b){a.param.salesServicesCode=b.salesServicesCode,a.param.salesServicesService=b.salesServicesService})},a["export"]=function(){var b=f.getExportUrl();window.location.href=b+"?"+j(a.param)},a.information=function(a,b){a.stopPropagation();var c=i.open({animation:!1,templateUrl:"views/crm/modal/information.html",controller:"InformationCtrl",size:"lg",resolve:{data:function(){return b}}});c.result.then(function(a){})}}]),angular.module("crmApp").controller("complaintRespondCtrl",["$scope","REGEX","Util","CommonModalSearch","codeMasterService","ComplaintApi","CommonGridOperate","$state","$uibModal",function(a,b,c,d,e,f,g,h,i){var j={page:1,limit:150,complainBase:"",forwardOnTime:"",respondOnTime:""},k=function(){a.pattern=b,a.param=angular.copy(j),a.pageInfo={},a.complaintList=[],a.codeMaster=e.get("base,relay,respond",!0);var h=function(){a.param.page=a.backendPage,a.promise=f.getList(a.param,function(b){a.pageInfo=b,a.complaintList=a.pageInfo.page.list,a.totalItems=a.pageInfo.page.totalCount,a.formatData(a.complaintList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new d({getData:h})),angular.extend(a,new g)};k(),a.query(),a.resetParam=function(){a.param=angular.copy(j)},a.getServiceStore=function(){var b={},c=i.open({animation:!1,templateUrl:"views/crm/modal/service-field.html",controller:"serviceFieldCtrl",size:"md",resolve:{data:function(){return b}}});c.result.then(function(b){a.param.salesServicesCode=b.salesServicesCode,a.param.salesServicesService=b.salesServicesService})},a.information=function(a,b){a.stopPropagation();var c=i.open({animation:!1,templateUrl:"views/crm/modal/information.html",controller:"InformationCtrl",size:"lg",resolve:{data:function(){return b}}});c.result.then(function(a){})}}]),angular.module("crmApp").controller("ComplaintSatisfactionCtrl",["$scope","REGEX","Util","CommonModalSearch","codeMasterService","ComplaintApi","$state","$uibModal","$filter","CommonGridOperate","CommonApi",function(a,b,c,d,e,f,g,h,i,j,k){var l={page:1,limit:150,statisticsType:"st_ac"},m=function(){a.pattern=b,a.param=angular.copy(l),a.pageInfo={},a.complaintList=[],a.codeMaster=e.get("area_complaint,province,satisfactionStatisticsType");var g=function(){a.param.statisticsType||(a.param.statisticsType="st_ac"),a.param.page=a.backendPage,a.promise=f.getSatisfactionList(a.param,function(b){a.pageInfo=b,a.complaintList=a.pageInfo.page.list,a.totalItems=a.pageInfo.page.totalCount,a.formatData(a.complaintList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new d({getData:g})),angular.extend(a,new j)};m(),a.query(),a.resetParam=function(){a.param=angular.copy(l)},a.getServiceStore=function(){var b={},c=h.open({animation:!1,templateUrl:"views/crm/modal/service-field.html",controller:"serviceFieldCtrl",size:"md",resolve:{data:function(){return b}}});c.result.then(function(b){a.param.salesServicesCode=b.salesServicesCode,a.param.salesServicesService=b.salesServicesService})}}]),angular.module("crmApp").controller("ManagementCtrl",["$scope","REGEX","Util","CommonModalSearch","codeMasterService","ComplaintApi","$state","$uibModal","$filter","CommonGridOperate","$stateParams",function(a,b,c,d,e,f,g,h,i,j,k){var l={page:1,limit:150,complainStatus:"",complainType:"",complainLevel:"",area:"",complainBase:"",satisfactionDegree:"",forwardStatus:""},m=function(){a.pattern=b,a.param=angular.copy(l),k.vin&&(a.param.vin=k.vin,a.$parent.getMenuList()),a.pageInfo={},a.complaintList=[],a.codeMaster=e.get("complaint_state,complaint_type,complaint_level,complaint_area,base,satisfaction,forward_status",!0);var g=function(){a.param.page=a.backendPage,a.param.isDelay?a.param.delayStatus="12":a.param.delayStatus=null,a.promise=f.getList(a.param,function(b){a.pageInfo=b,a.complaintList=a.pageInfo.page.list,a.totalItems=a.pageInfo.page.totalCount,a.formatData(a.complaintList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new d({getData:g})),angular.extend(a,new j)};m(),a.query(),a.resetParam=function(){a.param=angular.copy(l)},a.information=function(a,b){a.stopPropagation();var c=h.open({animation:!1,templateUrl:"views/crm/modal/information.html",controller:"InformationCtrl",size:"lg",resolve:{data:function(){return b}}});c.result.then(function(a){})},a.edit=function(){var b=a.getSelectIndex(a.grid.rows);b>=0?g.go("main.complaint.newComplaint",{id:a.grid.rows[b].id}):c.putSysMsg("warning","2002")},a.audit=function(){var b=a.getSelectIndex(a.grid.rows);b>=0?"3"==a.grid.rows[b].complainStatus?g.go("main.complaint.newComplaint",{id:a.grid.rows[b].id,operate:"audit"}):c.putSysMsg("warning","4001"):c.putSysMsg("warning","2002")},a.forward=function(){var b=a.getSelectIndex(a.grid.rows);b>=0?"0"==a.grid.rows[b].forwardStatus?g.go("main.complaint.newComplaint",{id:a.grid.rows[b].id,operate:"forward"}):c.putSysMsg("warning","4006"):c.putSysMsg("warning","2002")},a.applyClose=function(){var b=a.getSelectIndex(a.grid.rows);b>=0?"1"==a.grid.rows[b].complainStatus?g.go("main.complaint.newComplaint",{id:a.grid.rows[b].id,operate:"applyClose"}):c.putSysMsg("warning","4007"):c.putSysMsg("warning","2002")},a.deleteGridData=function(){var b=a.getSelectIndex(a.grid.rows);b>=0?confirm("确认删除该投诉单？")&&f.update({id:a.grid.rows[b].id,delFlag:1},function(b){0==b.code?(c.putSysMsg("info","1004"),a.query(!0)):alert(b.msg)}):c.putSysMsg("warning","2002")},a.getServiceStore=function(){var b={},c=h.open({animation:!1,templateUrl:"views/crm/modal/service-field.html",controller:"serviceFieldCtrl",size:"md",resolve:{data:function(){return b}}});c.result.then(function(b){a.param.salesServicesCode=b.salesServicesCode,a.param.salesServicesService=b.salesServicesService})},a.newComplaint=function(){g.go("main.complaint.newComplaint")},a.exit=function(a){window.history.go(-1)}}]),angular.module("crmApp").controller("reply4sDelayApplyCtrl",["$scope","REGEX","Util","CommonModalSearch","codeMasterService","ComplaintApi","CommonGridOperate","$state","$uibModal",function(a,b,c,d,e,f,g,h,i){var j={page:1,limit:150},k=function(){a.pattern=b,a.param=angular.copy(j),a.pageInfo={},a.complaintList=[],a.codeMaster=e.get("base,relay,respond");var h=function(){a.param.page=a.backendPage,a.param.ifSelectDelayInfo=!0,a.param.replyed&&a.param.applyed?a.param.delayStatus="12":a.param.replyed?a.param.delayStatus="2":a.param.applyed?a.param.delayStatus="1":a.param.delayStatus="12",a.promise=f.getList(a.param,function(b){a.pageInfo=b,a.complaintList=a.pageInfo.page.list,a.totalItems=a.pageInfo.page.totalCount,a.formatData(a.complaintList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new d({getData:h})),angular.extend(a,new g)};k(),a.query(),a.resetParam=function(){a.param=angular.copy(j)},a.getServiceStore=function(){var b={},c=i.open({animation:!1,templateUrl:"views/crm/modal/service-field.html",controller:"serviceFieldCtrl",size:"md",resolve:{data:function(){return b}}});c.result.then(function(b){a.param.salesServicesCode=b.salesServicesCode,a.param.salesServicesService=b.salesServicesService})},a.operate=function(a){h.go("main.complaint.newComplaint",{id:a,operate:"replyDelay"})},a.information=function(a,b){a.stopPropagation();var c=i.open({animation:!1,templateUrl:"views/crm/modal/information.html",controller:"InformationCtrl",size:"lg",resolve:{data:function(){return b}}});c.result.then(function(a){})}}]),angular.module("crmApp").controller("carModelFieldCtrl",["$scope","REGEX","Util","CommonModalSearch","codeMasterService","CustomerCarApi","$state","$uibModalInstance","$uibModal","$filter","CommonGridOperate",function(a,b,c,d,e,f,g,h,i,j,k){var l=function(){a.pattern=b,a.param={page:1,limit:150,carModelName:"",carModelCode:""},a.pageInfo={},a.customerCarList=[];var e=function(){a.param.page=a.backendPage,a.promise=f.getCarModelList(a.param,function(b){a.pageInfo=b,a.customerCarList=a.pageInfo.page.list,a.totalItems=a.pageInfo.page.totalCount,a.formatData(a.customerCarList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new d({getData:e})),angular.extend(a,new k)};l(),a.query(),a.cancel=function(){h.dismiss("cancel")},a.selectCarModel=function(b){void 0===b&&(b=a.getSelectIndex(a.grid.rows)),b>=0?h.close(a.grid.rows[b]):c.putSysMsg("warning","2002")}}]),angular.module("crmApp").controller("complaintOperateCtrl",["$scope","$uibModalInstance","Util","REGEX","codeMasterService","data","ComplaintApi","CommonApi","$window",function(a,b,c,d,e,f,g,h,i){function j(b){h.getUserCanSeeUser(function(c){c&&c.length&&(a.users.push({code:"",value:"-- 请选择 --"}),c.forEach(function(c,d){c.userType==b&&a.users.push({code:c.id+"",value:c.realName})}))})}function k(){h.getUserCanSeeDept(function(b){b&&b.length&&(a.depts.push({code:"",value:"-- 请选择 --"}),b.forEach(function(b,c){a.depts.push({code:b.id+"",value:b.dept_name})}))})}var l=function(){a.codeMaster=e.get("callbackType,replyStatus,audit_status",!0),a.data=f,"applyDelay"==f.operateType?a.complaintDelay={complainId:f.complainId}:"replyDelay"==f.operateType?a.complaintDelay={id:f.complaintDelayId,complainId:f.complainId,replyStatus:"",checkDate:new Date}:"applyClose"==f.operateType?(a.complaintFlow={complainId:f.complainId,callbackStatus:"",store:""},a.depts=[],k()):"audit"==f.operateType?a.complaintFlow={id:f.complaintFlowId,complainId:f.complainId,checkStatus:""}:"forward"==f.operateType?(a.complaintForward={complainId:f.complainId,selected:!0,forwardType:!1,forwardTo:""},a.users=[],a.depts=[],k(),j(1),a.$watch("complaintForward.forwardType",function(b,c){a.complaintForward.forwardTo=""})):"distribute"==f.operateType?(a.complaintDistribute={complainId:f.complainId,handleDate:new Date,handleUser:""},a.users=[],j(2)):"changeUser"==f.operateType&&(a.oldComplaintDistribute={},g.getDistributesByComplaintId(f.complainId,function(b){a.oldComplaintDistribute=b[0]}),a.complaintDistribute={complainId:f.complainId,handleDate:new Date,handleUser:""},a.users=[],j(2))};l(),a.applyDelay=function(){g.applyDelay(a.complaintDelay,function(a){0==a.code?(c.putSysMsg("success","1010"),b.close()):c.putSysMsg("danger",a.msg)})},a.replyDelay=function(){g.replyDelay(a.complaintDelay,function(a){0==a.code?(c.putSysMsg("success","1010"),b.close()):c.putSysMsg("danger",a.msg)})},a.applyClose=function(){g.applyClose(a.complaintFlow,function(a){0==a.code?(c.putSysMsg("success","1010"),b.close()):c.putSysMsg("danger",a.msg)})},a.audit=function(){g.audit(a.complaintFlow,function(a){0==a.code?(c.putSysMsg("success","1010"),b.close()):c.putSysMsg("danger",a.msg)})},a.forward=function(){a.complaintForward.forwardType=a.complaintForward.forwardType?0:1,g.forward(a.complaintForward,function(a){0==a.code?(c.putSysMsg("success","1010"),b.close()):c.putSysMsg("danger",a.msg)})},a.distribute=function(){g.distribute(a.complaintDistribute,function(a){0==a.code?(c.putSysMsg("success","1010"),b.close()):c.putSysMsg("danger",a.msg)})},a.changeUser=function(){return a.oldComplaintDistribute.handleUser==a.complaintDistribute.handleUser?void c.putSysMsg("danger","新投诉管理员不能和原投诉管理员相同"):(a.complaintDistribute.id=a.oldComplaintDistribute.id,void g.changeUser(a.complaintDistribute,function(a){0==a.code?(c.putSysMsg("success","1010"),b.close()):c.putSysMsg("danger",a.msg)}))},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("crmApp").controller("customerCarFieldCtrl",["$scope","REGEX","Util","CommonModalSearch","codeMasterService","CustomerCarApi","$state","$uibModalInstance","$uibModal","$filter","CommonGridOperate",function(a,b,c,d,e,f,g,h,i,j,k){var l=function(){a.pattern=b,a.param={page:1,limit:150},a.pageInfo={},a.customerCarList=[];var e=function(){a.param.page=a.backendPage,a.promise=f.getList(a.param,function(b){a.pageInfo=b,a.customerCarList=a.pageInfo.page.list,a.totalItems=a.pageInfo.page.totalCount,a.formatData(a.customerCarList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new d({getData:e})),angular.extend(a,new k)};l(),a.query(),a.cancel=function(){h.dismiss("cancel")},a.selectCustomer=function(b){void 0===b&&(b=a.getSelectIndex(a.grid.rows)),b>=0?h.close(a.grid.rows[b]):c.putSysMsg("warning","2002")}}]),angular.module("crmApp").controller("InformationCtrl",["$scope","$uibModalInstance","Util","codeMasterService","data","ComplaintApi","$filter","$window",function(a,b,c,d,e,f,g,h){var i=function(){a.alerts=[],a.complaint=e};i(),a.cancel=function(){b.dismiss("cancel")}}]),angular.module("crmApp").controller("serviceFieldCtrl",["$scope","REGEX","Util","CommonModalSearch","$uibModalInstance","codeMasterService","$uibModal","CommonGridOperate","CommonApi","$filter",function(a,b,c,d,e,f,g,h,i,j){function k(b){a.serviceList=b,a.totalItems=b.length,a.formatData(a.serviceList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)}var l=function(){a.pattern=b,a.pageInfo={},a.data=[],a.serviceList=[],a.filter={};var c=function(){if(a.data&&a.data.length){var b=j("filter")(a.data,a.filter);k(b)}else a.promise=i.getUserCanSeeDept(function(b){a.data=b,k(b)})};angular.extend(a,new d({getData:c,numPerGet:1e5})),angular.extend(a,new h)};l(),a.query(),a.cancel=function(){e.dismiss("cancel")},a.selectServiceStore=function(b){if(void 0===b&&(b=a.getSelectIndex(a.grid.rows)),b>=0){var d=a.grid.rows[b];e.close({salesServicesCode:d.dept_code,salesServicesService:d.dept_name,id:d.id})}else c.putSysMsg("warning","2002")}}]),angular.module("crmApp").controller("customerCarCtrl",["$scope","REGEX","Util","CommonModalSearch","codeMasterService","CustomerCarApi","$state","$uibModal","$filter","CommonGridOperate",function(a,b,c,d,e,f,g,h,i,j){var k={page:1,limit:150},l=function(){a.pattern=b,a.param=angular.copy(k),a.$parent.getMenuList(),a.pageInfo={},a.customerCarList=[];var e=function(){a.param.page=a.backendPage,a.promise=f.getList(a.param,function(b){a.pageInfo=b,a.customerCarList=a.pageInfo.page.list,a.totalItems=a.pageInfo.page.totalCount,a.formatData(a.customerCarList,a.backendPage,a.numPerGet),a.grid.rows=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet)})};angular.extend(a,new d({getData:e})),angular.extend(a,new j)};l(),a.query(),a.resetParam=function(){a.param=angular.copy(k)},a.cutomerInfo=function(){var b=a.getSelectIndex(a.grid.rows);b>=0?g.go("main.search.customerInfo",{customerCarId:a.grid.rows[b].id}):c.putSysMsg("warning","2002")},a.getServiceStore=function(){var b={},c=h.open({animation:!1,templateUrl:"views/crm/modal/service-field.html",controller:"serviceFieldCtrl",size:"md",resolve:{data:function(){return b}}});c.result.then(function(b){a.param.salesServicesCode=b.salesServicesCode,a.param.salesServicesService=b.salesServicesService,a.param.dealerId=b.id})},a.cutomerAdvice=function(){var b=a.getSelectIndex(a.grid.rows);b>=0||c.putSysMsg("warning","2002")},a.cutomerComplaint=function(){var b=a.getSelectIndex(a.grid.rows);b>=0?g.go("main.complaint.management",{vin:a.grid.rows[b].vin}):c.putSysMsg("warning","2002")},a.pdiResult=function(){var b=a.getSelectIndex(a.grid.rows);b>=0||c.putSysMsg("warning","2002")},a.repairMaint=function(){var b=a.getSelectIndex(a.grid.rows);b>=0?g.go("main.search.repairMaint"):c.putSysMsg("warning","2002")},a.serve=function(){var b=a.getSelectIndex(a.grid.rows);b>=0||c.putSysMsg("warning","2002")}}]),angular.module("crmApp").controller("customerInfoCtrl",["$scope","$stateParams","REGEX","Util","CommonModalSearch","codeMasterService","CustomerCarApi","$uibModal","$state","PAGE_CONST",function(a,b,c,d,e,f,g,h,i,j){var k=function(){a.pattern=c,a.cc={},b.customerCarId?g.getCustomer(b.customerCarId,function(b){a.cc=b.customerCar,a.cc||a.exit();var c=a.cc.customer.knowFrom;c&&-1!=c.indexOf(":")&&(a.cc.customer.knowFrom=c.substring(c.indexOf(":")+1))}):a.exit(),a.codeMaster=f.get("complaint_area,customLevel,complaint_level,complaint_type,base,source,other")};k(),a.exit=function(){window.history.go(-1)}}]),angular.module("crmApp").controller("repairMaintCtrl",["$scope","REGEX","Util","$state","CommonModalSearch","codeMasterService",function(a,b,c,d,e,f){var g=function(){a.pattern=b,a.data={},a.codeMaster=f.get("area_complaint,province"),a.testData=[];for(var d=0;5>d;d++){var g={};g.project_code="BY003",g.project_name1=" 第3次保养",g.work_type="机电",g.account_type="C",g.work_time="0.6",g.work_time_price="100.00",g.before_money="60.00",g.is_time_price="60.000",g.discount="0.00",g.after_money="60",g.insure_scale="0.00",g.project_type="强保",g.fault_code="05",g.fault_phenomenon="行驶时发动机熄火－可以重新起动",g.detect_code="05",g.detect_name="故障",g.is_detect="是",g.detect_man="张志",g.detect_time="2017-01-01",g.service_adviser="王益",g.is_support="是",g.is_check="是",g.is_road="是",g.road_man="袁毅",g.road_time="2016-09-09",g.record_man="王鹏",g.record_time="2017-01-02",g.suggest_project_code="LX-BJ",g.project_name=" 钣金工时",a.testData.push(g)}var h=function(){a.formatData(a.testData,a.backendPage,a.numPerGet),a.data.maintItems=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet),a.data.diagnoseRecords=c.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet),a.totalItems=a.testData.length},i={getData:h};angular.extend(a,new e(i))};g(),a.query(),a.back=function(){d.go("main.search.customerCar")}}]),angular.module("haimaApp").controller("ChangePasswordCtrl",["$scope","$uibModal","$uibModalInstance","$state","Util","MainApi","data",function(a,b,c,d,e,f,g){var h=function(){a.param=g,a.password={},a.alerts=[]};h(),a.changePassword=function(){if(a.password["new"]!==a.password.confirm)return e.putMsg(a.alerts,"warning","1109"),!1;var b={old_pwd:a.password.old,new_pwd:a.password["new"],r_pwd:a.password.confirm};a.promise=f.changePassword(b,function(b){b&&(0===b.code?(e.putSysMsg("success",b.msg),d.go("login")):e.putSysMsg("danger",b.msg),c.close(a.plan))})},a.cancel=function(){c.dismiss("cancel")}}]),angular.module("haimaApp").controller("LoginCtrl",["$scope","$state","md5","userService","localStorageService","Util","LoginApi","$http","transformRequestAsFormPost",function(a,b,c,d,e,f,g,h,i){var j=function(){d.logOut(),e.clearAll(),a.username="crm-001",a.password="123456",a.error=""};j(),a.saveInfo=function(a,b){var c={};c.uid=a.attributes.uid,c.realname=a.attributes.realname,c.username=a.attributes.username,c.token=b,d.set(c)},a.login=function(){h({method:"post",url:"/pcms/cas/oauth2.0/accessToken",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",grant_type:"password",client_id:11,username:a.username,password:a.password}}).success(function(c){var d=c.access_token;d?h({method:"post",url:"/pcms/cas/oauth2.0/profile",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",access_token:d}}).success(function(c){c.id?(a.saveInfo(c,d),b.go("main.welcome")):f.putSysMsg("danger",c.msg)}):f.putSysMsg("danger",c.status)})}}]),angular.module("haimaApp").controller("QueryCtrl",["$scope","$stateParams","$state","$window","Util","PAGE_CONST","PublicApi","QueryApi",function(a,b,c,d,e,f,g,h){var i=function(){a.tableHead=[],a.dataHead=[],a.tableTitle="",a.dealerId="",a.filters=[],a.grid={},a.grid.rows=[],a.grid.data=[],a.currentPage=1,a.backendPage=1,a.totalItems=0,a.numPerPage=f.pageList[1],a.numPerGet=f.numPerGet,a.pageList=f.pageList};i();var j=function(){var c={};a.data?c.p=a.data.p:c.p=b.p,a.promise=h.getQueryCondition(c,function(b){b&&(b.columnJson&&(a.tableHead=l(b),a.dataHead=m()),a.dealerId=b.dealer_id,o(b.rows))})};j();var k=function(b){a.promise=h.getReportData(b,function(b){b&&(r(b,a.backendPage),a.grid.rows=e.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet),a.totalItems=b.total)})},l=function(a){var b=[];b=angular.fromJson(a.columnJson);var c={};return c.align="center",c.colspan=1,c.field="No",c.rowspan=b.length,c.title="No",b[0].unshift(c),b},m=function(){var b=[],c={},d={},e=a.tableHead.length;if("1".equals(e))b=angular.copy(a.tableHead[0]);else{for(var f=0;f<a.tableHead.length;f++){for(var g=0,h=0;h<a.tableHead[f].length;h++){var i=angular.copy(a.tableHead[f][h]);if(i.colspan||(i.colspan=1),g+=i.colspan,e-1>f&&i.rowspan&&i.rowspan===e-f&&"1".equals(i.colspan)||f===e-1){var j=0;for(var k in d)g>=k&&j++;n(c,i,g+j)}}d=angular.copy(c)}for(var l in c)b.push(c[l])}return b},n=function(a,b,c){return a[c]?void n(a,b,c+1):void(a[c]=b)},o=function(b){for(var c in b){a.tableTitle||(a.tableTitle=b[c].title);var d={};d.title=b[c].fieldDisplayName,d.model={},d.sortNum=b[c].sort_num,d.operator=b[c].operator,d.idname="item"+c;var e={};if(b[c].easyuioption){var f="";f="{".equals(b[c].easyuioption.substring(0,1))?b[c].easyuioption:"{"+b[c].easyuioption+"}",f=f.replace(/\'/g,'"').replace(/title/g,'"title"').replace(/href/g,'"href"').replace(/prompt/g,'"prompt"').replace(/required/g,'"required"').replace(/validType/g,'"validType"'),e=JSON.parse(f)}switch("true".equals(e.required)&&(d.required=!0),b[c].controller_type){case"date":d.errMsg="请按照指定格式输入时间。例如:2016-01-01",d.type=b[c].controller_type;break;case"dialog":if(d.type="dialog",!b[c].easyuioption){d.type="text";break}d.sourceData=e;break;case"num":d.type="number",b[c].defaultValue&&(d.model.value=parseInt(b[c].defaultValue));break;case"url":d.type="url",b[c].defaultValue&&(d.model.value=b[c].defaultValue),d.errMsg="请按照正确的格式输入网址。";break;case"dropdown":d.type="select",d.sourceData=[];var g=p(b[c].easyuioption,d.sourceData,b[c].defaultValue);d.model.value=d.sourceData[g];break;default:d.type=b[c].controller_type,b[c].defaultValue&&(d.model.value=b[c].defaultValue)}a.filters.push(d)}},p=function(b,c,d){var e,f=1,h=1,i={id:h,value:""};c.push(i);try{if(b)if(angular.fromJson(b).data)e=angular.fromJson(b).data;else if(angular.fromJson(b).url){var j={};j.url=angular.fromJson(b).url,a.promise=g.getPublicData(j,function(a){if(a){e=angular.copy(a);for(var b in e)i={},i.id=++h,i.value=e[b].name,c.push(i),e[b].name===d&&(f=h-1);return f}})}else e=angular.fromJson(b);for(var k in e)"&nbsp;".equals(e[k])||(i={},i.id=++h,i.value=e[k],c.push(i),e[k]===d&&(f=h-1))}catch(l){f=0}return f},q=function(c){var d={};d.p=b.p,d.dealerId=a.dealerId,d.title=a.tableTitle+"&";for(var f in a.filters){var g="";if(a.filters[f].model.value){switch(a.filters[f].type){case"date":g=e.formatDate(a.filters[f].model.value,"YYYY-MM-DD");break;case"select":g=a.filters[f].model.value.value;break;default:g=a.filters[f].model.value}g&&(d.title+="&"+a.filters[f].sortNum+"="+g)}}return d.page=c,d.rows=a.numPerGet,d},r=function(b,c){a.grid.data=[];for(var d=0;d<b.rows.length;d++){var e=[];e.push({id:0,value:d+1+(c-1)*a.numPerGet});for(var f in a.dataHead){var g={};g.id=f;for(var h in b.rows[d])if(h===a.dataHead[f].field){g.value=b.rows[d][h],e.push(g);break}}a.grid.data.push(e)}};a.query=function(b){var c=1+(a.backendPage-1)*a.numPerGet/a.numPerPage,d=a.backendPage*a.numPerGet/a.numPerPage;if(!b&&a.grid.data.length>0&&a.currentPage>=c&&a.currentPage<=d)a.grid.rows=e.getCurrentPageData(a.grid.data,a.currentPage,a.backendPage,a.numPerPage,a.numPerGet);else{b&&(a.currentPage=1),a.backendPage=Math.ceil(a.currentPage*a.numPerPage/a.numPerGet);var f=q(a.backendPage);k(f)}},a.exportExcel=function(c,e){var f=q(a.backendPage),g="/index/Index/report?p="+b.p+"&dealer_id="+a.dealerId+"&print="+e+"&excel=&title="+f.title;"1".equals(e)?d.open(g):d.location.href=g},a.refresh=function(){c.reload()}}]),angular.module("haimaApp").controller("MainCtrl",["$scope","$window","$location","$state","$rootScope","$uibModal","Util","HAIMA_END_POINT","userService","codeMasterService","localStorageService","MainApi","CommonApi",function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=function(){e.bodyClass="",a.menu=[],a.secondMenu=[],a.selMenu={},e.selectMenu=a.selMenu,e.crmAuths=[],a.iconMatrix={},a.isNewWindow=k.get("isNewWindow")||!1,e.currentUser=i.initFromCookies(),j.get(),g.isStored("haimaCrmIcon")?a.iconMatrix=k.get("haimaCrmIcon"):a.iconPromise=l.getIconMateData(function(b){k.set("haimaCrmIcon",b.iconMatrix),a.iconMatrix=b.iconMatrix})};n();var o=function(){var a=c.path();return"/index/query".equals(a)&&(a=c.url()),a},p=function(b,c){for(var d=!1,e=0;e<b.length;e++){if(d)return d;var f=b[e].children;_.forOwn(f,function(f){var g=f.children;_.forOwn(g,function(g){if(g.url===c)return a.topMenuClick(b[e]),a.toggleOpen(f),a.activeSMenu(f,g),void(d=!0);if(g.children){var h=g.children;_.forOwn(h,function(h){h.url===c&&(a.topMenuClick(b[e]),a.toggleOpen(f),a.toggleOpen(g),a.activeTMenu(f,g,h),d=!0)})}})})}return d};a.logout=function(){i.logOut(),k.clearAll(),d.go("login")};var q=function(b){if(b&&b.length){var c=[];for(var d in b)b[d].text&&(b[d].text=b[d].text.replace(/[0-9a-zA-Z]+/,""),c.push(b[d]),b[d]&&b[d].children&&b[d].children.forEach(function(a){a&&a.children&&a.children.forEach(function(a){a&&a.children&&a.children.forEach(function(a){e.crmAuths.push(a.url)})})}));var f=o(),g=p(c,f);a.menu=c,g||(a.menu[0].active=!0,a.topMenuClick(a.menu[0]))}else a.logout()};a.getMenuList=function(){if(g.isStored("haimaCrmMenu")){var a=k.get("haimaCrmMenu");q(a)}else e.menuPromise=m.getMenu(function(a){return a.data?(k.set("haimaCrmMenu",a.data),void q(a.data)):void g.putSysMsg("danger","400")})},a.navMenuToggle=function(){e.bodyClass?e.bodyClass="":e.bodyClass="navigation-small"},a.changePassword=function(){var a={};f.open({animation:!1,templateUrl:"views/index/change-password.html",controller:"ChangePasswordCtrl",size:"sm",resolve:{data:function(){return a}}})},a.setting=function(){b.open("/toolbox/settings","系统设置")},a.topMenuClick=function(b){if(a.secondMenu=[],a.iconMatrix["default"])for(var c in b.children)a.secondMenu.push(b.children[c]),a.iconMatrix[b.children[c].text]?b.children[c].icon=a.iconMatrix[b.children[c].text]:b.children[c].icon=a.iconMatrix["default"];else for(var c in b.children)a.secondMenu.push(b.children[c]),a.iconMatrix[b.children[c].text]?b.children[c].icon=a.iconMatrix[b.children[c].text]:b.children[c].icon=a.iconMatrix["default"];a.initTopSel(),b.active=!0},a.initTopSel=function(){for(var b=0;b<a.menu.length;b++)a.menu[b].active=!1},a.toggleOpen=function(a){a.open?a.open=!1:a.open=!0,a.invisable=!1},a.clearOpen=function(a,b){for(var c=0;c<a.length;c++)a[c].text!==b.text&&(a[c].open=!1)},a.openMenu=function(a){a.open=!0},a.activeSMenu=function(b,c){for(var d=0;d<a.secondMenu.length;d++){a.secondMenu[d].active=!1;for(var e in a.secondMenu[d].children)a.secondMenu[d].children[e].active=!1}b.active=!0,c.active=!0,a.selMenu.sMenu=b,a.selMenu.tMenu=c,a.selMenu.fMenu={},b.invisable=!0},a.activeTMenu=function(b,c,d){for(var e=0;e<a.secondMenu.length;e++){a.secondMenu[e].active=!1;for(var f in a.secondMenu[e].children){a.secondMenu[e].children[f].active=!1;for(var g in a.secondMenu[e].children[f].children)a.secondMenu[e].children[f].children[g].active=!1}}a.selMenu.sMenu=b,a.selMenu.tMenu=c,b.invisable=!0,b.active=!0,c.active=!0,d?(a.selMenu.fMenu=d,d.active=!0):a.selMenu.fMenu={}},a.$watch("isNewWindow",function(a,b){k.set("isNewWindow",a)}),a.openMenu=function(c,e,f,g){var h=o();return c.equals(h)?void d.reload():void("/".equals(h)||"/welcome".equals(h)||!a.isNewWindow?(a.activeTMenu(e,f,g),b.location.href="#"+c):b.open("#"+c))},a.getMenuList(),m.getDeptAll()}]),angular.module("haimaApp").controller("WelcomeCtrl",["$scope",function(a){var b=function(){
a.expanders=[{title:"点我",text:"Hi there folks, I am the content that was hidden but is now shown."},{title:"Click this",text:"I am even better text than you have seen previously"},{title:"Test",text:"test"}]};b();var c=function(){};c()}]).factory("WelcomeApi",["API_END_POINT","sendRequest",function(a,b){var c=function(c,d){var e=a.url+"/data",f="get";return b.send(e,f,c,d)};return{getData:c}}]),angular.module("haimaApp").factory("authInterceptor",["$rootScope","$q","$cookies","$injector","Util","TOKEN_NAME","$window","COMPLAINT_API_END_POINT","UMS_API_END_POINT",function(a,b,c,d,e,f,g,h,i){return{request:function(a){a.headers=a.headers||{};var b=0==a.url.indexOf(h.url);if(b&&c.get(f)&&e.isSameOrigin(a.url)){var d;try{d=JSON.parse(decodeURIComponent(c.get(f)))}catch(g){d={}}a.headers.access_token=d.token}return a},responseError:function(a){return 401===a.status?(c.remove(f),window.alert("token无效，请重新登录"),d.get("$state").go("login")):(-1===a.status||400===a.status||403===a.status||404===a.status||500===a.status||501===a.status||502===a.status||503===a.status||504===a.status)&&(400===a.status?e.putSysMsg("danger",a.data&&a.data.message||"400"):e.putSysMsg("danger",a.status)),b.reject(a)}}}]).config(["$httpProvider",function(a){a.interceptors.push("authInterceptor")}]).service("userService",["$rootScope","$cookies","$state","TOKEN_NAME",function(a,b,c,d){function e(){try{i?b.put(d,JSON.stringify(i)):b.put(d,"")}catch(a){i={},b.put(d,"")}}function f(a,b){i[a]=b,e()}function g(a){i=a,e()}function h(a){return i[a]}var i={};this.get=function(a){return a?h(a):i},this.set=function(a,b){return angular.isObject(a)?g(a):void f(a,b)},this.isLogin=function(){return!0},this.logOut=function(){a.currentUser="",a.crmAuths="",g({})},this.getAuth=function(){return{token:i.token}},this.initFromCookies=function(){try{i=JSON.parse(b.get(d))||{}}catch(a){i={},b.put(d,"")}return i},a.userService=this}]),angular.module("haimaApp").factory("LoginApi",["API_END_POINT","sendRequest",function(a,b){var c=function(c,d,e){var f=a.url+"/Index/dmsLogin?username="+c+"&password="+d,g="get",h={};return b.send(f,g,h,e)};return{loginUser:c}}]).factory("MainApi",["$http","$state","API_END_POINT","sendRequest",function(a,b,c,d){var e=function(a){var b="data/menu.json",c="get",e={};return d.send(b,c,e,a)},f=function(a){var b="data/icon-mate.json",c="get",e={};return d.send(b,c,e,a)},g=function(a,b){var c="data/china.json",e="get",a={};return d.send(c,e,a,b)},h=function(a){var b=c.url+"/index/logout",e="get",f={};return d.send(b,e,f,a)},i=function(a,b){var e=c.url+"/service/changePassword",f="post";return d.send(e,f,a,b)};return{getMenu:e,getIconMateData:f,getMap:g,logout:h,changePassword:i}}]).factory("QueryApi",["API_END_POINT","sendRequest",function(a,b){var c=function(c,d){var e=a.url+"/index/query?p="+c.p,f="get";return b.send(e,f,c,d)},d=function(c,d){var e=a.url+"/index/report?p="+c.p+"&dealer_id="+c.dealerId+"&title="+c.title,f="post";return b.send(e,f,c,d)};return{getQueryCondition:c,getReportData:d}}]).factory("PublicApi",["API_END_POINT","HAIMA_END_POINT","sendRequest",function(a,b,c){var d=function(a,d){var e=b.url+a.url,f="get";return c.send(e,f,a,d)},e=function(a,d){var e=b.url+a.url,f="get";return c.send(e,f,a,d)},f=function(b,d){var e=a.url+"/partscommon/doPrint",f="post";return c.send(e,f,b,d)};return{getPublicData:d,getDialogContent:e,doPrint:f}}]).factory("CommonApi",["API_END_POINT","UMS_API_END_POINT","TOKEN_NAME","$cookies","sendRequest","userService","localStorageService",function(a,b,c,d,e,f,g){var h=f.initFromCookies(),i=[],j=function(a){var b="data/code-master.json",c="get",d={};return e.send(b,c,d,a)},k=function(a,c,d){var f=b.url+"/api",g="post";return angular.extend(c,{act:a,ticket:b.ticket}),e.send(f,g,c,d)},l=function(a){h=f.initFromCookies();var c=b.url+"/api3/get_usercansee_pagerese",d="post",g={username:h.username,ticket:b.ticket};return e.send(c,d,g,a)},m=function(a){k("get_area_all",{username:h.username},a)},n=function(a){k("get_usercansee_dept",{username:h.username},a)},o=function(a){k("get_usercansee_user",{username:h.username},a)},p=function(){return 0!=i.length?i:void k("get_dept_all",{},function(a){return a.forEach(function(a){i[a.id]=a}),i})};return{getCodeMaster:j,getUmsResource:k,getMenu:l,getArea:m,getUserCanSeeDept:n,getUserCanSeeUser:o,getDeptAll:p}}]),angular.module("crmApp").factory("GeneralInvoiceEntity",["$resource","API_END_POINT",function(a,b){return a("http://localhost:8080/pcms-api/track/potentialCustomers/:id",{id:"@id"},{query:{isArray:!1},update:{method:"PUT"}})}]).factory("VatInvoiceEntity",["$resource","API_END_POINT",function(a,b){return a(b.url+"/addedTaxInvoice/:id",{id:"@id"},{query:{isArray:!1},update:{method:"PUT"},getExpressCompanyList:{method:"GET",params:{id:"expressCompany"}}})}]).factory("AddedTaxInvoiceEntity",["$resource","API_END_POINT",function(a,b){return a(b.url+"/addedTaxInvoice/model/:id",{id:"@id"},{query:{isArray:!1},update:{method:"PUT"}})}]).factory("UnbindvehicleEntity",["$resource","API_END_POINT",function(a,b){return a(b.url+"/userCars/:id",{id:"@id"},{query:{isArray:!1},updateStatus:{method:"POST"}})}]).factory("UserAnalysisEntity",["$resource","API_END_POINT",function(a,b){return a(b.url+"/information/daily/:id",{id:"@id"},{query:{isArray:!1},updateStatus:{method:"POST"}})}]).factory("UserPackageStatusReportEntity",["$resource","API_END_POINT",function(a,b){return a(b.url+"/user/report",{},{query:{isArray:!1}})}]).factory("ReserveAnalysisEntity",["$resource","API_END_POINT",function(a,b){return a(b.url+"/information/retention/:id",{id:"@id"},{query:{isArray:!1},updateStatus:{method:"POST"}})}]).factory("BannersEntity",["$resource","API_END_POINT",function(a,b){return a(b.url+"/banners/:id",{id:"@id"},{query:{isArray:!1},update:{method:"PUT"}})}]).factory("UserEntitiy",["$resource","API_END_POINT",function(a,b){return a(b.url+"/user/:id",{id:"@id"},{query:{isArray:!1}})}]).factory("FileEntityPc",["$q","Upload","API_END_POINT",function(a,b,c){return{upload:function(d){var e=a.defer();return b.upload({url:c.url+"/banners/uploadImage",data:{file:d}}).then(function(a){e.resolve(a)},function(a){e.reject(a)},function(a){e.notify(a);parseInt(100*a.loaded/a.total)}),e.promise}}}]),angular.module("haimaApp").factory("ComplaintApi",["COMPLAINT_API_END_POINT","sendRequest",function(a,b){var c=function(c,d){var e=a.url+"/complaint/listcomplaint",f="post";return b.send2Java(e,f,c,d)},d=function(b,c){var d=a.url+"/complaint/export";return d},e=function(c,d){var e=a.url+"/complaint/statistics/analysis/list",f="post";return b.send2Java(e,f,c,d)},f=function(c,d){var e=a.url+"/complaint/statistics/satisfaction/list",f="post";return b.send2Java(e,f,c,d)},g=function(c,d){var e=a.url+"/complaint/info/"+c,f="get",g={};return b.send(e,f,g,d)},h=function(c,d){var e=a.url+"/complaint/save",f="post";return b.send2Java(e,f,c,d)},i=function(c,d){var e=a.url+"/complaint/update",f="post";return b.send2Java(e,f,c,d)},j=function(c,d){var e=a.url+"/complaintdeallog/update",f="post";return b.send2Java(e,f,c,d)},k=function(c,d){var e=a.url+"/complaintdeallog/delete/"+c,f="post";return b.send2Java(e,f,null,d)},l=function(c,d){var e=a.url+"/complaintdelay/save",f="post";return b.send2Java(e,f,c,d)},m=function(c,d){var e=a.url+"/complaintdelay/reply",f="post";return b.send2Java(e,f,c,d)},n=function(c,d){var e=a.url+"/complaintflow/save",f="post";return b.send2Java(e,f,c,d)},o=function(c,d){var e=a.url+"/complaintflow/audit",f="post";return b.send2Java(e,f,c,d)},p=function(c,d){var e=a.url+"/complaintforward/save",f="post";return b.send2Java(e,f,c,d)},q=function(c,d){var e=a.url+"/complaintdistribute/save",f="post";return b.send2Java(e,f,c,d)},r=function(c,d){var e=a.url+"/complaintdistribute/change",f="post";return b.send2Java(e,f,c,d)},s=function(c,d){var e=a.url+"/complaintdistribute/getByComplaintId/"+c,f="get",g={};return b.send(e,f,g,d)};return{getList:c,getExportUrl:d,getOne:g,save:h,update:i,updateRecords:j,deleteRecord:k,applyDelay:l,replyDelay:m,applyClose:n,audit:o,forward:p,distribute:q,changeUser:r,getDistributesByComplaintId:s,getAnalysisList:e,getSatisfactionList:f}}]),angular.module("haimaApp").factory("CustomerCarApi",["COMPLAINT_API_END_POINT","sendRequest",function(a,b){var c=function(c,d){var e=a.url+"/crm/customer/car/list",f="post";return b.send2Java(e,f,c,d)},d=function(c,d){var e=a.url+"/crm/customer/car/info/"+c,f="get",g={};return b.send(e,f,g,d)},e=function(c,d){var e=a.url+"/carmodel/list?page="+c.page+"&limit="+c.limit+"&carModelCode="+c.carModelCode+"&carModelName="+c.carModelName,f="get";return b.send2Java(e,f,c,d)};return{getList:c,getCustomer:d,getCarModelList:e}}]),angular.module("haimaApp").factory("transformRequestAsFormPost",function(){function a(a){var b="";if(angular.isObject(a)){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];angular.isObject(e)?(e=angular.toJson(e),c.push(encodeURIComponent(d)+"="+encodeURIComponent(e))):c.push(encodeURIComponent(d)+"="+(null===e||void 0===e?"":encodeURIComponent(e)))}b=c.join("&").replace(/%20/g,"+")}else b=null===a||void 0===a?"":a.toString();var f="";return b+f}function b(b){return a(b)}return b}).service("codeMasterService",["$http","CommonApi","Util","localStorageService",function(a,b,c,d){function e(a,b,c){var d,e={code:"",value:"--请选择--",sort:0};if(b){for(var f={},g=b.split(","),h=0;h<g.length;h++)for(d in a)if(g[h]===d){var i=a[d];c&&i.unshift(e),f[d]=i}return f}var j=a;if(c)for(d in j)j[d].unshift(e);return j}this.get=function(a,f){var g={},h={};return c.isStored("haimaCrmCodeMaster")?(h=d.get("haimaCrmCodeMaster"),g=e(h,a,f)):void b.getCodeMaster(function(b){return b?(h=b,d.set("haimaCrmCodeMaster",h),g=e(h,a,f)):void 0})}}]).service("sendRequest",["$http","$rootScope","$state","transformRequestAsFormPost","Util","localStorageService",function(a,b,c,d,e,f){var g=function(a,b){a?a.code&&0!==a.code&&"0"!==a.code&&200!==a.code&&"200"!==a.code?((10006===a.code||10007===a.code)&&(e.putSysMsg("danger",a.code),f.clearAll(),c.go("login")),b(a)):b(a):(e.putSysMsg("danger","400"),b(null,"400"))},h=function(a,b,c,d){},i=function(a,b){return a.success(function(a){g(a,b)}).error(function(a,b,c,d){h(a,b,c,d)})};this.send=function(b,c,e,f){var g=a({method:c,url:b,transformRequest:d,data:e,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}});return i(g,f)},this.send2Java=function(b,c,e,f){var g=a({method:c,url:b,transformRequest:d,data:JSON.stringify(e),headers:{"Content-Type":"application/json;charset=UTF-8"}});return i(g,f)},this.upload=function(b,c,d,e){var f=a({method:c,url:b,transformRequest:null,data:d,headers:{"Content-Type":void 0}});return i(f,e)}}]),angular.module("haimaApp").factory("Util",["$window","$rootScope","$translate","API_END_POINT","$injector",function(a,b,c,d,e){var f={safeCb:function(a){return angular.isFunction(a)?a:angular.noop},urlParse:function(a){var b=document.createElement("a");return b.href=a,""===b.host&&(b.href=b.href),b},isSameOrigin:function(b,c){return b=f.urlParse(b),c=c&&[].concat(c)||[],c=c.map(f.urlParse),c.push(a.location),c=c.filter(function(a){return b.hostname===a.hostname&&b.port===a.port&&b.protocol===a.protocol}),c.length>=1},deleteRow:function(a,b){var c=b.options.data.indexOf(a.entity);b.options.data.splice(c,1)},putMsg:function(a,b,d,e){var f=!1;for(var g in a)a[g].type===b&&a[g].code===d&&a[g].param===e&&(f=!0);f||(e?c(e).then(function(c){a.push({type:b,code:d,param:{param:c}})}):a.push({type:b,code:d,param:null}))},putSysMsg:function(a,c,d){this.putMsg(b.systemAlert,a,c,d)},putMainMsg:function(a,c,d){this.putMsg(b.mainAlert,a,c,d)},formatDate:function(a,b){return b||(b="YYYY-MM-DD"),moment(a).format(b)},getValueByCodeOfCodeMaster:function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(b===d.code)return d.value}return b},getIdxForUiGrid:function(a,b,c){return(b-1)*c+a},getCurrentPageData:function(a,b,c,d,e){for(var f=[],g=(b-1)*d-(c-1)*e,h=g;g+d>h;h++)a[h]&&f.push(a[h]);return f},selectOneRow:function(a,b){for(var c=0;c<a.length;c++)c===b?a[c].selected=!0:a[c].selected=!1},getFilterRulesStr:function(a,b,c){for(var d in a)a[d]&&c.push({field:d,op:"contains",value:b[d]})},sortByKey:function(a,b){return a.sort(function(a,c){var d=a[b],e=c[b];return e>d?-1:d>e?1:0})},toDecimal:function(a){var b=parseFloat(a);if(!isNaN(b))return b=Math.round(100*a)/100},toDecimal2:function(a){var b=parseFloat(a);if(!isNaN(b)){b=Math.round(100*a)/100;var c=b.toString(),d=c.indexOf(".");for(0>d&&(d=c.length,c+=".");c.length<=d+2;)c+="0";return c}},clearTreeSelection:function(a){for(var b=0;b<a.length;b++){for(var c=0;c<a[b].child.length;c++)a[b].child[c].active=!1;a[b].active=!1}},inheritObj:function(a){var b=function(){};return b.prototype=a,new b},formatDateToMinTime:function(a){var b="";if(a){var c=a.getFullYear(),d=a.getMonth(),e=a.getDate();b=new Date(c,d,e,0,0,0,0)}return b},formatDateToMaxTime:function(a){var b="";if(a){var c=a.getFullYear(),d=a.getMonth(),e=a.getDate();b=new Date(c,d,e,23,59,59,999)}return b},formatDateFromBe:function(a){return"0000-00-00 00:00:00".equals(a)&&(a=null),a?new Date(a):null},formatDateToBe:function(a){return a?f.formatDate(a,"YYYY-MM-DD"):""},isStored:function(a){var b=e.get("userService"),c=e.get("localStorageService");return b.isLogin()&&c.isSupported&&c.get(a)?!0:!1},isEmpty:function(a){var b=!1;return(null===a||void 0===a||""===a)&&(b=!0),b},isNotEmpty:function(a){var b=!1;return null!==a&&void 0!==a&&""!==a&&(b=!0),b},exportFromUrl:function(b){var c=e.get("userService"),f=e.get("$state");b&&(b=d.url+b,c.isLogin()?(b+=-1!==b.lastIndexOf("?")?"&":"?",b+="token="+c.getAuth().token):f.go("login"),a.open(b))},printFromUrl:function(a){this.exportFromUrl(a)},getSelectTextByValue:function(a,b,c,d){for(var e in a){var g=a[e];if(f.isNotEmpty(c)&&c.equals(g[b]))return g[d]}},convertForFlgDisplay:function(a){return f.isNotEmpty(a)&&"0".notEquals(a)?"1":"0"}};return f}]),angular.module("haimaApp").run(["$templateCache",function(a){a.put("views/crm/complaint/apply-delay-condition.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-click="query(true)">查询</button> <button type="button" class="btn btn-default" ng-click="resetParam()">重置</button> </div> </div> <form class="form-horizontal" name="form"> <div class="form-group"> <!-- <div class="col-12-6-4">\r\n        <input-combo type="text" title="档案编号" idname="fileNo" ng-model="param.fileNo"></input-combo>\r\n      </div> --> <div class="col-12-6-4"> <input-combo type="text" title="投诉单号" idname="complainCode" ng-model="param.complainCode"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="客户姓名" idname="custormerName" ng-model="param.custormerName"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="车牌号" idname="plateNo" ng-model="param.plateNo"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="VIN码" idname="vin" ng-model="param.vin"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="投诉管理员" idname="complainAdmin" ng-model="param.complainAdmin"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="所属基地" idname="base" ng-model="param.complainBase" source-data="codeMaster.base"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="投诉时间" idname="complainTimeStart" ng-model="param.complainTimeStart" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="到" idname="complainTimeEnd" ng-model="param.complainTimeEnd"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="服务店代号" idname="salesServicesCode" ng-model="param.salesServicesCode" err-msg="该输入项为必输项" ng-disabled="editMode" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="销售服务店（服务）" idname="salesServicesService" ng-model="param.salesServicesService" err-msg="该输入项为必输项" ng-disabled="editMode" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="switch" title="总部是否批准" ng-model="param.audited"></input-combo> </div> </div> </form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>投诉单号</th> <th>销售服务店(服务)</th> <th>客户姓名</th> <th>投诉时间</th> <th>车牌号</th> <th>延迟理由</th> <th>预计完成时间</th> <th>批复意见</th> <th>批复日期</th> </tr> <tr ng-repeat="row in grid.rows track by $index" ng-class="{\'info\':row.isSelect}" ng-click="selectGridData($index, grid.rows)"> <td class="text-right">{{(currentPage-1)*numPerPage + $index+1}}</td> <td> <a href="javascript:void(0);" ng-click="information($event, row)">{{row.complainCode}}</a> </td> <td>{{row.salesServicesService}}</td> <td>{{row.custormerName}}</td> <td>{{row.complainTime | date:\'yyyy-MM-dd HH:mm\'}}</td> <td>{{row.plateNo}}</td> <td>{{row.complaintDelay.delayReason}}</td> <td>{{row.complaintDelay.estimateFinishTime | date:\'yyyy-MM-dd HH:mm\'}}</td> <td>{{row.complaintDelay.checkInfo}}</td> <td>{{row.complaintDelay.checkDate | date:\'yyyy-MM-dd\'}}</td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="10">没有符合条件的数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div>'),a.put("views/crm/complaint/complaint-count.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-click="query(true)">查询</button> <button type="button" class="btn btn-default" ng-click="resetParam()">重置</button> </div> </div> <form class="form-horizontal" name="form"> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="date" title="投诉时间" idname="startDate" ng-model="param.complainTimeStart" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="到" idname="endDate" ng-model="param.complainTimeEnd"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="服务店代号" idname="client_name" ng-model="param.salesServicesCode" ng-disabled="editMode" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="统计方式" idname="statisticsType" ng-model="param.statisticsType" source-data="codeMaster.statisticsType"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="销售服务店（服务）" idname="client_name" ng-model="param.salesServicesService" ng-disabled="editMode" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="投诉类型" idname="client_name" ng-model="param.complainType" source-data="codeMaster.complaint_type"></input-combo> </div> <label for="" style="padding-left: 45px;margin-right: 10px;float: left">统计方式</label> <div style="float: left"> <label class="radio-inline"> <input type="radio" ng-model="param.statisticsType" id="inlineRadio1" value="st_ct"> <span>按投诉类型</span> </label> <label class="radio-inline"> <input type="radio" ng-model="param.statisticsType" id="inlineRadio2" value="st_sss"> <span>按销售服务店（服务）</span> </label> <label class="radio-inline"> <input type="radio" ng-model="param.statisticsType" id="inlineRadio4" value="st_ca"> <span>按投诉管理员</span> </label> <!-- <label class="radio-inline">\r\n          <input type="radio" ng-model="param.statisticsType" id="inlineRadio4" value="st_cct"> <span>按关闭情况</span>\r\n        </label> \r\n        <label class="radio-inline">\r\n          <input type="radio" ng-model="param.statisticsType" id="inlineRadio5" value="st_oct"> <span>按单一投诉类型</span>\r\n        </label>\r\n        <label class="radio-inline">\r\n          <input type="radio" ng-model="param.statisticsType" id="inlineRadio6" value="st_cc"> <span>按投诉总量</span>\r\n        </label> --> <label class="radio-inline"> <input type="radio" ng-model="param.statisticsType" id="inlineRadio7" value="st_v"> <span>按车型</span> </label> <label class="radio-inline"> <input type="radio" ng-model="param.statisticsType" id="inlineRadio8" value="st_cb"> <span>按所属基地</span> </label> </div> </div> </form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>统计方式</th> <th>发生投诉数量</th> <th>发生投诉所占全国比例</th> <th>关闭投诉数量</th> <th>关闭所占比例</th> <th>及时关闭量</th> <th>投诉处理满意度</th> <th>投诉及时响应率</th> </tr> <tr ng-repeat="row in grid.rows track by $index" ng-class="{\'info\':row.selected}" ng-click="selectRow($index)" ng-dblclick="ok()"> <td class="text-right">{{(currentPage-1)*numPerPage + $index+1}}</td> <td>{{statisticsTypeName}}</td> <td>{{row.complaintCount}}</td> <td>{{row.complaintCountRatio}}</td> <td>{{row.closeComplaintCount}}</td> <td>{{row.closeComplaintCountRatio}}</td> <td>{{row.timelyCloseComplaintCount}}</td> <td>{{row.complaintSatisfactionRatio}}</td> <td>{{row.timelyComplaintHandlingRatio}}</td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="9">没有符合条件的数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div>'),a.put("views/crm/complaint/complaint-delayed-application.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <button type="button" class="btn btn-default btn-sm" ng-click="query(true)">查询</button> <button type="button" class="btn btn-default" ng-click="resetParam()">重置</button> <button type="button" class="btn btn-default btn-sm" ng-click="operate(\'applyDelay\')">延迟申请</button> </div> <form class="form-horizontal" name="form"> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="text" title="投诉单号" idname="complainCode" ng-model="param.complainCode"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="投诉时间" idname="startDate" ng-model="param.complainTimeStart" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="到" idname="endDate" ng-model="param.complainTimeEnd" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="客户姓名" idname="custormerName" ng-model="param.custormerName"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="Vin码" idname="vin" ng-model="param.vin"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="车牌号" idname="plateNo" ng-model="param.plateNo"></input-combo> </div> <!-- <div class="col-12-6-4">\r\n        <input-combo type="switch" title="已申请" idname="applyed" ng-model="param.applyed"></input-combo>\r\n      </div> --> <div class="col-12-6-4"> <!-- <input-combo type="switch" title="已批复" idname="replyed" ng-model="param.replyed"></input-combo> --> <input-combo type="select" title="延迟状态" idname="delayStatus" ng-model="param.delayStatus" source-data="codeMaster.delay_status"></input-combo> </div> </div> </form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>投诉单号</th> <th>客户姓名</th> <th>投诉时间</th> <th>Vin码</th> <th>电话</th> <th>车牌号</th> <th>投诉类型</th> <th>投诉级别</th> <th>投诉状态</th> <th>延迟状态</th> </tr> <tr ng-repeat="row in grid.rows track by $index" ng-class="{\'info\':row.isSelect}" ng-click="selectGridData($index, grid.rows)"> <td class="text-right">{{(currentPage-1)*numPerPage + $index+1}}</td> <td> <a href="javascript:void(0);" ng-click="information($event, row)">{{row.complainCode}}</a> </td> <td>{{row.custormerName}}</td> <td>{{row.complainTime | date:\'yyyy-MM-dd HH:mm\'}}</td> <td>{{row.vin}}</td> <td>{{row.phoneNo}}</td> <td>{{row.plateNo}}</td> <td>{{row.complainType | codeMasterFilter:\'complaint_type\'}}</td> <td>{{row.complainLevel | codeMasterFilter:\'level\'}}</td> <td>{{row.complainStatus | codeMasterFilter:\'complaint_state\'}}</td> <td>{{row.delayStatus | codeMasterFilter:\'delay_status\'}}</td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="11">没有符合条件的数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div>'),a.put("views/crm/complaint/complaint-form.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <button type="button" class="btn btn-default btn-sm" ng-click="query(true)">查询</button> <button type="button" class="btn btn-default btn-sm" ng-click="resetParam()">重置</button> <button type="button" class="btn btn-default btn-sm" ng-click="operate(\'distribute\')">分配</button> <button type="button" class="btn btn-default btn-sm" ng-click="operate(\'changeUser\')">更換</button> </div> <form class="form-horizontal" name="form"> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="text" title="投诉单号" idname="bill" ng-model="param.complainCode"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="投诉时间" idname="startDate" ng-model="param.complainTimeStart" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="到" idname="endDate" ng-model="param.complainTimeEnd" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="客户姓名" idname="name" ng-model="param.custormerName"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="Vin码" idname="vin" ng-model="param.vin"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="车牌号" idname="car_number" ng-model="param.plateNo"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="分配更换状态" idname="distributeStatus" ng-model="param.distributeStatus" source-data="codeMaster.distribution"></input-combo> </div> </div> </form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>投诉单号</th> <th>客户姓名</th> <th>投诉时间</th> <th>需完成时间</th> <th>投诉来源</th> <th>投诉类型</th> <th>分配更换状态</th> <th>投诉级别</th> <th>销售服务店（销售）</th> <th>销售服务店（服务）</th> </tr> <tr ng-repeat="row in grid.rows track by $index" ng-class="{\'info\':row.isSelect}" ng-click="selectGridData($index, grid.rows)" ng-dblclick="ok()"> <td class="text-right">{{(currentPage-1)*numPerPage + $index+1}}</td> <td> <a href="javascript:void(0);" ng-click="information($event, row)">{{row.complainCode}}</a> </td> <td>{{row.custormerName}}</td> <td>{{row.complainTime | date:\'yyyy-MM-dd HH:mm\'}}</td> <td>{{row.finishTime | date:\'yyyy-MM-dd HH:mm\'}}</td> <td>{{row.complainSource | codeMasterFilter:\'source\'}}</td> <td>{{row.complainType | codeMasterFilter:\'complaint_type\'}}</td> <td>{{row.distributeStatus | codeMasterFilter:\'distribution\'}}</td> <td>{{row.complainLevel| codeMasterFilter:\'complaint_level\'}}</td> <td>{{row.salesServicesStore}}</td> <td>{{row.salesServicesService}}</td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="11">没有符合条件的数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div>'),a.put("views/crm/complaint/complaint-history.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-click="exit()">返回</button> </div> </div> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>投诉单号</th> <th>投诉时间</th> <th>客户姓名</th> <th>联系方式</th> <th>投诉类型</th> <th>投诉来源</th> <th>满意度</th> <th>销售服务店（服务）</th> <th>投诉状态</th> </tr> <tr ng-repeat="row in grid.rows track by $index"> <td class="text-right">{{(currentPage-1)*numPerPage + $index+1}}</td> <td>{{row.complainCode}}</td> <td>{{row.complainTime | date:\'yyyy-MM-dd HH:mm\'}}</td> <td>{{row.custormerName}}</td> <td>{{row.phoneNo}}</td> <td>{{row.complainType | codeMasterFilter:\'complaint_type\'}}</td> <td>{{row.complainLevel | codeMasterFilter:\'complaint_level\'}}</td> <td>{{row.satisfactionDegree | codeMasterFilter:\'satisfaction\'}}</td> <td>{{row.salesServicesService}}</td> <td>{{row.complainStatus | codeMasterFilter:\'complaint_state\'}}</td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="10">无投诉历史数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div>'),a.put("views/crm/complaint/complaint-new.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-if="crmAuths.indexOf(\'complaint_edit\')!=-1" ng-disabled="form.$invalid" ng-click="save()">保存</button> <button type="button" class="btn btn-default" ng-if="crmAuths.indexOf(\'complaint_forward\')!=-1" ng-disabled="complaint.forwardStatus==1" ng-click="operate(\'forward\')">转发</button> <button type="button" class="btn btn-default" ng-if="crmAuths.indexOf(\'complaint_applyDelay\')!=-1" ng-disabled="complaint.complainStatus!=1 || complaint.delayStatus!=0" ng-click="operate(\'applyDelay\')">延迟申请</button> <button type="button" class="btn btn-default" ng-if="crmAuths.indexOf(\'complaint_replyDelay\')!=-1" ng-disabled="complaint.delayStatus!=1" ng-click="operate(\'replyDelay\')">批复申请</button> <button type="button" class="btn btn-default" ng-if="crmAuths.indexOf(\'complaint_applyClose\')!=-1" ng-disabled="complaint.complainStatus!=1" ng-click="operate(\'applyClose\')">申请关闭</button> <button type="button" class="btn btn-default" ng-if="crmAuths.indexOf(\'complaint_audit\')!=-1 && complaint.complainStatus==3" ng-click="operate(\'audit\')">审核</button> <button type="button" class="btn btn-default" ng-if="crmAuths.indexOf(\'complaint_distribute\')!=-1 && complaint.distributeStatus==0" ng-click="operate(\'distribute\')">分配</button> <button type="button" class="btn btn-default" ng-if="crmAuths.indexOf(\'complaint_change\')!=-1 && complaint.distributeStatus==1" ng-click="operate(\'changeUser\')">更换</button> <button type="button" class="btn btn-default" ng-disabled="isNew" ng-click="print()">打印</button> <button type="button" class="btn btn-default" ng-disabled="isNew" ng-click="sendMsg()">短信</button> <button type="button" class="btn btn-default" ng-disabled="isNew" ng-click="complaintHistory()">投诉历史</button> <button type="button" class="btn btn-default" ng-click="exit(form.$pristine)">返回</button> </div> </div> <form class="form-horizontal" name="form"> <uib-tabset active="active" class="uib-common"> <uib-tab index="0" heading="投诉单"> <div class="mb-grid"> <div class="div-grid-lg" style="overflow: visible"> <div style="height: 10px"></div> <div class="form-group"> <label for="" style="padding-left: 35px;margin-right: 10px;float: left">客户满意度</label> <div style="float: left"> <label class="radio-inline"> <input type="radio" ng-model="complaint.satisfactionDegree" id="inlineRadio1" value="0" ng-disabled="disabledAll"> <span>满意</span> </label> <label class="radio-inline"> <input type="radio" ng-model="complaint.satisfactionDegree" id="inlineRadio2" value="1" ng-disabled="disabledAll"> <span>一般</span> </label> <label class="radio-inline"> <input type="radio" ng-model="complaint.satisfactionDegree" id="inlineRadio3" value="2" ng-disabled="disabledAll"> <span>不满意</span> </label> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="text" title="投诉单号" ng-readonly="true" idname="complainCode" ng-model="complaint.complainCode"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="VIN码" ng-disabled="disabledAll" idname="vin" ng-model="complaint.vin" err-msg="该输入项为必输项" mb-click="getCustomerCar()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="投诉日期" output-format="\'yyyy-MM-dd HH:mm\'" ng-disabled="true" idname="complainTime" ng-model="complaint.complainTime"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="text" title="客户姓名" ng-required="true" ng-disabled="disabledAll" idname="custormerName" ng-model="complaint.custormerName"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="联系电话" ng-required="true" ng-disabled="disabledAll" idname="phoneNo" ng-model="complaint.phoneNo"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="车牌号" ng-disabled="disabledAll" idname="plateNo" ng-model="complaint.plateNo"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="dialog" title="车型代码" ng-disabled="disabledAll" ng-required="true" idname="vno" ng-model="complaint.vno" err-msg="该输入项为必输项" mb-click="getCarModel()"></input-combo> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4 highlight" for="phoneNo"> <span class="symbol"></span>投诉级别 </label> <label class="radio-inline"> <input type="radio" ng-model="complaint.complainLevel" value="0" ng-disabled="disabledAll"> <span>一般</span> </label> <label class="radio-inline"> <input type="radio" ng-model="complaint.complainLevel" value="1" ng-disabled="disabledAll"> <span>重大</span> </label> </div> <div class="col-12-6-4"> <input-combo type="select" title="投诉类型" ng-disabled="disabledAll" ng-required="true" idname="complainType" ng-model="complaint.complainType" source-data="codeMaster.complaint_type"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="select" title="客户类别" ng-disabled="disabledAll" idname="customLevel" ng-model="complaint.customerLevel" source-data="codeMaster.customLevel"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="销售服务店（销售）" ng-disabled="disabledAll" idname="salesServicesStore" ng-model="complaint.salesServicesStore"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="购车日期" ng-disabled="disabledAll" idname="buyDate" ng-model="complaint.buyDate" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="text" title="城市" ng-disabled="disabledAll" idname="shopName" ng-model="complaint.city"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="投诉来源" ng-disabled="disabledAll" ng-required="true" idname="source" ng-model="complaint.complainSource" source-data="codeMaster.source"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="需完成时间" ng-disabled="disabledAll" idname="finishTime" output-format="\'yyyy-MM-dd HH:mm\'" ng-model="complaint.finishTime" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="text" title="车辆颜色" ng-disabled="disabledAll" idname="carColor" ng-model="complaint.carColor"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="行驶里程" ng-disabled="disabledAll" idname="mileage" ng-model="complaint.mileage"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="投诉管理员" ng-disabled="true" idname="complainAdmin" ng-model="complaint.complainAdmin"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="date" output-format="\'yyyy-MM-dd HH:mm\'" title="预计完成日期" ng-disabled="true" idname="estimateFinishTime" ng-model="complaint.complaintDelay.estimateFinishTime"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="接收人" ng-disabled="true" idname="receivedBy" ng-model="complaint.receivedBy"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="销售服务店（服务）" ng-readonly="false" ng-disabled="disabledAll" idname="salesServicesService" ng-model="complaint.salesServicesService" err-msg="该输入项为必输项" mb-click="getServiceStore()"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="select" title="投诉基地" ng-disabled="true" idname="base" ng-model="complaint.complainBase" source-data="codeMaster.base"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="区域" ng-required="true" ng-disabled="disabledAll" idname="area" ng-model="complaint.area" source-data="codeMaster.complaint_area"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="车型名称" ng-readonly="false" ng-disabled="disabledAll" ng-required="true" idname="carName" ng-model="complaint.carName" err-msg="该输入项为必输项" mb-click="getCarModel()"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="text" ng-pattern="pattern.nnInt" ng-disabled="disabledAll" err-msg="该输入正整数" title="客户来电次数" idname="callTimes" ng-model="complaint.callTimes"></input-combo> </div> <!-- <div class="col-12-6-4">\r\n                <input-combo type="text" title="档案编号" idname="fileNo" ng-model="complaint.fileNo"></input-combo>\r\n              </div> --> <div class="col-12-6-4"> <input-combo type="text" title="记录人" ng-readonly="true" idname="recordBy" ng-model="complaint.recordBy"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="转发时间" output-format="\'yyyy-MM-dd HH:mm\'" ng-disabled="true" idname="transTime" ng-model="complaint.transTime"></input-combo> </div> </div> <!-- <div class="form-group">\r\n              <div class="col-12-6-4">\r\n                <input-combo type="select" title="涉及其他公共机构" idname="otherMsg" ng-model="complaint.otherMsg" source-data="codeMaster.other"></input-combo>\r\n              </div>\r\n            </div> --> </div> </div> </uib-tab> <uib-tab index="1" heading="投诉内容" class=""> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <td ng-if="row.delFlag!=1"> <input-combo ng-disabled="disabledAll" type="textarea" title="" rows="5" ng-model="complaint.complaintContent" no-label="true" input-class="col-xs-12"></input-combo> </td> </table> </div> </div> </uib-tab> <uib-tab index="3" heading="审核意见" class=""> <div style="height: 10px"></div> <div class="mb-grid"> <div class="div-grid-lg"> <div class="form-group"> </div> <div class="form-group"> <div class="col-12-6-8"> <input-combo label-class="col-xs-2 text-right" ng-disabled="true" input-class="col-xs-10" type="textarea" title="延迟申请理由" idname="reason" ng-model="complaint.complaintDelay.delayReason"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="延迟申请时间" ng-disabled="true" output-format="\'yyyy-MM-dd HH:mm\'" idname="complainNum" ng-model="complaint.complaintDelay.createTime"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-8"> <input-combo label-class="col-xs-2 text-right" ng-disabled="true" output-format="\'yyyy-MM-dd HH:mm\'" input-class="col-xs-10" type="textarea" title="批复意见" idname="reason" ng-model="complaint.complaintDelay.checkInfo"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="批复日期" ng-disabled="true" idname="complainNum" ng-model="complaint.complaintDelay.checkDate"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="text" title="投诉审核状态" ng-disabled="true" idname="complainNum" ng-model="filter.complainAd"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="投诉审核意见" ng-disabled="true" idname="complainNum" ng-model="filter.complainAd"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="关闭时间" ng-disabled="true" idname="complainNum" ng-model="filter.complainAd"></input-combo> </div> </div> </div> </div> </uib-tab> <uib-tab index="2" heading="处理记录" class="" ng-hide="isNew "> <div style="height: 10px"></div> <div class="mb-grid"> <div class="div-head-embed div-head-bd" ng-hide="disabledAll"> <button type="button" ng-disabled="isNew" class="btn btn-default btn-sm btn-no-border" ng-click="updateRecords()" ng-if="editRecords"> <span class="fa fa-edit"></span>保存</button> <button type="button" ng-disabled="isNew" class="btn btn-default btn-sm btn-no-border" ng-click="addRecords()"> <span class="fa fa-plus"></span>增加</button> <button type="button" ng-disabled="isNew" class="btn btn-default btn-sm btn-no-border" ng-click="deleteRecords()"> <span class="fa fa-trash-o"></span>删除</button> </div> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th width="40%">处理记录</th> <th width="30%">跟踪日期</th> <th width="30%">跟踪人</th> </tr> <tr ng-repeat="row in complaint.complaintDealLogs" ng-class="{\'info\':row.selected}" ng-click="selectGridData($index)" ng-if="row.delFlag !=1"> <td> <input-combo type="textarea" title="" ng-model="row.content" no-label="true" ng-required="true" ng-disabled="disabledAll" idname="content" input-class="col-xs-12"></input-combo> </td> <td> <input-combo type="date" title="" ng-disabled="true" ng-model="row.createTime" output-format="\'yyyy-MM-dd HH:mm\'" no-label="true" input-class="col-xs-12"></input-combo> </td> <td> <input-combo type="text" title="" ng-disabled="true" ng-model="row.createBy" no-label="true" input-class="col-xs-12"></input-combo> </td> </tr> </table> </div> <mb-pager></mb-pager> </div> </uib-tab> </uib-tabset> </form> </div>'),
a.put("views/crm/complaint/complaint-print.html",'<style type="text/css">.main-content{\r\n  margin-left:0px;\r\n}\r\n.main-navigation{\r\n  display: none;\r\n}\r\n.navbar-haima{\r\n  display: none;\r\n}</style> <div class="row sub-container"> <!-- <button type="button" class="btn btn-default" ng-disabled="isNew" ng-click="print()">打印</button> --> <div class="div-grid-lg"> <div class="form-group"> <div class="col-12-6-4"> <label class="control-label col-xs-4">客户满意度：</label> <div class="col-xs-8 input-group"> <span>{{complaint.satisfactionDegree | codeMasterFilter:\'satisfaction\'}}</span> </div> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <label class="control-label col-xs-4">投诉单号：</label> <div class="col-xs-8 input-group"> <span>{{complaint.complainCode}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">VIN码：</label> <div class="col-xs-8 input-group"> <span>{{complaint.vin}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">投诉日期：</label> <div class="col-xs-8 input-group"> <span>{{complaint.complainTime | date:\'yyyy-MM-dd HH:mm\'}}</span> </div> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <label class="control-label col-xs-4">客户姓名：</label> <div class="col-xs-8 input-group"> <span>{{complaint.custormerName}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">联系电话：</label> <div class="col-xs-8 input-group"> <span>{{complaint.phoneNo}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">车牌号：</label> <div class="col-xs-8 input-group"> <span>{{complaint.plateNo}}</span> </div> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <label class="control-label col-xs-4">车型代码：</label> <div class="col-xs-8 input-group"> <span>{{complaint.vno}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">投诉级别：</label> <div class="col-xs-8 input-group"> <span>{{complaint.complainLevel}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">投诉类型：</label> <div class="col-xs-8 input-group"> <span>{{complaint.complainType | codeMasterFilter:\'complaint_type\'}}</span> </div> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <label class="control-label col-xs-4">客户类别：</label> <div class="col-xs-8 input-group"> <span>{{complaint.customerLevel | codeMasterFilter:\'customLevel\'}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">销售服务店（销售）：</label> <div class="col-xs-8 input-group"> <span>{{complaint.salesServicesStore}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">购车日期：</label> <div class="col-xs-8 input-group"> <span>{{complaint.buyDate | date:\'yyyy-MM-dd\'}}</span> </div> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <label class="control-label col-xs-4">城市：</label> <div class="col-xs-8 input-group"> <span>{{complaint.city}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">投诉来源：</label> <div class="col-xs-8 input-group"> <span>{{complaint.complainSource | codeMasterFilter:\'source\'}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">需完成时间：</label> <div class="col-xs-8 input-group"> <span>{{complaint.finishTime | date:\'yyyy-MM-dd HH:mm\'}}</span> </div> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <label class="control-label col-xs-4">车辆颜色：</label> <div class="col-xs-8 input-group"> <span>{{complaint.carColor}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">行驶里程：</label> <div class="col-xs-8 input-group"> <span>{{complaint.mileage}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">投诉管理员：</label> <div class="col-xs-8 input-group"> <span>{{complaint.complainAdmin}}</span> </div> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <label class="control-label col-xs-4">预计完成日期：</label> <div class="col-xs-8 input-group"> <span>{{complaint.estimateFinishTime | date:\'yyyy-MM-dd HH:mm\'}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">接收人：</label> <div class="col-xs-8 input-group"> <span>{{complaint.receivedBy}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">销售服务店（服务）：</label> <div class="col-xs-8 input-group"> <span>{{complaint.salesServicesService}}</span> </div> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <label class="control-label col-xs-4">投诉基地：</label> <div class="col-xs-8 input-group"> <span>{{complaint.complainBase | codeMasterFilter:\'base\'}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">区域：</label> <div class="col-xs-8 input-group"> <span>{{complaint.area | codeMasterFilter:\'complaint_area\'}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">车型名称：</label> <div class="col-xs-8 input-group"> <span>{{complaint.carName}}</span> </div> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <label class="control-label col-xs-4">客户来电次数：</label> <div class="col-xs-8 input-group"> <span>{{complaint.callTimes}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">记录人：</label> <div class="col-xs-8 input-group"> <span>{{complaint.recordBy}}</span> </div> </div> <div class="col-12-6-4"> <label class="control-label col-xs-4">转发时间：</label> <div class="col-xs-8 input-group"> <span>{{complaint.transTime | date:\'yyyy-MM-dd HH:mm\'}}</span> </div> </div> </div> <div class="col-12-6-4" style="clear: both"> <label class="control-label col-xs-3" for="complaintContent"> 投诉内容： </label> <div class="col-xs-9"> <span>{{complaint.complaintContent}}</span> </div> </div> </div> </div> '),a.put("views/crm/complaint/complaint-query.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-click="query(true)">查询</button> <button type="button" class="btn btn-default" ng-click="resetParam()">重置</button> <button type="button" class="btn btn-default" ng-click="export()">数据导出</button> </div> </div> <ng-form class="form-horizontal" name="form"> <uib-accordion close-others="false"> <ng-form name="formBase"> <form id="queryForm" enctype="application/json" method="post"> <div uib-accordion-group class="{{formBase.$invalid && form.$dirty?\'panel-danger\':\'panel-default\'}}"> <uib-accordion-heading> <i class="pull-left fa fa-fw accordion-arrow"></i> <span class="w-full block">查询条件</span> </uib-accordion-heading> <div class="form-group"> <!-- <div class="col-12-6-4">\r\n              <input-combo type="text" title="档案编号" idname="fileNo" ng-model="param.fileNo"></input-combo>\r\n            </div> --> <div class="col-12-6-4"> <input-combo type="text" title="投诉单号" idname="complainCode" ng-model="param.complainCode"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="车型名称" idname="carName" ng-model="param.carName"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="客户姓名" idname="custormerName" ng-model="param.custormerName"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="投诉管理员" idname="complainAdmin" ng-model="param.complainAdmin"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="投诉单状态" idname="complainStatus" ng-model="param.complainStatus" source-data="codeMaster.complaint_state"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="投诉级别" idname="complainLevel" ng-model="param.complainLevel" source-data="codeMaster.complaint_level"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="VIN码" idname="vin" ng-model="param.vin"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="车牌号" idname="plateNo" ng-model="param.plateNo"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="满意度" idname="satisfactionDegree" ng-model="param.satisfactionDegree" source-data="codeMaster.satisfaction"></input-combo> </div> <!-- <div class="col-12-6-4">\r\n              <input-combo type="select" title="所属基地" idname="complainBase" ng-model="param.complainBase" source-data="codeMaster.base"></input-combo>\r\n            </div> \r\n            <div class="col-12-6-4">\r\n              <input-combo type="select" title="区域" idname="area" ng-model="param.area" source-data="codeMaster.complaint_area"></input-combo>\r\n            </div>--> <div class="col-12-6-4"> <input-combo type="date" title="投诉时间" idname="complainTimeStart" output-format="\'yyyy-MM-dd HH:mm\'" ng-model="param.complainTimeStart" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="到" idname="complainTimeEnd" output-format="\'yyyy-MM-dd HH:mm\'" ng-model="param.complainTimeEnd"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="记录人" idname="recordBy" ng-model="param.recordBy"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="销售服务店（服务）" idname="salesServicesService" ng-model="param.salesServicesService" err-msg="该输入项为必输项" ng-disabled="editMode" mb-click="getServiceStore()"></input-combo> </div> <!-- <div class="col-12-6-4">\r\n              <input-combo type="dialog" title="服务店代号" idname="salesServicesCode" ng-model="param.salesServicesCode" err-msg="该输入项为必输项" ng-disabled="editMode" mb-click="getServiceStore()"></input-combo>\r\n            </div> --> <div class="col-12-6-4"> <input-combo type="select" title="投诉类型" idname="complainType" ng-model="param.complainType" source-data="codeMaster.complaint_type"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="switch" title="延期非正常处理" ng-model="param.isDelay"></input-combo> </div> </div> </div> </form> </ng-form> </uib-accordion> </ng-form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>投诉单号</th> <th>车型名称</th> <th>客户姓名</th> <th>投诉级别</th> <th>VIN码</th> <th>车牌号</th> <th>投诉时间</th> <th>销售服务店（服务）</th> <th>车型</th> <th>投诉管理员</th> <th>关闭时间</th> <th>记录人</th> <th>投诉类型</th> <th>投诉单状态</th> </tr> <tr ng-repeat="row in grid.rows track by $index" ng-class="{\'info\':row.isSelect}" ng-click="selectGridData($index, grid.rows)"> <td class="text-right">{{(currentPage-1)*numPerPage + $index+1}}</td> <td> <a href="javascript:void(0);" ng-click="information($event, row)">{{row.complainCode}}</a> </td> <td>{{row.carName}}</td> <td>{{row.custormerName}}</td> <td>{{row.complainLevel | codeMasterFilter:\'complaint_level\'}}</td> <td>{{row.vin}}</td> <td>{{row.plateNo}}</td> <td>{{row.complainTime | date:\'yyyy-MM-dd HH:mm\'}}</td> <td>{{row.salesServicesService}}</td> <td>{{row.vno}}</td> <td>{{row.complainAdmin}}</td> <td>{{row.closeTime | date:\'yyyy-MM-dd\'}}</td> <td>{{row.recordBy}}</td> <td>{{row.complainType | codeMasterFilter:\'complaint_type\'}}</td> <td>{{row.complainStatus | codeMasterFilter:\'complaint_state\'}}</td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="15">没有符合条件的数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div>'),a.put("views/crm/complaint/complaint-respond.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-click="query(true)">查询</button> <button type="button" class="btn btn-default" ng-click="resetParam()">重置</button> </div> </div> <form class="form-horizontal" name="form"> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="date" title="投诉时间" idname="complainTimeStart" ng-model="param.complainTimeStart" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="到" idname="complainTimeEnd" ng-model="param.complainTimeEnd"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="服务店代号" idname="salesServicesCode" ng-model="param.salesServicesCode" err-msg="该输入项为必输项" ng-disabled="editMode" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="服务店名称" idname="salesServicesService" ng-model="param.salesServicesService" err-msg="该输入项为必输项" ng-disabled="editMode" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="所属基地" idname="complainBase" ng-model="param.complainBase" source-data="codeMaster.base"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="是否及时转发" idname="forwardOnTime" ng-model="param.forwardOnTime" source-data="codeMaster.relay"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="是否及时响应" idname="respondOnTime" ng-model="param.respondOnTime" source-data="codeMaster.respond"></input-combo> </div> </div> </form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>投诉单号</th> <!-- <th>档案编号</th> --> <th>销售服务店(服务)</th> <th>客户姓名</th> <th>电话</th> <th>车牌号</th> <th>VIN码</th> <th>投诉时间</th> <th>转发时间</th> <th>是否及时转发</th> <th>接收时间</th> <th>是否有响应</th> <th>是否按时响应</th> </tr> <tr ng-repeat="row in grid.rows track by $index" ng-class="{\'info\':row.isSelect}" ng-click="selectGridData($index, grid.rows)"> <td class="text-right">{{(currentPage-1)*numPerPage + $index+1}}</td> <td> <a href="javascript:void(0);" ng-click="information($event, row)">{{row.complainCode}}</a> </td> <!-- <td>{{row.fileNo}}</td> --> <td>{{row.salesServicesService}}</td> <td>{{row.custormerName}}</td> <td>{{row.phoneNo}}</td> <td>{{row.plateNo}}</td> <td>{{row.vin}}</td> <td>{{row.complainTime | date:\'yyyy-MM-dd HH:mm\'}}</td> <td>{{row.transTime | date:\'yyyy-MM-dd HH:mm\'}}</td> <td>{{(row.transTime != null && (row.transTime-row.complainTime) &lt; 5*4600*1000)?\'是\':\'否\'}}</td> <td>{{row.responseTime | date:\'yyyy-MM-dd HH:mm\'}}</td> <td>{{row.responseTime == null?\'否\':\'是\'}}</td> <td>{{(row.responseTime != null && row.transTime !=null && (row.responseTime-row.transTime) &lt; 5*4600*1000)?\'是\':\'否\'}}</td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="14">没有符合条件的数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div>'),a.put("views/crm/complaint/complaint-satisfaction.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-click="query(true)">查询</button> <button type="button" class="btn btn-default" ng-click="resetParam()">重置</button> </div> </div> <form class="form-horizontal" name="form"> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="date" title="投诉年月" idname="complainTimeStart" ng-model="param.complainTimeStart" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="date" title="到" idname="complainTimeEnd" ng-model="param.complainTimeEnd" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <!-- <div class="col-12-6-6">\r\n        <input-combo type="select" title="区域" idname="store" ng-model="param.store" source-data="codeMaster.area_complaint"></input-combo>\r\n      </div>\r\n      <div class="col-12-6-6">\r\n        <input-combo type="select" title="省份" idname="intentionCar" ng-model="param.intentionCar" source-data="codeMaster.province"></input-combo>\r\n      </div>\r\n          </div>\r\n          <div class="form-group"> --> <div class="col-12-6-6"> <input-combo type="dialog" title="服务店代码" idname="salesServicesCode" ng-model="param.salesServicesCode" err-msg="该输入项为必输项" ng-disabled="editMode" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="dialog" title="服务店名称" idname="salesServicesService" ng-model="param.salesServicesService" err-msg="该输入项为必输项" ng-disabled="editMode" mb-click="getServiceStore()"></input-combo> </div> </div> <div class="form-group"> <label for="" style="padding-left: 35px;margin-right: 10px;float: left">统计方式</label> <div style="float: left"> <label class="radio-inline"> <input type="radio" ng-model="param.statisticsType" id="inlineRadio1" value="st_ac"> <span>全国</span> </label> <label class="radio-inline"> <input type="radio" ng-model="param.statisticsType" id="inlineRadio2" value="st_sss"> <span>按销售服务店（服务）</span> </label> <label class="radio-inline"> <input type="radio" ng-model="param.statisticsType" id="inlineRadio6" value="st_ca"> <span>投诉管理员</span> </label> <!-- <label class="radio-inline">\r\n            <input type="radio" ng-model="param.statisticsType" id="inlineRadio6" value="st_cs"> <span>投诉来源</span>\r\n          </label>\r\n          <label class="radio-inline">\r\n            <input type="radio" ng-model="param.statisticsType" id="inlineRadio5" value="st_ct"> <span>投诉类型</span>\r\n          </label> --> <label class="radio-inline"> <input type="radio" ng-model="param.statisticsType" id="inlineRadio6" value="st_isDelay"> <span>是否延迟申请</span> </label> <!-- <label class="radio-inline">\r\n            <input type="radio" ng-model="param.statisticsType" id="inlineRadio8" value="st_cb"> <span>按所属基地</span>\r\n          </label> --> </div> </div> </form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>统计方式</th> <th>投诉单数</th> <th>满意数</th> <th>一般数</th> <th>不满意数</th> <th>满意度</th> <th>一般满意度</th> <th>不满意度</th> </tr> <tr ng-repeat="row in grid.rows track by $index"> <td class="text-right">{{(currentPage-1)*numPerPage + $index+1}}</td> <td>{{row.statisticsType}}</td> <td>{{row.complaintCount}}</td> <td>{{row.satisfactionCount}}</td> <td>{{row.commonSatisfactionCount}}</td> <td>{{row.dissatisfactionCount}}</td> <td>{{row.satisfactionRatio}}</td> <td>{{row.commonSatisfactionRatio}}</td> <td>{{row.dissatisfactionRatio || 0}}</td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="9">没有符合条件的数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div>'),a.put("views/crm/complaint/management.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <button type="button" class="btn btn-default btn-sm" ng-if="crmAuths.indexOf(\'complaint_search\')!=-1" ng-click="query(true)">查询</button> <button type="button" class="btn btn-default btn-sm" ng-if="crmAuths.indexOf(\'complaint_search\')!=-1" ng-click="resetParam()">重置</button> <button type="button" class="btn btn-default btn-sm" ng-if="crmAuths.indexOf(\'complaint_edit\')!=-1" ng-click="edit()" ng-disabled="grid.rows.length ===0">编辑</button> <button type="button" class="btn btn-default btn-sm" ng-if="crmAuths.indexOf(\'complaint_delete\')!=-1" ng-click="deleteGridData()" ng-disabled="grid.rows.length ===0">刪除</button> <button type="button" class="btn btn-default btn-sm" ng-if="crmAuths.indexOf(\'complaint_forward\')!=-1" ng-click="forward()">转发</button> <button type="button" class="btn btn-default btn-sm" ng-if="crmAuths.indexOf(\'complaint_applyClose\')!=-1" ng-click="applyClose()">申请关闭</button> <button type="button" class="btn btn-default btn-sm" ng-if="crmAuths.indexOf(\'complaint_audit\')!=-1" ng-click="audit()">审核</button> <button type="button" class="btn btn-default btn-sm" ng-if="crmAuths.indexOf(\'complaint_new\')!=-1" ng-click="newComplaint()">新建投诉单</button> <button type="button" class="btn btn-default" ng-if="$stateParams.vin" ng-click="exit(form.$pristine)">返回</button> </div> <ng-form class="form-horizontal" name="form"> <uib-accordion close-others="false"> <ng-form name="formBase"> <div uib-accordion-group class="{{formBase.$invalid && form.$dirty?\'panel-danger\':\'panel-default\'}}"> <uib-accordion-heading> <i class="pull-left fa fa-fw accordion-arrow"></i> <span class="w-full block">查询条件</span> </uib-accordion-heading> <div class="form-group"> <!-- <div class="col-12-6-4">\r\n              <input-combo type="text" title="档案编号" idname="fileNo" ng-model="param.fileNo"></input-combo>\r\n            </div> --> <div class="col-12-6-4"> <input-combo type="text" title="投诉单号" idname="complainCode" ng-model="param.complainCode"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="客户姓名" idname="custormerName" ng-model="param.custormerName"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="投诉管理员" idname="complainAdmin" ng-model="param.complainAdmin"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="投诉单状态" idname="complainStatus" ng-model="param.complainStatus" source-data="codeMaster.complaint_state"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="VIN码" idname="vin" ng-model="param.vin"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="车牌号" idname="plateNo" ng-model="param.plateNo"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="区域" idname="area" ng-model="param.area" source-data="codeMaster.complaint_area"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="满意度" idname="satisfactionDegree" ng-model="param.satisfactionDegree" source-data="codeMaster.satisfaction"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="记录人" idname="recordBy" ng-model="param.recordBy"></input-combo> </div> <div class="col-12-6-4"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="dialog" title="销售服务店(服务)" idname="salesServicesService" title="" ng-model="param.salesServicesService" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="服务店代码" idname="salesServicesCode" ng-model="param.salesServicesCode" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="转发类型" idname="forwardStatus" ng-model="param.forwardStatus" source-data="codeMaster.forward_status"></input-combo> </div> <!-- <div class="col-12-6-4">\r\n              <input-combo label-class="col-xs-5" input-class="col-xs-7" type="switch" title="延期非正常处理" idname="isDelay" ng-model="param.isDelay"></input-combo>\r\n            </div> --> <div class="col-12-6-4"> <input-combo type="date" title="投诉时间" idname="complainTimeStart" ng-model="param.complainTimeStart" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="到" idname="complainTimeEnd" ng-model="param.complainTimeEnd" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="投诉类型" idname="complainType" ng-model="param.complainType" source-data="codeMaster.complaint_type"></input-combo> </div> </div> </div> </ng-form> </uib-accordion> </ng-form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>投诉单号</th> <th>客户姓名</th> <th>车牌号</th> <th>Vin码</th> <th>投诉时间</th> <th>销售服务店（服务）</th> <th>车型</th> <th>投诉管理员</th> <th>需完成时间</th> <th>投诉状态</th> <th>转发状态</th> <th>记录人</th> <th>回访状态</th> <th>回访时间</th> </tr> <tr ng-repeat="row in grid.rows track by $index" ng-class="{\'info\':row.isSelect}" ng-click="selectGridData($index, grid.rows)"> <td class="text-right">{{(currentPage-1)*numPerPage + $index+1}}</td> <td> <a href="javascript:void(0);" ng-click="information($event, row)">{{row.complainCode}}</a> </td> <td>{{row.custormerName}}</td> <td>{{row.plateNo}}</td> <td>{{row.vin}}</td> <td>{{row.complainTime | date:\'yyyy-MM-dd HH:mm\'}}</td> <td>{{row.salesServicesService}}</td> <td>{{row.vno}}</td> <td>{{row.complainAdmin}}</td> <td>{{row.finishTime | date:\'yyyy-MM-dd\'}}</td> <td>{{row.complainStatus | codeMasterFilter:\'complaint_state\'}}</td> <td>{{row.forwardStatus | codeMasterFilter:\'forward_status\'}}</td> <td>{{row.recordBy}}</td> <td>{{row.callbackStatus | codeMasterFilter:\'complaint_status\'}}</td> <td>{{row.callbackTime | date:\'yyyy-MM-dd\'}}</td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="15">没有符合条件的数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div>'),a.put("views/crm/complaint/reply-4s-delay-apply.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-click="query(true)">查询</button> <button type="button" class="btn btn-default" ng-click="resetParam()">重置</button> </div> </div> <form class="form-horizontal" name="form"> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="text" title="投诉单号" idname="complainCode" ng-model="param.complainCode"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="投诉时间" idname="startDate" ng-model="param.complainTimeStart" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="到" idname="endDate" ng-model="param.complainTimeEnd" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="4s店代码" idname="salesServicesCode" ng-model="param.salesServicesCode" err-msg="该输入项为必输项" ng-disabled="editMode" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="4s店名称" idname="salesServicesService" ng-model="param.salesServicesService" err-msg="该输入项为必输项" ng-disabled="editMode" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="客户姓名" idname="custormerName" ng-model="param.custormerName"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="VIN码" idname="vin" ng-model="param.vin"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="车牌号" idname="plateNo" ng-model="param.plateNo"></input-combo> </div> <div class="col-12-6-2"> <input-combo type="switch" title="待批复" ng-model="param.applyed"></input-combo> </div> <div class="col-12-6-2"> <input-combo type="switch" title="已批复" ng-model="param.replyed"></input-combo> </div> </div> </form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>投诉单号</th> <th>客户姓名</th> <th>投诉时间</th> <th>投诉类型</th> <th>投诉级别</th> <th>转发的4s店</th> <th>延迟理由</th> <th>计划完成日期</th> <th></th> </tr> <tr ng-repeat="row in grid.rows track by $index" ng-class="{\'info\':row.isSelect}" ng-click="selectGridData($index, grid.rows)"> <td class="text-right">{{(currentPage-1)*numPerPage + $index+1}}</td> <td> <a href="javascript:void(0);" ng-click="information($event, row)">{{row.complainCode}}</a> </td> <td>{{row.custormerName}}</td> <td>{{row.complainTime | date:\'yyyy-MM-dd HH:mm\'}}</td> <td>{{row.complainType | codeMasterFilter:\'complaint_type\'}}</td> <td>{{row.complainLevel | codeMasterFilter:\'complaint_level\'}}</td> <td>{{row.salesServicesStore}}</td> <td>{{row.complaintDelay.delayReason}}</td> <td>{{row.complaintDelay.estimateFinishTime | date:\'yyyy-MM-dd\'}}</td> <td style="cursor: pointer"> <a href="javascript:void(0);" ng-click="operate(row.id)" ng-if="row.delayStatus==\'1\'">批复</a> <span ng-if="row.delayStatus==\'2\'">已批复</span> </td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="10">没有符合条件的数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div>'),a.put("views/crm/modal/car-model-field.html",'<mb-modal-header title="车型档案资料" alerts="alerts" cancel-click="cancel()"></mb-modal-header> <div class="modal-body body-sm" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-disabled="form.$invalid" ng-click="query(true)">查询</button> </div> </div> <form class="form-horizontal" name="Form" id="Form"> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="车型名称" idname="complainNum" ng-model="param.carModelName"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="车型代码" idname="complainNum" ng-model="param.carModelCode"></input-combo> </div> </div> </form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>车型名称</th> <th>车型代码</th> <th></th> </tr> <tr ng-repeat="row in grid.rows track by $index" ng-class="{\'info\':row.isSelect}" ng-click="selectGridData($index, grid.rows)" ng-dblclick="selectCarModel($index)"> <td>{{row.carModelName}}</td> <td>{{row.carModelCode}}</td> <td><a href="javascript:void(0);" ng-click="selectCarModel($index)">选中</a></td> </tr> </table> </div> <mb-pager></mb-pager> </div> </div> <div class="modal-footer"> <button class="btn btn-sm btn-primary" ng-click="selectCarModel()">确定</button> <button class="btn btn-sm btn-default" ng-click="cancel()">关闭</button> </div>'),a.put("views/crm/modal/complaint-operate.html",'<div ng-if="data.operateType==\'applyDelay\'"> <mb-modal-header title="申请延迟" alerts="alerts" cancel-click="cancel()"></mb-modal-header> <div class="modal-body body-sm" cg-busy="promise"> <form class="form-horizontal" name="applyDelayForm"> <div class="form-group"> <div> <input-combo type="date" title="预计完成时间" ng-required="true" output-format="\'yyyy-MM-dd HH:mm\'" idname="estimateFinishTime" ng-model="complaintDelay.estimateFinishTime"></input-combo> </div> <div> <input-combo type="textarea" title="延迟理由" ng-required="true" idname="delayReason" ng-model="complaintDelay.delayReason"></input-combo> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-sm btn-primary" ng-disabled="applyDelayForm.$invalid" ng-click="applyDelay()">确定</button> <button class="btn btn-sm btn-default" ng-click="cancel()">关闭</button> </div> </div> <div ng-if="data.operateType==\'replyDelay\'"> <mb-modal-header title="批复延迟申请" alerts="alerts" cancel-click="cancel()"></mb-modal-header> <div class="modal-body body-sm" cg-busy="promise"> <form class="form-horizontal" name="replyDelayForm"> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="select" title="批复状态" ng-required="true" idname="replyStatus" ng-model="complaintDelay.replyStatus" source-data="codeMaster.replyStatus"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="date" title="批复日期" ng-disabled="true" output-format="\'yyyy-MM-dd HH:mm\'" idname="checkDate" ng-model="complaintDelay.checkDate"></input-combo> </div> <div class="col-12-12-6"> <input-combo type="textarea" title="批复意见" ng-required="true" idname="checkInfo" ng-model="complaintDelay.checkInfo"></input-combo> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-sm btn-primary" ng-disabled="replyDelayForm.$invalid" ng-click="replyDelay()">确定</button> <button class="btn btn-sm btn-default" ng-click="cancel()">关闭</button> </div> </div> <div ng-if="data.operateType==\'applyClose\'"> <mb-modal-header title="申请关闭" alerts="alerts" cancel-click="cancel()"></mb-modal-header> <div class="modal-body body-sm" cg-busy="promise"> <form class="form-horizontal" name="applyCloseForm"> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="select" title="是否回访" ng-required="true" idname="callbackStatus" ng-model="complaintFlow.callbackStatus" source-data="codeMaster.callbackType"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="回访日期" idname="date" ng-required="complaintFlow.callbackStatus==1" ng-model="complaintFlow.callbackTime"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="select" title="所属店" idname="store" ng-required="true" ng-model="complaintFlow.store" source-data="depts"></input-combo> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-sm btn-primary" ng-disabled="applyCloseForm.$invalid" ng-click="applyClose()">确定</button> <button class="btn btn-sm btn-default" ng-click="cancel()">关闭</button> </div> </div> <div ng-if="data.operateType==\'audit\'"> <mb-modal-header title="投诉单审核" alerts="alerts" cancel-click="cancel()"></mb-modal-header> <div class="modal-body body-sm" cg-busy="promise"> <form class="form-horizontal" name="auditForm"> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="select" title="投诉审核状态" ng-required="true" idname="checkStatus" ng-model="complaintFlow.checkStatus" source-data="codeMaster.audit_status"></input-combo> </div> <div class="col-12-6-8"> <input-combo type="textarea" title="审核意见" idname="checkInfo" ng-required="true" ng-model="complaintFlow.checkInfo"></input-combo> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-sm btn-primary" ng-disabled="auditForm.$invalid" ng-click="audit()">确定</button> <button class="btn btn-sm btn-default" ng-click="cancel()">关闭</button> </div> </div> <div ng-if="data.operateType==\'forward\'"> <mb-modal-header title="投诉单转发" alerts="alerts" cancel-click="cancel()"></mb-modal-header> <div class="modal-body body-sm" cg-busy="promise"> <form class="form-horizontal" name="forwardForm"> <div class="form-group"> <div class="col-xs-12"> <label class="control-label col-xs-4" for="target">转发对象</label> <div class="col-xs-8 has-switch"> <input bs-switch type="checkbox" name="target" ng-model="complaintForward.forwardType" switch-active="{{!viewMode}}" switch-on-text="总部人员" switch-off-text="4S店" switch-size="mini" switch-animate="false" switch-on-color="success" switch-off-color="default"> </div> </div> <div class="col-xs-12" ng-if="complaintForward.forwardType"> <input-combo type="select" title="总部人员" ng-model="complaintForward.forwardTo" err-msg="该输入项为必输项" ng-required="true" source-data="users"></input-combo> </div> <div class="col-xs-12" ng-if="!complaintForward.forwardType"> <input-combo type="select" title="4S店" ng-model="complaintForward.forwardTo" err-msg="该输入项为必输项" ng-required="true" source-data="depts"></input-combo> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-sm btn-primary" ng-disabled="forwardForm.$invalid" ng-click="forward()">确定</button> <button class="btn btn-sm btn-default" ng-click="cancel()">关闭</button> </div> </div> <div ng-if="data.operateType==\'distribute\'"> <mb-modal-header title="分配投诉单" alerts="alerts" cancel-click="cancel()"></mb-modal-header> <div class="modal-body body-sm" cg-busy="promise"> <form class="form-horizontal" name="distributeForm"> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="select" title="投诉管理员" ng-required="handleUser" idname="handleUser" ng-model="complaintDistribute.handleUser" source-data="users"></input-combo> </div> <div class="col-12-6-8"> <input-combo type="date" title="分配时间" idname="checkInfo" output-format="\'yyyy-MM-dd HH:mm\'" ng-disabled="true" ng-model="complaintDistribute.handleDate"></input-combo> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-sm btn-primary" ng-disabled="distributeForm.$invalid" ng-click="distribute()">确定</button> <button class="btn btn-sm btn-default" ng-click="cancel()">关闭</button> </div> </div> <div ng-if="data.operateType==\'changeUser\'"> <mb-modal-header title="更换投诉管理员" alerts="alerts" cancel-click="cancel()"></mb-modal-header> <div class="modal-body body-sm" cg-busy="promise"> <form class="form-horizontal" name="changeForm"> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="select" title="原投诉管理员" ng-disabled="true" ng-model="oldComplaintDistribute.handleUser" source-data="users"></input-combo> </div> <div class="col-12-6-8"> <input-combo type="date" title="原分配时间" idname="checkInfo" output-format="\'yyyy-MM-dd HH:mm\'" ng-disabled="true" ng-model="oldComplaintDistribute.handleDate"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="select" title="新投诉管理员" ng-required="true" ng-model="complaintDistribute.handleUser" source-data="users"></input-combo> </div> <div class="col-12-6-8"> <input-combo type="date" title="新分配时间" output-format="\'yyyy-MM-dd HH:mm\'" ng-disabled="true" ng-model="complaintDistribute.handleDate"></input-combo> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-sm btn-primary" ng-disabled="changeForm.$invalid" ng-click="changeUser()">确定</button> <button class="btn btn-sm btn-default" ng-click="cancel()">关闭</button> </div> </div>'),
a.put("views/crm/modal/customer-car-field.html",'<mb-modal-header title="客户档案资料" alerts="alerts" cancel-click="cancel()"></mb-modal-header> <div class="modal-body body-sm" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-disabled="form.$invalid" ng-click="query(true)">查询</button> </div> </div> <form class="form-horizontal" name="Form" id="Form"> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="Vin码" idname="complainNum" ng-model="param.vin"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="车牌号" idname="complainNum" ng-model="param.plateNo"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="客户名称" idname="area" ng-model="param.customerName"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="移动电话" idname="area" ng-model="param.phone"></input-combo> </div> </div> </form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>客户名称</th> <th>移动电话</th> <th>Vin码</th> <th>车牌号</th> <th>车型</th> <th>购车时间</th> <th></th> </tr> <tr ng-repeat="row in grid.rows track by $index" ng-class="{\'info\':row.isSelect}" ng-click="selectGridData($index, grid.rows)" ng-dblclick="selectCustomer($index)"> <td class="text-right">{{(currentPage-1)*numPerPage + $index+1}}</td> <td>{{row.customerName}}</td> <td>{{row.phone}}</td> <td>{{row.vin}}</td> <td>{{row.plateNo}}</td> <td>{{row.carModelName}}</td> <td>{{row.purchaseDate | date:\'yyyy-MM-dd HH:mm\'}}</td> <td><a href="javascript:void(0);" ng-click="selectCustomer($index)">选中</a></td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="8">没有符合条件的数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div> <div class="modal-footer"> <button class="btn btn-sm btn-primary" ng-click="selectCustomer()">确定</button> <button class="btn btn-sm btn-default" ng-click="cancel()">关闭</button> </div>'),a.put("views/crm/modal/information.html",'<mb-modal-header title="投诉详情" alerts="alerts" cancel-click="cancel()"></mb-modal-header> <div class="modal-body body-sm" cg-busy="promise"> <form class="form-horizontal" name="Form" id="Form"> <div class="form-group"> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="text" title="投诉单号" idname="complainCode" ng-disabled="true" ng-model="complaint.complainCode"></input-combo> </div> <!-- <div class="col-12-6-6">\r\n        <input-combo label-class="col-xs-5" input-class="col-xs-7" type="text" title="档案编号" idname="bill_date" ng-disabled="true" ng-model="complaint.fileNo"></input-combo>\r\n      </div> --> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="text" title="Vin码" idname="vin" ng-disabled="true" ng-model="complaint.vin"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="text" title="城市" idname="city" ng-disabled="true" ng-model="complaint.city"></input-combo> </div> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="text" title="客户姓名" idname="custormerName" ng-disabled="true" ng-model="complaint.custormerName"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="date" output-format="\'yyyy-MM-dd HH:mm\'" title="投诉时间" idname="complainTime" ng-disabled="true" ng-model="complaint.complainTime"></input-combo> </div> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="date" output-format="\'yyyy-MM-dd HH:mm\'" title="需完成时间" idname="finishTime" ng-disabled="true" ng-model="complaint.finishTime"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="text" title="联系方式" idname="phoneNo" ng-disabled="true" ng-model="complaint.phoneNo"></input-combo> </div> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="text" title="车型" idname="vno" ng-disabled="true" ng-model="complaint.vno"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="text" title="车身颜色" idname="carColor" ng-disabled="true" ng-model="complaint.carColor"></input-combo> </div> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="text" title="车牌号" idname="plateNo" ng-disabled="true" ng-model="complaint.plateNo"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="date" title="购车日期" idname="buyDate" ng-disabled="true" ng-model="complaint.buyDate"></input-combo> </div> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="text" title="销售服务店(销售)" idname="salesServicesStore" ng-disabled="true" ng-model="complaint.salesServicesStore"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="text" title="销售服务店(服务)" idname="salesServicesService" ng-disabled="true" ng-model="complaint.salesServicesService"></input-combo> </div> <div class="col-12-6-6"> <input-combo label-class="col-xs-5" input-class="col-xs-7" type="text" title="行驶里程" idname="mileage" ng-disabled="true" ng-model="complaint.mileage"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-12-12"> <label class="control-label col-xs-3" style="width:21%" for="complaintContent"> 投诉内容 </label> <div class="col-xs-9" style="width:79%"> <textarea class="form-control" id="complaintContent" name="complaintContent" rows="5" ng-model="complaint.complaintContent" disabled></textarea> </div> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-sm btn-default" ng-click="cancel()">关闭</button> </div>'),a.put("views/crm/modal/service-field.html",'<mb-modal-header title="服务店档案资料" alerts="alerts" cancel-click="cancel()"></mb-modal-header> <div class="modal-body body-sm" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-disabled="form.$invalid" ng-click="query(true)">查询</button> </div> </div> <form class="form-horizontal" name="Form" id="Form"> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="服务店代码" idname="complainNum" ng-model="filter.dept_code"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="服务店名称" idname="complainNum" ng-model="filter.dept_name"></input-combo> </div> </div> <!-- <div class="form-group">\r\n      <div class="col-12-6-6">\r\n        <input-combo type="select" title="区域" idname="area" ng-model="filter.area" source-data="codeMaster.area"></input-combo>\r\n      </div>\r\n      <div class="col-12-6-6">\r\n        <input-combo type="select" title="省份" idname="area" ng-model="filter.area" source-data="codeMaster.area"></input-combo>\r\n      </div>\r\n    </div> --> </form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>服务店代码</th> <th>服务店名称</th> <!-- <th>级别</th>\r\n          <th>区域</th>\r\n          <th>省份</th> --> <th>联系电话</th> <th></th> </tr> <tr ng-repeat="row in grid.rows" ng-class="{\'info\':row.isSelect}" ng-click="selectGridData($index, grid.rows)" ng-dblclick="selectServiceStore($index)"> <td class="text-right">{{row.no}}</td> <td>{{row.dept_code}}</td> <td>{{row.dept_name}}</td> <!-- <td>{{row.dept_struct}}</td>\r\n          <td>{{row.complainType}}</td>\r\n          <td>{{row.province}}</td> --> <td>{{row.tel | filterFirstChar:\',\'}}</td> <td><a href="javascript:void(0);" ng-click="selectServiceStore($index)">选中</a></td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="5">没有符合条件的数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div> <div class="modal-footer"> <button class="btn btn-sm btn-primary" ng-click="selectServiceStore()">确定</button> <button class="btn btn-sm btn-default" ng-click="cancel()">关闭</button> </div>'),a.put("views/crm/search/customer-car.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-click="query(true)">查询</button> <button type="button" class="btn btn-default" ng-click="resetParam()">重置</button> <button type="button" class="btn btn-default" ng-click="cutomerInfo()">客户详细</button> <!-- <button type="button" class="btn btn-default" ng-click="cutomerAdvice()">客户咨询</button> --> <button type="button" class="btn btn-default" ng-click="cutomerComplaint()">客户投诉</button> <!-- <button type="button" class="btn btn-default" ng-click="pdiResult()">PDI结果</button>\r\n      <button type="button" class="btn btn-default" ng-click="repairMaint()">维修保养</button>\r\n      <button type="button" class="btn btn-default" ng-click="serve()">增值服务</button> --> </div> </div> <ng-form class="form-horizontal" name="form"> <uib-accordion close-others="false"> <ng-form name="formBase"> <div uib-accordion-group class="{{formBase.$invalid && form.$dirty?\'panel-danger\':\'panel-default\'}}"> <uib-accordion-heading> <i class="pull-left fa fa-fw accordion-arrow"></i> <span class="w-full block">查询条件</span> </uib-accordion-heading> <div class="form-group"> <div class="col-12-6-4"> <input-combo type="text" title="VIN码" idname="vin" ng-model="param.vin"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="车牌号" idname="plateNo" ng-model="param.plateNo"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="车系" idname="carSeires" ng-model="param.carSeriesName"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="车型名称" idname="carType" ng-model="param.carModelName"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="销售店代码" ng-readonly="true" idname="salesServicesCode" ng-model="param.salesServicesCode" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="dialog" title="销售店名" ng-readonly="true" idname="salesServicesService" ng-model="param.salesServicesService" mb-click="getServiceStore()"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="购车日期" idname="purchaseDateStart" ng-model="param.purchaseDateStart" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="date" title="到" idname="purchaseDateEnd" ng-model="param.purchaseDateEnd" err-msg="请按照指定格式输入时间。例如:2016-01-01"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="车主姓名" idname="name" ng-model="param.customerName"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="移动电话" idname="phone" ng-model="param.phone"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="moofun账号" idname="moofunId" ng-model="param.moofunId"></input-combo> </div> <div class="col-12-6-4"> <input-combo type="text" title="身份证号" idname="id" ng-model="param.idNo"></input-combo> </div> </div> </div> </ng-form> </uib-accordion> </ng-form> <div class="mb-grid"> <div class="div-grid-lg"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>VIN</th> <th>车主姓名</th> <th>移动电话</th> <th>moofun账号</th> <th>身份证号</th> <th>车牌号</th> <th>销售店代码</th> <th>销售服务店</th> <th>车系</th> <th>车型名称</th> <th>车型代码</th> <th>购车日期</th> </tr> <tr ng-repeat="row in grid.rows track by $index" ng-class="{\'info\':row.isSelect}" ng-click="selectGridData($index, grid.rows)" ng-dblclick="ok()"> <td class="text-right">{{(currentPage-1)*numPerPage + $index+1}} </td> <td>{{row.vin}}</td> <td>{{row.customerName}}</td> <td>{{row.phone}}</td> <td>{{row.moofunId}}</td> <td>{{row.idNo}}</td> <td>{{row.plateNo}}</td> <td>{{row.dealerId | dealerId:\'dept_code\'}}</td> <td>{{row.dealerId | dealerId:\'dept_name\'}}</td> <td>{{row.carSeriesName}}</td> <td>{{row.carModelName}}</td> <td>{{row.carModelCode}}</td> <td>{{row.purchaseDate | date:\'yyyy-MM-dd\'}}</td> </tr> <tr ng-show="promise.$cgBusyFulfilled && grid.rows && grid.rows.length == 0"><td colspan="14">没有符合条件的数据</td></tr> </table> </div> <mb-pager></mb-pager> </div> </div>'),a.put("views/crm/search/customer-info.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-click="exit()">返回</button> </div> </div> <form class="form-horizontal" name="form"> <div class="mb-grid"> <div class="div-grid-lg"> <div style="height: 10px"></div> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="vin码" ng-disabled="true" ng-model="cc.vin"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="车牌号" ng-disabled="true" ng-model="cc.plateNo"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="date" title="购车日期" ng-disabled="true" output-format="\'yyyy-MM-dd\'" ng-model="cc.purchaseDate"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="车主姓名" ng-disabled="true" ng-model="cc.customer.customerName"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="移动电话" ng-disabled="true" ng-model="cc.customer.phone"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="身份证号" ng-disabled="true" ng-model="cc.customer.idNo"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="了解渠道" ng-disabled="true" ng-model="cc.customer.knowFrom"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="工作单位" ng-disabled="true" ng-model="cc.customer.company"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="职位" ng-disabled="true" ng-model="cc.customer.position"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="地址" ng-disabled="true" ng-model="cc.customer.address"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="性别" ng-disabled="true" ng-model="cc.customer.sex"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="moofun账号" ng-disabled="true" ng-model="cc.customer.moofunId"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="车型代码" ng-disabled="true" ng-model="cc.car.carModelCode"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="车型名称" ng-disabled="true" ng-model="cc.carModel.carModelName"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="车系代码" ng-disabled="true" ng-model="cc.car.carSeriesCode"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="车系名称" ng-disabled="true" ng-model="cc.carSeries.carSeriesName"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="车装备代码" ng-disabled="true" ng-model="cc.car.carSetupCode"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="车装备名称" ng-disabled="true" ng-model="cc.car.carSetupName"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="年款" ng-disabled="true" ng-model="cc.car.modelYear"></input-combo> </div> <div class="col-12-6-6"> <input-combo type="text" title="市场指导价" ng-disabled="true" ng-model="cc.car.retailPrice"></input-combo> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <input-combo type="text" title="成本价" ng-disabled="true" ng-model="cc.car.costPrice"></input-combo> </div> </div> </div> </div></form> </div>'),a.put("views/crm/search/repair-maint.html",'<div class="row sub-container" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-click="back()">返回</button> </div> </div> <ng-form class="form-horizontal" name="form"> <uib-accordion close-others="false"> <ng-form name="formBase"> <div uib-accordion-group class="{{formBase.$invalid && form.$dirty?\'panel-danger\':\'panel-default\'}}"> <uib-accordion-heading> <i class="pull-left fa fa-fw accordion-arrow"></i> <span class="w-full block">详细信息</span> </uib-accordion-heading> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="order_no">工单号</label> <div class="col-xs-8"> <input class="form-control" id="order_no" type="text" ng-model="main.order_no" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="comedate">进厂时间</label> <div class="col-xs-8"> <input class="form-control" id="comedate" type="text" ng-model="main.comedate" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="p_incar">预计交车</label> <div class="col-xs-8"> <input class="form-control" id="p_incar" type="text" ng-model="main.p_incar" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="ordername">服务顾问</label> <div class="col-xs-8"> <input class="form-control" id="ordername" type="text" ng-model="main.ordername" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="username">车主姓名</label> <div class="col-xs-8"> <input class="form-control" id="username" type="text" ng-model="main.username" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="sendname">送修人</label> <div class="col-xs-8"> <input class="form-control" id="sendname" type="text" ng-model="main.sendname" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="phone">移动电话</label> <div class="col-xs-8"> <input class="form-control" id="phone" type="text" ng-model="main.phone" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="vip">会员类别</label> <div class="col-xs-8"> <input class="form-control" id="vip" type="text" ng-model="main.vip" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="plate_no">牌照号码</label> <div class="col-xs-8"> <input class="form-control" id="plate_no" type="text" ng-model="main.plate_no" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="buydate">购车日期</label> <div class="col-xs-8"> <input class="form-control" id="buydate" type="text" ng-model="main.buydate" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="vin">VIN</label> <div class="col-xs-8"> <input class="form-control" id="vin" type="text" ng-model="main.vin" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="engine_no">发动机号</label> <div class="col-xs-8"> <input class="form-control" id="engine_no" type="text" ng-model="main.engine_no" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="brand">品牌</label> <div class="col-xs-8"> <input class="form-control" id="brand" type="text" ng-model="main.brand" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="modelcode">车型</label> <div class="col-xs-8"> <input class="form-control" id="modelcode" type="text" ng-model="main.modelcode" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="color">颜色</label> <div class="col-xs-8"> <input class="form-control" id="color" type="text" ng-model="main.color" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="insurancecompany">保险公司</label> <div class="col-xs-8"> <input class="form-control" id="insurancecompany" type="text" ng-model="main.insurancecompany" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="mileage">进厂里程</label> <div class="col-xs-8"> <input class="form-control" id="mileage" type="text" ng-model="main.mileage" disabled> </div> </div> <div class="col-12-6-3"> <input-combo type="dropdown" title="剩余油量" idname="oil" ng-model="main.oil" ng-disabled="true"></input-combo> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="lastintofactory">上次进厂</label> <div class="col-xs-8"> <input class="form-control" id="lastintofactory" type="text" ng-model="main.lastintofactory" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="car_state_name">车辆状态</label> <div class="col-xs-8"> <input class="form-control" id="car_state_name" type="text" ng-model="main.car_state_name" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="type">业务类别</label> <div class="col-xs-8"> <input class="form-control" id="type" type="text" ng-model="main.type" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="p_collection">预收款</label> <div class="col-xs-8"> <input class="form-control" id="p_collection" type="text" ng-model="main.p_collection" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="ordernum">预约单号</label> <div class="col-xs-8"> <input class="form-control" id="ordernum" type="text" ng-model="main.ordernum" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="ap">预修</label> <div class="col-xs-8 checkbox"> <input bs-switch type="checkbox" id="ap" name="ap" ng-model="main.isAp" switch-active="false" switch-on-text="是" switch-off-text="否" switch-size="mini" switch-animate="false" switch-on-color="success" switch-off-color="default"> </div> </div> </div> <div class="form-group"> <label class="control-label col-4-2-1" for="checks">环检记录</label> <div class="col-8-4-8"> <input class="form-control" id="checks" type="text" ng-model="main.checks" disabled> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="washcar">洗车服务</label> <div class="col-xs-8"> <input bs-switch type="checkbox" id="washcar" name="washcar" ng-model="main.isWashcar" switch-active="false" switch-on-text="是" switch-off-text="否" switch-size="mini" switch-animate="false" switch-on-color="success" switch-off-color="default"> </div> </div> </div> <div class="form-group"> <label class="control-label col-4-2-1" for="centent">顾客陈述</label> <div class="col-8-4-8"> <input class="form-control" id="centent" type="text" ng-model="main.centent" disabled> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="olddeal">旧件处理</label> <div class="col-xs-8"> <input bs-switch type="checkbox" id="olddeal" name="olddeal" ng-model="main.isOlddeal" switch-active="false" switch-on-text="带走" switch-off-text="丢弃" switch-size="mini" switch-animate="false" switch-on-color="success" switch-off-color="default"> </div> </div> </div> <div class="form-group"> <label class="control-label col-4-2-1" for="note">备注</label> <div class="col-8-10-11"> <input class="form-control" id="note" type="text" ng-model="main.note" disabled> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-4-4-6" for="out_space_start">外出服务地点（起）</label> <div class="col-8-8-6"> <input class="form-control" id="out_space_start" type="text" ng-model="main.out_space_start" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-4-4-6" for="out_space_end">外出服务地点（止）</label> <div class="col-8-8-6"> <input class="form-control" id="out_space_end" type="text" ng-model="main.out_space_end" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="out_mileage">外出服务里程</label> <div class="col-xs-8"> <input class="form-control" id="out_mileage" type="text" ng-model="main.out_mileage" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="out_price">外出服务费用</label> <div class="col-xs-8"> <input class="form-control" id="out_price" type="text" ng-model="main.out_price" disabled> </div> </div> </div> </div> </ng-form> </uib-accordion> </ng-form> <uib-tabset active="active" class="uib-common"> <uib-tab index="0" heading="诊断记录" class=""> <div class="mb-grid"> <div class="div-grid-xs"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>故障代码</th> <th>故障现象</th> <th>检测代码</th> <th>检测名称</th> <th>是否拆检</th> <th>拆检人</th> <th>拆检时间</th> <th>服务顾问</th> <th>是否厂家(HMC/haima)支持</th> <th>是否车间检查</th> <th>是否路试</th> <th>路试人</th> <th>路试时间</th> <th>记录人</th> <th>记录时间</th> <th>建议维修项目代码</th> <th>项目名称</th> </tr> <tr ng-repeat="row in data.diagnoseRecords track by $index"> <td>{{$index+1}}</td> <td>{{row.fault_code}}</td> <td>{{row.fault_phenomenon}}</td> <td>{{row.detect_code}}</td> <td>{{row.detect_name}}</td> <td>{{row.is_detect}}</td> <td>{{row.detect_man}}</td> <td>{{row.detect_time}}</td> <td>{{row.service_adviser}}</td> <td>{{row.is_support}}</td> <td>{{row.is_check}}</td> <td>{{row.is_road}}</td> <td>{{row.road_man}}</td> <td>{{row.road_time}}</td> <td>{{row.record_man}}</td> <td>{{row.record_time}}</td> <td>{{row.suggest_project_code}}</td> <td>{{row.project_name}}</td> </tr> </table> </div> </div> </uib-tab> <uib-tab index="1" heading="维修项目" class=""> <div class="mb-grid"> <div class="div-grid-xs"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>项目代码</th> <th>项目名称</th> <th>工种</th> <th>账类</th> <th>工时</th> <th>工时单价</th> <th>优惠前工时金额</th> <th>工时*单价</th> <th>折扣</th> <th>优惠后工时金额</th> <th>保险比例</th> <th>项目类别</th> </tr> <tr ng-repeat="row in data.maintItems track by $index"> <td>{{$index+1}}</td> <td>{{row.project_code}}</td> <td>{{row.project_name1}}</td> <td>{{row.work_type}}</td> <td>{{row.account_type}}</td> <td>{{row.work_time}}</td> <td>{{row.work_time_price}}</td> <td>{{row.before_money}}</td> <td>{{row.is_time_price}}</td> <td>{{row.discount}}</td> <td>{{row.after_money}}</td> <td>{{row.insure_scale}}</td> <td>{{row.project_type}}</td> </tr> </table> </div> </div> </uib-tab> </uib-tabset> <div class="form-group mb-grid"> <div class="col-12-12-7 settlement"> <table class="table table-bordered table-condensed table-striped"> <tr> <th>结算信息</th> <th>优惠后工时金额</th> <th>优惠后材料金额</th> <th>优惠后其他金额</th> <th>优惠后总计金额</th> </tr> <tr> <td>客账</td> <td class="text-right">{{settleInfo.c_wage_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.c_part_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.c_other_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_c_after | moneyDefault}}</td> </tr> <tr> <td>内部账</td> <td class="text-right">{{settleInfo.i_wage_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.i_part_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.i_other_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_i_after | moneyDefault}}</td> </tr> <tr> <td>索赔账</td> <td class="text-right">{{settleInfo.w_wage_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.w_part_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.w_other_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_w_after | moneyDefault}}</td> </tr> <tr> <td>保险账</td> <td class="text-right">{{settleInfo.p_wage_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.p_part_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.p_other_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_p_after | moneyDefault}}</td> </tr> <tr> <td>合计</td> <td class="text-right">{{settleInfo.stat_wage_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_part_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_other_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_after | moneyDefault}}</td> </tr> </table> </div> <div class="col-12-6-3 settlement"> <table class="table table-bordered table-condensed table-striped"> <tr> <th colspan="2" class="text-center">客账收银信息</th> </tr> <tr> <td>现金</td> <td class="text-right">{{main.cash | moneyDefault}}</td> </tr> <tr> <td>支票</td> <td class="text-right">{{main.cheque | moneyDefault}}</td> </tr> <tr> <td>刷卡</td> <td class="text-right">{{main.card | moneyDefault}}</td> </tr> <tr> <td>代金券</td> <td class="text-right">{{main.voucher | moneyDefault}}</td> </tr> <tr> <td>当时挂账</td> <td class="text-right">{{main.sign_bill | moneyDefault}}</td> </tr> </table> </div> </div> </div>'),a.put("views/index/change-password.html",'<div> <mb-modal-header title="修改密码" alerts="alerts" cancel-click="cancel()"></mb-modal-header> <div class="modal-body body-sm"> <form class="form-horizontal" name="form" role="form" ng-submit="changePassword()"> <div class="form-group"> <div class="col-xs-11"> <input-combo type="password" idname="oldPassword" title="原密码" ng-model="password.old" ng-required="true"></input-combo> </div> </div> <div class="form-group"> <div class="col-xs-11"> <input-combo type="password" idname="newPassword" title="新密码" ng-model="password.new" ng-required="true"></input-combo> </div> </div> <div class="form-group"> <div class="col-xs-11"> <input-combo type="password" idname="confirmPassword" title="确认密码" ng-model="password.confirm" ng-required="true"></input-combo> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-sm btn-primary" ng-click="changePassword()" ng-disabled="form.$invalid" promise-btn="promise">确定</button> <button class="btn btn-sm btn-default" ng-click="cancel()">取消</button> </div> </div>'),a.put("views/index/login.html",'<div class="main-login"> <div class="logo"> <img src="images/logo2.dd9453ca.png" class="img-responsive center-block" alt="haima"><br> </div> <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3"> <div class="box-login"> <h3 class="text-center m-b-md">登 录</h3> <form class="form-horizontal" name="form" ng-submit="login()" role="form"> <div class="form-group"> <label for="username" class="sr-only">用户名</label> <div class="col-xs-12"> <span class="fa fa-user input-info-icon" aria-hidden="true"></span> <input type="text" name="username" id="username" placeholder="用户名" class="form-control padder-lg" ng-model="username" required uib-tooltip="用户名不能为空。" tooltip-enable="form.username.$invalid" tooltip-placement="bottom-left" auto-fill-sync> </div> </div> <div class="form-group"> <label for="password" class="sr-only">密码</label> <div class="col-xs-12"> <span class="fa fa-lock input-info-icon" aria-hidden="true"></span> <input type="password" name="password" id="password" placeholder="密码" class="form-control padder-lg" ng-model="password" required uib-tooltip="密码不能为空。" tooltip-enable="form.password.$invalid" tooltip-placement="bottom-left" auto-fill-sunc> </div> </div> <div class="form-group"> <div class="col-xs-12"> <p>请输入正确的用户名和密码登录本系统，如有遗失用户名或密码请与管理员联系。</p> </div> </div> <div class="form-group"> <div class="col-xs-8 col-xs-offset-2"> <button type="submit" ng-disabled="form.$invalid" class="btn btn-login" promise-btn="promise">登录</button> </div> </div> </form> </div> <div class="copyright"> <p>海马汽车有限公司 河南省郑州市航海东路第十七大街1689号</p> <p>电话：0371-67399591,0371-67399059</p> </div> </div> </div>'),a.put("views/index/query.html",'<div class="row sub-container private-query" ng-controller="QueryCtrl" cg-busy="promise"> <div class="div-btn-head"> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-disabled="form.$invalid" ng-click="query(true)">提交</button> <button type="button" class="btn btn-default" ng-disabled="form.$invalid" ng-click="exportExcel(this,0)">导出excel</button> <button type="button" class="btn btn-default" ng-disabled="form.$invalid" ng-click="exportExcel(this,1)">打印</button> <button type="button" class="btn btn-default" ng-click="refresh()">重置</button> </div> </div> <ng-form name="form" class="form-horizontal"> <uib-accordion close-others="false"> <div uib-accordion-group class="panel-default"> <uib-accordion-heading> <i class="pull-left fa fa-fw accordion-arrow"></i> <span class="w-full block">查询条件</span> </uib-accordion-heading> <div class="form-group"> <div class="col-12-6-3 div-inrow" ng-repeat="filter in filters track by $index"> <input-combo-r type="{{filter.type}}" title="{{filter.title}}" idname="{{filter.idname}}" err-msg="{{filter.errMsg}}" source-data="filter.sourceData" select-idx="{{filter.selectIdx}}" ng-model="filter.model" ng-required="filter.required"></input-combo-r> </div> </div> </div> </uib-accordion> <div class="form-group"> <div class="col-12-12-12"> <div class="panel-header"> <span class="control-label">{{tableTitle}}</span> </div> <div class="div-grid" ng-show="!loading && grid.rows && grid.rows.length > 0"> <table class="table table-bordered table-condensed table-striped table-report"> <tr ng-repeat="headRows in tableHead track by $index"> <th ng-repeat="row in headRows track by $index" colspan="{{row.colspan || 1}}" rowspan="{{row.rowspan || 1}}" class="{{row.align || center}}">{{row.title}}</th> </tr> <tr ng-repeat="row in grid.rows track by $index"> <td ng-repeat="cell in row track by cell.id">{{cell.value}}</td> </tr> </table> </div> <mb-pager></mb-pager> </div> </div> </ng-form> </div>'),
a.put("views/main.html",'<header> <div class="navbar navbar-default navbar-haima" role="navigation"> <div class="container-fluid"> <div class="navbar-header"> <!-- Brand and toggle get grouped for better mobile display --> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a href="#/welcome"><img src="images/logo.ec5c3823.png" class="img-responsive logo-haima" alt="haima"></a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="js-navbar-collapse"> <ul class="nav navbar-nav navbar-right"> <li ng-class="{\'active\':m.active}" ng-repeat="m in menu track by $index" ng-click="topMenuClick(m)"> <a href="#/">{{m.text}}</a> </li> <li data-toggle="dropdown" data-target="#js-customer-dropdown" aria-expanded="false" id="js-customer-dropdown"> <a ng-href="">{{currentUser.realname}} <span class="caret"></span> <span class="sr-only">Toggle Dropdown</span> </a> <ul class="dropdown-menu customer-dropdown"> <li> <a href="javascript:void(0);" ng-click="changePassword()">修改密码</a> </li> <li> <a href="javascript:void(0);" ng-click="logout()">注销</a> </li> <li role="separator" class="divider"></li> <li> <!-- <a href="" ng-click="setting()">设置</a> ng-click="isNewWindow=!isNewWindow"--> <a href="javascript:void(0);">弹窗 <input bs-switch type="checkbox" ng-model="isNewWindow" switch-active="true" switch-on-text="是" switch-off-text="否" switch-size="mini" switch-animate="false" switch-on-color="success" switch-off-color="default"></a> </li> </ul> </li> </ul> <div class="nav-menu-filter"> <span> <i class="fa fa-search"></i> </span> <input name="menuFilter" type="text" placeholder="快速搜索" ng-model="filter.menu"> <button type="button" class="close" ng-if="filter.menu" ng-click="filter.menu=\'\'"> <span aria-hidden="true">&times;</span> </button> </div> </div> </div> </div> </header> <div class="main-container"> <div class="navbar-content h-full"> <div class="main-navigation navbar-collapse h-full"> <div class="navigation-toggler" ng-click="navMenuToggle()"> <i class="fa fa-bars"></i> </div> <div class="main-navigation-menu"> <ul> <li ng-repeat="sMenu in secondMenu | filter : filter.menu" ng-class="{\'active\':sMenu.active, \'invisable\':sMenu.invisable}"> <a herf="" ng-click="toggleOpen(sMenu)" onselectstart="return false"> <i class="{{sMenu.icon}}"></i> <span class="title">{{sMenu.text}}</span> <i class="{{sMenu.open?\'fa fa-angle-down\':\'fa fa-angle-right\'}}"></i> </a> <ul class="sub-menu {{sMenu.open?\'\':\'collapse\'}}"> <li ng-repeat="tMenu in sMenu.children" ng-class="{\'active\':tMenu.active}"> <a ng-click="openMenu(tMenu.url,sMenu,tMenu);"> <span>{{tMenu.text}}</span> </a> <!-- <div ng-if="tMenu.children">\r\n                  <a herf="" ng-click="clearOpen(sMenu.children, tMenu);toggleOpen(tMenu);">\r\n                    <span>{{tMenu.text}}</span>\r\n                    <i class="{{tMenu.open?\'fa fa-angle-down\':\'fa fa-angle-right\'}}"></i>\r\n                  </a>\r\n                  <ul class="sub-menu {{tMenu.open?\'\':\'collapse\'}}">\r\n                    <li ng-repeat="fMenu in tMenu.children" ng-class="{\'active\':fMenu.active}">\r\n                      <a ng-click="openMenu(fMenu.url,sMenu,tMenu,fMenu);">{{fMenu.text}}</a>\r\n                    </li>\r\n                  </ul>\r\n                </div> --> </li> </ul> </li> </ul> </div> </div> <div class="main-content h-full" style="overflow: visible"> <ol class="breadcrumb"> <li ng-show="selMenu.sMenu"> <i class="{{selMenu.sMenu.icon}}"></i> <a href="">{{selMenu.sMenu.text}}</a> </li> <li ng-show="selMenu.tMenu"> <a href="">{{selMenu.tMenu.text}}</a> </li> <li ng-show="selMenu.fMenu" class="active">{{selMenu.fMenu.text}}</li> </ol> <uib-alert class="main-alert" dismiss-on-timeout="4000" ng-repeat="alert in mainAlert" type="{{alert.type}}" close="mainAlert.splice($index,1);">{{alert.code | translate:alert.param}}</uib-alert> <div class="second-view" ui-view></div> </div> </div> </div>'),a.put("views/template/complaint-form-include.html",'<form class="form-complaint" name="form"> <div class="form-group"> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="order_no">投诉单号</label> <div class="col-xs-7"> <input class="form-control" id="order_no" type="text" ng-model="main.order_no" disabled> </div> </div> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="comedate">档案编号</label> <div class="col-xs-7"> <input class="form-control" id="comedate" type="text" ng-model="main.comedate" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="p_incar">城市</label> <div class="col-xs-7"> <input class="form-control" id="p_incar" type="text" ng-model="main.p_incar" disabled> </div> </div> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="ordername">客户姓名</label> <div class="col-xs-7"> <input class="form-control" id="ordername" type="text" ng-model="main.ordername" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="p_incar">投诉时间</label> <div class="col-xs-7"> <input class="form-control" id="p_incar" type="text" ng-model="main.p_incar" disabled> </div> </div> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="ordername">需完成时间</label> <div class="col-xs-7"> <input class="form-control" id="ordername" type="text" ng-model="main.ordername" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="p_incar">联系方式</label> <div class="col-xs-7"> <input class="form-control" id="p_incar" type="text" ng-model="main.p_incar" disabled> </div> </div> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="ordername">车型</label> <div class="col-xs-7"> <input class="form-control" id="ordername" type="text" ng-model="main.ordername" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="p_incar">车身颜色</label> <div class="col-xs-7"> <input class="form-control" id="p_incar" type="text" ng-model="main.p_incar" disabled> </div> </div> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="ordername">车牌号</label> <div class="col-xs-7"> <input class="form-control" id="ordername" type="text" ng-model="main.ordername" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="p_incar">购车日期</label> <div class="col-xs-7"> <input class="form-control" id="p_incar" type="text" ng-model="main.p_incar" disabled> </div> </div> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="ordername">销售服务店(销售)</label> <div class="col-xs-7"> <input class="form-control" id="ordername" type="text" ng-model="main.ordername" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="p_incar">销售服务店(服务)</label> <div class="col-xs-7"> <input class="form-control" id="p_incar" type="text" ng-model="main.p_incar" disabled> </div> </div> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="ordername">行驶里程</label> <div class="col-xs-7"> <input class="form-control" id="ordername" type="text" ng-model="main.ordername" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-6"> <label class="control-label col-xs-5" for="p_incar">Vin码</label> <div class="col-xs-7"> <input class="form-control" id="p_incar" type="text" ng-model="main.p_incar" disabled> </div> </div> </div> </form> <div class="div-btn-head"> <a href="">TSHM150526009</a> </div>'),a.put("views/template/dropdown.html",'<label class="control-label {{labelClass? labelClass : \'col-xs-4\'}}" ng-if="!noLabel" ng-class="{ \'highlight\': ngRequired }" for="{{idname}}"> <span class="symbol" ng-class="{\'required\': ngRequired, \'ok\': ngRequired && form.$valid}"></span>{{title}} </label> <div class="{{inputClass ? inputClass : \'col-xs-8\'}}" ng-class="{ \'has-error\': form.$invalid && !ngDisabled }"> <div class="dropdown" ng-class="{\'open\': !ngDisabled && isShowDropdown}"> <div class="input-group"> <input type="text" class="form-control" id="{{idname}}" name="{{idname}}" placeholder="{{placeholder}}" onkeyup="if(event.keyCode===9)this.click()" autocomplete="off" ng-model="ngModel" ng-disabled="ngDisabled" ng-required="ngRequired" ng-pattern="ngPattern" ng-click="toggleDropDown()" uib-tooltip="{{errMsg}}" tooltip-enable="form.$invalid" tooltip-animation="false"> <div class="input-group-btn"> <button class="btn btn-default" ng-click="toggleDropDown()" ng-disabled="ngDisabled"> <i class="fa fa-angle-down"></i> </button> </div> </div> <p></p> <ul class="dropdown-menu"> <li role="menuitem" ng-repeat="item in sourceData | filter:ngModel"> <a href="" ng-click="dropdownSelect(item)"> {{item}} </a> </li> </ul> </div> </div>'),a.put("views/template/input-date-r.html",'<label class="control-label {{labelClass? labelClass : \'col-xs-4\'}}" for="{{idname}}"> <span class="symbol" ng-class="{\'required\': ngRequired, \'ok\': ngRequired && form.$valid}"></span>{{title}} </label> <div class="{{inputClass ? inputClass : \'col-xs-8\'}}" ng-class="{ \'has-error\': form.$invalid && !ngDisabled }"> <p class="input-group"><input type="text" class="form-control" id="{{idname}}" name="{{idname}}" uib-datepicker-popup="{{\'yyyy-MM-dd\'}}" alt-input-formats="[\'yyyy-M!-d!\']" placeholder="{{placeholder}}" ng-model="ngModel.value" ng-disabled="ngDisabled" ng-required="ngRequired" is-open="opened" uib-tooltip="{{errMsg}}" tooltip-enable="form.$invalid" tooltip-animation="false" clear-text="重置" current-text="今天" close-text="关闭"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="opened=true" ng-disabled="ngDisabled"> <i class="fa fa-calendar"></i> </button> </span> </p> </div>'),a.put("views/template/input-date.html",'<label class="control-label {{labelClass? labelClass : \'col-xs-4\'}}" ng-if="!noLabel" ng-class="{ \'highlight\': ngRequired }" for="{{idname}}"> <span class="symbol" ng-class="{\'required\': ngRequired, \'ok\': ngRequired && form.$valid}"></span>{{title}} </label> <div class="{{inputClass ? inputClass : \'col-xs-8\'}}" ng-class="{ \'has-error\': form.$invalid && !ngDisabled }"> <p class="input-group"><input type="text" class="form-control" id="{{idname}}" name="{{idname}}" uib-datepicker-popup="{{outputFormat ? outputFormat : \'yyyy-MM-dd\'}}" alt-input-formats="[\'yyyy-M!-d!\']" placeholder="{{placeholder}}" ng-model="ngModel" ng-disabled="ngDisabled" ng-required="ngRequired" is-open="opened" uib-tooltip="{{errMsg}}" tooltip-enable="form.$invalid" tooltip-animation="false" clear-text="重置" current-text="今天" close-text="关闭"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="opened=true" ng-disabled="ngDisabled"> <i class="fa fa-calendar"></i> </button> </span> </p> </div>'),a.put("views/template/input-dialog-r.html",'<label class="control-label {{labelClass? labelClass : \'col-xs-4\'}}" for="{{idname}}"> <span class="symbol" ng-class="{\'required\': ngRequired, \'ok\': ngRequired && form.$valid}"></span>{{title}} </label> <div class="{{inputClass ? inputClass : \'col-xs-8\'}} input-group"> <input class="form-control" id="{{idname}}" name="{{idname}}" type="text" ng-model="ngModel.value" ng-disabled="ngDisabled"> <div class="input-group-btn"> <button class="btn btn-default" ng-click="openModal()"> <i class="fa fa-search"></i> </button> </div> </div>'),a.put("views/template/input-dialog.html",'<label class="control-label {{labelClass? labelClass : \'col-xs-4\'}}" ng-if="!noLabel" ng-class="{ \'highlight\': ngRequired }" for="{{idname}}"> <span class="symbol" ng-class="{\'required\': ngRequired, \'ok\': ngRequired && form.$valid}"></span>{{title}} </label> <div class="{{inputClass ? inputClass : \'col-xs-8\'}} input-group" ng-class="{ \'has-error\': form.$invalid && !ngDisabled }"> <input class="form-control" id="{{idname}}" name="{{idname}}" type="text" ng-model="ngModel" ng-disabled="ngDisabled" ng-required="ngRequired" ng-pattern="ngPattern" ng-readonly="ngReadonly" placeholder="{{placeholder}}" uib-tooltip="{{errMsg}}" tooltip-enable="form.$invalid" tooltip-animation="false"> <div class="input-group-btn"> <button class="btn btn-default" ng-disabled="ngDisabled" ng-click="mbClick()"> <i class="{{sourceData? sourceData : \'fa fa-search\'}}"></i> </button> </div> </div>'),a.put("views/template/input-text-r.html",'<label class="control-label {{labelClass? labelClass : \'col-xs-4\'}}" for="{{idname}}"> <span class="symbol" ng-class="{\'required\': ngRequired, \'ok\': ngRequired && form.$valid}"></span>{{title}} </label> <div class="{{inputClass ? inputClass : \'col-xs-8\'}}" ng-class="{ \'has-error\': form.$invalid && !ngDisabled }"> <input class="form-control" id="{{idname}}" name="{{idname}}" type="{{type}}" ng-model="ngModel.value" ng-disabled="ngDisabled" ng-required="ngRequired" uib-tooltip="{{errMsg}}" tooltip-enable="form.$invalid" tooltip-animation="false"> </div>'),a.put("views/template/input-text.html",'<label class="control-label {{labelClass? labelClass : \'col-xs-4\'}}" ng-if="!noLabel" ng-class="{ \'highlight\': ngRequired }" for="{{idname}}"> <span class="symbol" ng-class="{\'required\': ngRequired, \'ok\': ngRequired && form.$valid}"></span>{{title}} </label> <div class="{{inputClass ? inputClass : \'col-xs-8\'}}" ng-class="{ \'has-error\': form.$invalid && !ngDisabled }"> <input class="form-control" id="{{idname}}" name="{{idname}}" type="{{type}}" maxlength="{{maxlength}}" placeholder="{{placeholder}}" ng-model="ngModel" ng-disabled="ngDisabled" ng-readonly="ngReadonly" ng-required="ngRequired" ng-pattern="ngPattern" ng-change="ngChange()" ng-focus="ngFocus()" ng-blur="ngBlur()" uib-tooltip="{{errMsg}}" tooltip-enable="form.$invalid" tooltip-animation="false"> </div>'),a.put("views/template/input-textarea.html",'<label class="control-label {{labelClass? labelClass : \'col-xs-4\'}}" ng-if="!noLabel" ng-class="{ \'highlight\': ngRequired }" for="{{idname}}"> <span class="symbol" ng-class="{\'required\': ngRequired, \'ok\': ngRequired && form.$valid}"></span>{{title}} </label> <div class="{{inputClass ? inputClass : \'col-xs-8\'}}" ng-class="{ \'has-error\': form.$invalid && !ngDisabled }"> <textarea class="form-control" id="{{idname}}" name="{{idname}}" placeholder="" maxlength="{{maxlength}}" rows="{{rows}}" ng-model="ngModel" ng-disabled="ngDisabled" ng-required="ngRequired" ng-pattern="ngPattern" ng-change="ngChange()" ng-focus="ngFocus()" ng-blur="ngBlur()" uib-tooltip="{{errMsg}}" tooltip-enable="form.$invalid" tooltip-animation="false"></textarea> </div>'),a.put("views/template/loading.html",'<div class="grid-msg-overlay"> <div class="msg"> <span>{{$message}}<i class="fa fa-spin fa-spinner"></i> </span> <!-- <span>{{$message}}<br>\r\n      <i class="fa fa-fighter-jet move-right"></i>\r\n    </span> --> </div> </div>'),a.put("views/template/mb-modal-header.html",'<div class="modal-header"> <h4 class="modal-title">{{title}}</h4> <uib-alert class="modal-alert" dismiss-on-timeout="5000" ng-repeat="alert in alerts" type="{{alert.type}}" close="alerts.splice($index,1);">{{alert.code | translate:alert.param}} </uib-alert> <div class="close" ng-click="cancelClick()"> <i class="fa fa-times"></i> </div> </div>'),a.put("views/template/mb-pager.html",'<div class="div-pager" ng-show="grid.rows && grid.rows.length > 0"> <select ng-model="numPerPage" ng-options="page for page in pageList"></select> <ul uib-pagination boundary-links="true" total-items="totalItems" num-pages="numPages" items-per-page="numPerPage" force-ellipses="true" max-size="5" ng-model="currentPage" ng-change="query()" ng-disabled="loading" class="pagination-sm" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"></ul> <input type="text" ng-model="toPage" ng-pattern="pattern.nnInt" ng-keypress="gotoPage($event, toPage)"> <label>/{{numPages}}页</label> <span>显示{{1+(currentPage-1)*numPerPage}}到{{currentPage===numPages?totalItems:currentPage*numPerPage}}，共{{totalItems}}条记录</span> </div>'),a.put("views/template/reception-form.html",'<form class="form-horizontal" name="form"> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="order_no">工单号</label> <div class="col-xs-8"> <input class="form-control" id="order_no" type="text" ng-model="main.order_no" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="comedate">进厂时间</label> <div class="col-xs-8"> <input class="form-control" id="comedate" type="text" ng-model="main.comedate" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="p_incar">预计交车</label> <div class="col-xs-8"> <input class="form-control" id="p_incar" type="text" ng-model="main.p_incar" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="ordername">服务顾问</label> <div class="col-xs-8"> <input class="form-control" id="ordername" type="text" ng-model="main.ordername" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="username">车主姓名</label> <div class="col-xs-8"> <input class="form-control" id="username" type="text" ng-model="main.username" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="sendname">送修人</label> <div class="col-xs-8"> <input class="form-control" id="sendname" type="text" ng-model="main.sendname" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="phone">移动电话</label> <div class="col-xs-8"> <input class="form-control" id="phone" type="text" ng-model="main.phone" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="vip">会员类别</label> <div class="col-xs-8"> <input class="form-control" id="vip" type="text" ng-model="main.vip" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="plate_no">牌照号码</label> <div class="col-xs-8"> <input class="form-control" id="plate_no" type="text" ng-model="main.plate_no" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="buydate">购车日期</label> <div class="col-xs-8"> <input class="form-control" id="buydate" type="text" ng-model="main.buydate" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="vin">VIN</label> <div class="col-xs-8"> <input class="form-control" id="vin" type="text" ng-model="main.vin" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="engine_no">发动机号</label> <div class="col-xs-8"> <input class="form-control" id="engine_no" type="text" ng-model="main.engine_no" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="brand">品牌</label> <div class="col-xs-8"> <input class="form-control" id="brand" type="text" ng-model="main.brand" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="modelcode">车型</label> <div class="col-xs-8"> <input class="form-control" id="modelcode" type="text" ng-model="main.modelcode" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="color">颜色</label> <div class="col-xs-8"> <input class="form-control" id="color" type="text" ng-model="main.color" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="insurancecompany">保险公司</label> <div class="col-xs-8"> <input class="form-control" id="insurancecompany" type="text" ng-model="main.insurancecompany" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="mileage">进厂里程</label> <div class="col-xs-8"> <input class="form-control" id="mileage" type="text" ng-model="main.mileage" disabled> </div> </div> <div class="col-12-6-3"> <input-combo type="dropdown" title="剩余油量" idname="oil" ng-model="main.oil" ng-disabled="true"></input-combo> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="lastintofactory">上次进厂</label> <div class="col-xs-8"> <input class="form-control" id="lastintofactory" type="text" ng-model="main.lastintofactory" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="car_state_name">车辆状态</label> <div class="col-xs-8"> <input class="form-control" id="car_state_name" type="text" ng-model="main.car_state_name" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="type">业务类别</label> <div class="col-xs-8"> <input class="form-control" id="type" type="text" ng-model="main.type" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="p_collection">预收款</label> <div class="col-xs-8"> <input class="form-control" id="p_collection" type="text" ng-model="main.p_collection" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="ordernum">预约单号</label> <div class="col-xs-8"> <input class="form-control" id="ordernum" type="text" ng-model="main.ordernum" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="ap">预修</label> <div class="col-xs-8 checkbox"> <input bs-switch type="checkbox" id="ap" name="ap" ng-model="main.isAp" switch-active="false" switch-on-text="是" switch-off-text="否" switch-size="mini" switch-animate="false" switch-on-color="success" switch-off-color="default"> </div> </div> </div> <div class="form-group"> <label class="control-label col-4-2-1" for="checks">环检记录</label> <div class="col-8-4-8"> <input class="form-control" id="checks" type="text" ng-model="main.checks" disabled> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="washcar">洗车服务</label> <div class="col-xs-8"> <input bs-switch type="checkbox" id="washcar" name="washcar" ng-model="main.isWashcar" switch-active="false" switch-on-text="是" switch-off-text="否" switch-size="mini" switch-animate="false" switch-on-color="success" switch-off-color="default"> </div> </div> </div> <div class="form-group"> <label class="control-label col-4-2-1" for="centent">顾客陈述</label> <div class="col-8-4-8"> <input class="form-control" id="centent" type="text" ng-model="main.centent" disabled> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="olddeal">旧件处理</label> <div class="col-xs-8"> <input bs-switch type="checkbox" id="olddeal" name="olddeal" ng-model="main.isOlddeal" switch-active="false" switch-on-text="带走" switch-off-text="丢弃" switch-size="mini" switch-animate="false" switch-on-color="success" switch-off-color="default"> </div> </div> </div> <div class="form-group"> <label class="control-label col-4-2-1" for="note">备注</label> <div class="col-8-10-11"> <input class="form-control" id="note" type="text" ng-model="main.note" disabled> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-4-4-6" for="out_space_start">外出服务地点（起）</label> <div class="col-8-8-6"> <input class="form-control" id="out_space_start" type="text" ng-model="main.out_space_start" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-4-4-6" for="out_space_end">外出服务地点（止）</label> <div class="col-8-8-6"> <input class="form-control" id="out_space_end" type="text" ng-model="main.out_space_end" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="out_mileage">外出服务里程</label> <div class="col-xs-8"> <input class="form-control" id="out_mileage" type="text" ng-model="main.out_mileage" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="out_price">外出服务费用</label> <div class="col-xs-8"> <input class="form-control" id="out_price" type="text" ng-model="main.out_price" disabled> </div> </div> </div> <uib-tabset active="active" class="uib-common"> <uib-tab index="0" heading="诊断记录" class=""> <div class="mb-grid"> <div class="div-grid-xs"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>故障代码</th> <th>故障现象</th> <th>检测代码</th> <th>检测名称</th> <th>是否拆检</th> <th>拆检人</th> <th>拆检时间</th> <th>服务顾问</th> <th>是否厂家(HMC/haima)支持</th> <th>是否车间检查</th> <th>是否路试</th> <th>路试人</th> <th>路试时间</th> <th>记录人</th> <th>记录时间</th> <th>建议维修项目代码</th> <th>项目名称</th> </tr> <tr ng-repeat="row in data.diagnoseRecords track by $index"> <td>{{$index+1}}</td> <td>{{row.fault_code}}</td> <td>{{row.fault_phenomenon}}</td> <td>{{row.detect_code}}</td> <td>{{row.detect_name}}</td> <td>{{row.is_detect}}</td> <td>{{row.detect_man}}</td> <td>{{row.detect_time}}</td> <td>{{row.service_adviser}}</td> <td>{{row.is_support}}</td> <td>{{row.is_check}}</td> <td>{{row.is_road}}</td> <td>{{row.road_man}}</td> <td>{{row.road_time}}</td> <td>{{row.record_man}}</td> <td>{{row.record_time}}</td> <td>{{row.suggest_project_code}}</td> <td>{{row.project_name}}</td> </tr> </table> </div> </div> </uib-tab> <uib-tab index="1" heading="维修项目" class=""> <div class="mb-grid"> <div class="div-grid-xs"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>项目代码</th> <th>项目名称</th> <th>工种</th> <th>账类</th> <th>工时</th> <th>工时单价</th> <th>优惠前工时金额</th> <th>工时*单价</th> <th>折扣</th> <th>优惠后工时金额</th> <th>保险比例</th> <th>项目类别</th> </tr> <tr ng-repeat="row in data.maintItems track by $index"> <td>{{$index+1}}</td> <td>{{row.project_code}}</td> <td>{{row.project_name}}</td> <td>{{row.work_type | codeMasterFilter : \'work_type\'}}</td> <td>{{row.account_type}}</td> <td>{{row.work_time}}</td> <td>{{row.work_time_price}}</td> <td>{{row.before_money}}</td> <td>{{row.is_time_price | codeMasterFilter : \'binary\'}}</td> <td>{{row.discount}}</td> <td>{{row.after_money}}</td> <td>{{row.insure_scale}}</td> <td>{{row.project_type}}</td> </tr> </table> </div> </div> </uib-tab> <uib-tab index="2" heading="需求配件" class=""> <div class="mb-grid"> <div class="div-grid-xs"> <table class="table table-bordered table-condensed table-striped"> <tr> <th>序号</th> <th>项目代码</th> <th>项目名称</th> <th>配件编码</th> <th>配件名称</th> <th>车型</th> <th>账类</th> <th>需求数量</th> <th>单位</th> <th>销售单价</th> <th>折扣</th> <th>保险比例</th> <th>优惠后金额</th> <th>备注</th> <th>领料数量</th> <th>可售数量</th> <th>库存预留</th> <th>预留说明</th> <th>实际库存</th> <th>缺货数量</th> <th>需求单号</th> <th>原厂标准</th> <th>出库单号</th> <th>套餐代码</th> </tr> <tr ng-repeat="row in data.partsItems track by $index"> <td>{{$index+1}}</td> <td>{{row.project_code}}</td> <td>{{row.project_name}}</td> <td>{{row.parts_code}}</td> <td>{{row.parts_name}}</td> <td>{{row.car_type}}</td> <td>{{row.account_type}}</td> <td>{{row.need_num}}</td> <td>{{row.unit}}</td> <td>{{row.sale_price}}</td> <td>{{row.discount}}</td> <td>{{row.insure_scale}}</td> <td>{{row.project_code}}</td> <td>{{row.remark}}</td> <td>{{row.material_num}}</td> <td>{{row.sale_num}}</td> <td>{{row.reverse_num}}</td> <td>{{row.reverse_remark}}</td> <td>{{row.real_stock_num}}</td> <td>{{row.shortage_num}}</td> <td>{{row.need_no}}</td> <td>{{row.original_standard}}</td> <td>{{row.out_no}}</td> <td>{{row.combo_code}}</td> </tr> </table> </div> </div> </uib-tab> <uib-tab index="3" heading="领用配件" class=""> <div class="mb-grid"> <div class="div-grid-xs"> <table class="table table-bordered table-condensed table-striped table-has-header"> <tr> <th>序号</th> <th>配件编码</th> <th>配件名称</th> <th>车型</th> <th>规格</th> <th>帐类</th> <th>领料数量</th> <th>单位</th> <th>销售单价</th> <th>折扣</th> <th>保险比例</th> <th>优惠后金额</th> <th>出库日期</th> <th>出库单号</th> <th>领料员</th> <th>原厂标准</th> <th>项目代码</th> <th>项目名称</th> </tr> <tr ng-repeat="row in data.receiveItems track by $index"> <td>{{$index+1}}</td> <td>{{row.sn}}</td> <td>{{row.cn_name}}</td> <td>{{row.fit_car_type}}</td> <td>{{row.spec}}</td> <td>{{row.account_type}}</td> <td>{{row.f6}}</td> <td>{{row.unit}}</td> <td>{{row.sale_price}}</td> <td>{{row.discount}}</td> <td>{{row.f10}}</td> <td>{{row.f11}}</td> <td>{{row.f12}}</td> <td>{{row.f13}}</td> <td>{{row.f14}}</td> <td>{{row.f15}}</td> <td>{{row.item_code}}</td> <td>{{row.item_name}}</td> </tr> </table> </div> </div> </uib-tab> <uib-tab index="4" heading="附加项目" class=""> <div class="mb-grid"> <div class="div-grid-xs"> <table class="table table-bordered table-condensed table-striped"> <tr> <th>序号</th> <th>项目代码</th> <th>项目名称</th> <th>项目类别</th> <th>帐类</th> <th>班组</th> <th>金额</th> <th>折扣</th> </tr> <tr ng-repeat="row in data.appendItems track by $index"> <td>{{$index+1}}</td> <td>{{row.project_code}}</td> <td>{{row.project_name}}</td> <td>{{row.project_type}}</td> <td>{{row.account_type}}</td> <td>{{row.team}}</td> <td>{{row.before_money}}</td> <td>{{row.discount}}</td> </tr> </table> </div> </div> </uib-tab> <uib-tab index="5" heading="建议维修项目" class=""> <div class="mb-grid"> <div class="div-grid-xs"> <table class="table table-bordered table-condensed table-striped"> <tr> <th>序号</th> <th>项目代码</th> <th>项目名称</th> <th>工种</th> <th>帐类</th> <th>工时</th> <th>工时单价</th> <th>工时金额</th> <th>备注</th> </tr> <tr ng-repeat="row in data.suggestItems track by $index"> <td>{{$index+1}}</td> <td>{{row.project_code}}</td> <td>{{row.project_name}}</td> <td>{{row.work_type | codeMasterFilter : \'work_type\'}}</td> <td>{{row.account_type}}</td> <td>{{row.work_time}}</td> <td>{{row.work_price}}</td> <td>{{row.work_amount}}</td> <td>{{row.remark}}</td> </tr> </table> </div> </div> </uib-tab> <uib-tab index="6" heading="其他信息" class=""> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="user_id">车主证件号</label> <div class="col-xs-8"> <input class="form-control" id="user_id" type="text" ng-model="other.user_id" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="complation_date">竣工日期</label> <div class="col-xs-8"> <input class="form-control" id="complation_date" type="text" ng-model="other.complation_date" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="cash_date">收银日期</label> <div class="col-xs-8"> <input class="form-control" id="cash_date" type="text" ng-model="other.cash_date" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="is_change_mileage">是否更换里程表</label> <div class="col-xs-8"> <input bs-switch type="checkbox" id="is_change_mileage" ng-model="other.isChangeMileage" switch-active="false" switch-on-text="是" switch-off-text="否" switch-size="mini" switch-animate="false" switch-on-color="success" switch-off-color="default"> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="enter_way">进厂方式</label> <div class="col-xs-8"> <input class="form-control" id="enter_way" type="text" ng-model="other.enter_way" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="complation_man">竣工人</label> <div class="col-xs-8"> <input class="form-control" id="complation_man" type="text" ng-model="other.complation_man" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="cashier">收银人</label> <div class="col-xs-8"> <input class="form-control" id="cashier" type="text" ng-model="other.cashier" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="is_explain_user">是否向顾客解释</label> <div class="col-xs-8"> <input bs-switch type="checkbox" id="is_explain_user" ng-model="other.isExplainUser" switch-active="false" switch-on-text="是" switch-off-text="否" switch-size="mini" switch-animate="false" switch-on-color="success" switch-off-color="default"> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="user_type">客户种类</label> <div class="col-xs-8"> <input class="form-control" id="user_type" type="text" ng-model="other.user_type" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="account_date">结算日期</label> <div class="col-xs-8"> <input class="form-control" id="account_date" type="text" ng-model="other.account_date" ng-disabled="true"> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="cash_list_num">收银单号</label> <div class="col-xs-8"> <input class="form-control" id="cash_list_num" type="text" ng-model="other.cash_list_num" ng-disabled="true"> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="is_show_old">是否展示旧件</label> <div class="col-xs-8"> <input bs-switch type="checkbox" id="is_show_old" ng-model="other.isShowOld" switch-active="false" switch-on-text="是" switch-off-text="否" switch-size="mini" switch-animate="false" switch-on-color="success" switch-off-color="default"> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="brand">厂牌</label> <div class="col-xs-8"> <input class="form-control" id="brand" type="text" ng-model="other.brand" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="account_man">结算人</label> <div class="col-xs-8"> <input class="form-control" id="account_man" type="text" ng-model="other.account_man" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="bill_num">发票号码</label> <div class="col-xs-8"> <input class="form-control" id="bill_num" type="text" ng-model="other.bill_num" disabled> </div> </div> </div> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="theory_date">理论交车时间</label> <div class="col-xs-8"> <input class="form-control" id="theory_date" type="text" ng-model="other.theory_date" disabled> </div> </div> <div class="col-12-6-3"> <label class="control-label col-xs-4" for="leave_mileage">出厂里程</label> <div class="col-xs-8"> <input class="form-control" id="leave_mileage" type="text" ng-model="other.leave_mileage" disabled> </div> </div> </div> </uib-tab> <uib-tab index="7" heading="三包信息" class=""> <div class="form-group"> <div class="col-12-6-3"> <label class="control-label" for="three_fault_describe">三包故障描述</label> <div> <input class="form-control" id="three_fault_describe" type="text" ng-model="main.three_fault_describe" disabled> </div> </div> </div> <div class="form-group"> <div> <label class="control-label" for="three_check_result">三包检查结果</label> <textarea class="form-control" id="three_check_result" rows="6" ng-model="main.three_check_result" disabled></textarea> </div> </div> <div class="form-group"> <div class="col-12-6-4"> <label class="control-label col-xs-4" for="checks">是否交通补偿</label> <div class="col-xs-2"> <select class="form-control" id="is_traffic_offset" ng-model="main.is_traffic_offset" ng-options="obj.code as obj.value for obj in codeMaster.commonFlg" disabled></select> </div> <div class="col-xs-6"> <select class="form-control" id="offset_type" ng-model="main.offset_type" ng-options="obj.code as obj.value for obj in codeMaster.offset_type" disabled></select> </div> </div> </div> </uib-tab> </uib-tabset> <div class="form-group mb-grid"> <div class="col-12-12-7 settlement"> <table class="table table-bordered table-condensed table-striped"> <tr> <th>结算信息</th> <th>优惠后工时金额</th> <th>优惠后材料金额</th> <th>优惠后其他金额</th> <th>优惠后总计金额</th> </tr> <tr> <td>客账</td> <td class="text-right">{{settleInfo.c_wage_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.c_part_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.c_other_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_c_after | moneyDefault}}</td> </tr> <tr> <td>内部账</td> <td class="text-right">{{settleInfo.i_wage_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.i_part_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.i_other_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_i_after | moneyDefault}}</td> </tr> <tr> <td>索赔账</td> <td class="text-right">{{settleInfo.w_wage_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.w_part_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.w_other_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_w_after | moneyDefault}}</td> </tr> <tr> <td>保险账</td> <td class="text-right">{{settleInfo.p_wage_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.p_part_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.p_other_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_p_after | moneyDefault}}</td> </tr> <tr> <td>合计</td> <td class="text-right">{{settleInfo.stat_wage_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_part_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_other_after | moneyDefault}}</td> <td class="text-right">{{settleInfo.stat_after | moneyDefault}}</td> </tr> </table> </div> <div class="col-12-6-3 settlement"> <table class="table table-bordered table-condensed table-striped"> <tr> <th colspan="2" class="text-center">客账收银信息</th> </tr> <tr> <td>现金</td> <td class="text-right">{{main.cash | moneyDefault}}</td> </tr> <tr> <td>支票</td> <td class="text-right">{{main.cheque | moneyDefault}}</td> </tr> <tr> <td>刷卡</td> <td class="text-right">{{main.card | moneyDefault}}</td> </tr> <tr> <td>代金券</td> <td class="text-right">{{main.voucher | moneyDefault}}</td> </tr> <tr> <td>当时挂账</td> <td class="text-right">{{main.sign_bill | moneyDefault}}</td> </tr> </table> </div> </div> </form>'),
a.put("views/template/select-r.html",'<label class="control-label {{labelClass? labelClass : \'col-xs-4\'}}" for="{{idname}}"> <span class="symbol" ng-class="{\'required\': ngRequired, \'ok\': ngRequired && form.$valid}"></span>{{title}} </label> <div class="{{inputClass ? inputClass : \'col-xs-8\'}} input-group"> <select class="form-control" id="{{idname}}" name="{{idname}}" ng-model="ngModel.value" ng-init="ngModel.value = ngModel.value || sourceData[0]" ng-options="o.value for o in sourceData track by o.id" ng-disabled="ngDisabled"></select> </div>'),a.put("views/template/select.html",'<label class="control-label {{labelClass? labelClass : \'col-xs-4\'}}" ng-if="!noLabel" ng-class="{ \'highlight\': ngRequired }" for="{{idname}}"> <span class="symbol" ng-class="{\'required\': ngRequired, \'ok\': ngRequired && form.$valid}"></span>{{title}} </label> <div class="{{inputClass ? inputClass : \'col-xs-8\'}} input-group" ng-class="{ \'has-error\': form.$invalid && !ngDisabled }"> <select class="form-control" id="{{idname}}" name="{{idname}}" ng-model="ngModel" ng-options="{{options}}" ng-change="ngChange()" ng-disabled="ngDisabled" ng-required="ngRequired" uib-tooltip="{{errMsg}}" tooltip-enable="form.$invalid" tooltip-animation="false"></select> </div>'),a.put("views/template/switch.html",'<label class="control-label {{labelClass? labelClass : \'col-xs-4\'}}" ng-if="!noLabel" ng-class="{ \'highlight\': ngRequired }" for="{{idname}}"> <span class="symbol" ng-class="{\'required\': ngRequired, \'ok\': ngRequired && form.$valid}"></span>{{title}} </label> <div class="{{inputClass ? inputClass : \'col-xs-8\'}}" ng-class="{ \'has-error\': form.$invalid && !ngDisabled }"> <input bs-switch id="{{idname}}" name="{{idname}}" type="checkbox" ng-model="ngModel" switch-active="{{!ngDisabled}}" switch-on-text="是" switch-off-text="否" switch-size="mini" switch-animate="false" switch-on-color="success" switch-off-color="default" uib-tooltip="{{errMsg}}" tooltip-enable="form.$invalid" tooltip-animation="false"> </div>'),a.put("views/welcome.html",'<div class="jumbotron"> <hello></hello> <p class="lead"> <br> <img src="images/logo.ec5c3823.png" alt="haima"><br> <br> <br> <!-- <hello-transclude>\r\n      <br/>\r\n      <span>这里是transclude内部</span>\r\n    </hello-transclude>\r\n    <br>\r\n    <accordion>\r\n'+"      <expander class='expander' ng-repeat='expander in expanders' expander-title='expander.title'>\r\n        {{expander.text}}\r\n      </expander>\r\n    </accordion> --> <br> </p> </div>")}]);